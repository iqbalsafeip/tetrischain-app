(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[807],{3807:function(t,n,i){"use strict";i.r(n),i.d(n,{BUTTON_POSITION:function(){return e3},LOGIN_PROVIDER:function(){return e6},PAYMENT_PROVIDER:function(){return e4},TORUS_BUILD_ENV:function(){return e8},TorusInPageProvider:function(){return TorusInPageProvider},default:function(){return Torus}});var o,s,a,l,d,c,p,g,b,m,y,w={};function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function defineProperty_defineProperty(t,n,i){var o;return(o=function(t,n){if("object"!=_typeof(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,n||"default");if("object"!=_typeof(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(n,"string"),(n="symbol"==_typeof(o)?o:o+"")in t)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function ownKeys(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,o)}return i}function _objectSpread2(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(i),!0).forEach(function(n){defineProperty_defineProperty(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}i.r(w),i.d(w,{gk:function(){return utils_abytes},dQ:function(){return bitMask},ci:function(){return abstract_utils_bytesToHex},bytesToNumberBE:function(){return utils_bytesToNumberBE},ty:function(){return utils_bytesToNumberLE},eV:function(){return abstract_utils_concatBytes},n$:function(){return createHmacDrbg},ql:function(){return utils_ensureBytes},hexToBytes:function(){return abstract_utils_hexToBytes},_t:function(){return abstract_utils_isBytes},tL:function(){return utils_numberToBytesBE},S5:function(){return numberToBytesLE},FF:function(){return validateObject}});var _=i(9917),v=i(9827),S=i(4445),A=i.n(S),P=i(7187),T=i(2840),R=i.n(T),O=i(778),N=i.n(O),B=i(4286),M=i.n(B);function noop(){}let BasePostMessageStream=class BasePostMessageStream extends v.Duplex{constructor(t){let{name:n,target:i,targetWindow:o=window,targetOrigin:s="*"}=t;if(super({objectMode:!0}),defineProperty_defineProperty(this,"_init",void 0),defineProperty_defineProperty(this,"_haveSyn",void 0),defineProperty_defineProperty(this,"_name",void 0),defineProperty_defineProperty(this,"_target",void 0),defineProperty_defineProperty(this,"_targetWindow",void 0),defineProperty_defineProperty(this,"_targetOrigin",void 0),defineProperty_defineProperty(this,"_onMessage",void 0),defineProperty_defineProperty(this,"_synIntervalId",void 0),!n||!i)throw Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=n,this._target=i,this._targetWindow=o,this._targetOrigin=s,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write("BRK",null,noop),this._haveSyn=!1,this._init=!1}_handShake(){this._write("SYN",null,noop),this.cork()}_onData(t){if(this._init){if("BRK"===t)this._break();else try{this.push(t)}catch(t){this.emit("error",t)}}else"SYN"===t?(this._haveSyn=!0,this._write("ACK",null,noop)):"ACK"===t&&(this._init=!0,this._haveSyn||this._write("ACK",null,noop),this.uncork())}_postMessage(t){let n=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:t},n)}onMessage(t){let n=t.data;("*"===this._targetOrigin||t.origin===this._targetOrigin)&&t.source===this._targetWindow&&"object"==typeof n&&n.target===this._name&&n.data&&this._onData(n.data)}_read(){}_write(t,n,i){this._postMessage(t),i()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}};let I={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};function isValidCode(t){return Number.isInteger(t)}function isValidString(t){return"string"==typeof t&&t.length>0}function isObject(t){return!!t&&"object"==typeof t&&!Array.isArray(t)}function isJsonRpcError(t){return!!(t&&isValidCode(t.code)&&isValidString(t.message)&&(!t.stack||isValidString(t.stack)))}let x={code:-32603,message:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unspecified error message. This is a bug, please report it.";if(isValidCode(t)){let n=t.toString();if(Object.hasOwn(I,n))return I[n].message;if(t>=-32099&&t<=-32e3)return"Unspecified server error."}return n}(-32603)};function isValidJson(t){try{JSON.parse(JSON.stringify(t,(t,n)=>{if("__proto__"===t||"constructor"===t||"function"==typeof n||"symbol"==typeof n)throw Error("Not valid json");return n}),(t,n)=>{if("__proto__"!==t&&"constructor"!==t)return n})}catch(t){return!1}return!0}function serializeObject(t){return Object.getOwnPropertyNames(t).reduce((n,i)=>{let o=t[i];return isValidJson(o)&&(n[i]=o),n},{})}function serializeError(t){let{fallbackError:n=x,shouldIncludeStack:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!isJsonRpcError(n))throw Error("Must provide fallback error with integer number code and string message.");let o=function(t,n){if(t&&"object"==typeof t&&"serialize"in t&&"function"==typeof t.serialize)return t.serialize();if(isJsonRpcError(t))return t;let i=Array.isArray(t)?t.map(t=>isValidJson(t)?t:isObject(t)?serializeObject(t):null):isObject(t)?serializeObject(t):isValidJson(t)?t:null,o=_objectSpread2(_objectSpread2({},n),{},{data:{cause:i}});return o}(t,n);return i||delete o.stack,o}function safeApply(t,n,i){try{Reflect.apply(t,n,i)}catch(t){setTimeout(()=>{throw t})}}let openloginJrpc_esm_SafeEventEmitter=class openloginJrpc_esm_SafeEventEmitter extends P.EventEmitter{emit(t){let n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;for(var o=arguments.length,s=Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if(n){let t;if(s.length>0&&([t]=s),t instanceof Error)throw t;let n=Error(`Unhandled error.${t?` (${t.message})`:""}`);throw n.context=t,n}let l=i[t];if(void 0===l)return!1;if("function"==typeof l)safeApply(l,this,s);else{let t=l.length,n=function(t){let n=t.length,i=Array(n);for(let o=0;o<n;o+=1)i[o]=t[o];return i}(l);for(let i=0;i<t;i+=1)safeApply(n[i],this,s)}return!0}};let SerializableError=class SerializableError extends Error{constructor(t){let{code:n,message:i,data:o}=t;if(!Number.isInteger(n))throw Error("code must be an integer");if(!i||"string"!=typeof i)throw Error("message must be string");super(i),defineProperty_defineProperty(this,"code",void 0),defineProperty_defineProperty(this,"data",void 0),this.code=n,void 0!==o&&(this.data=o)}toString(){return A()({code:this.code,message:this.message,data:this.data,stack:this.stack})}};let getRpcPromiseCallback=function(t,n){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return(o,s)=>{o||s.error?n(o||s.error):!i||Array.isArray(s)?t(s):t(s.result)}};let openloginJrpc_esm_JRPCEngine=class openloginJrpc_esm_JRPCEngine extends openloginJrpc_esm_SafeEventEmitter{constructor(){super(),defineProperty_defineProperty(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(t,n,i){let o=[],s=null,a=!1;for(let l of i)if([s,a]=await openloginJrpc_esm_JRPCEngine._runMiddleware(t,n,l,o),a)break;return[s,a,o.reverse()]}static _runMiddleware(t,n,i,o){return new Promise(s=>{let end=t=>{let i=t||n.error;i&&("object"==typeof i&&!1===Object.keys(i).includes("stack")&&(i.stack="Stack trace is not available."),n.error=serializeError(i,{shouldIncludeStack:!0,fallbackError:{message:(null==i?void 0:i.message)||(null==i?void 0:i.toString()),code:(null==i?void 0:i.code)||-32603,stack:(null==i?void 0:i.stack)||"Stack trace is not available.",data:(null==i?void 0:i.data)||(null==i?void 0:i.message)||(null==i?void 0:i.toString())}})),s([i,!0])};try{i(t,n,t=>{n.error?end(n.error):(t&&("function"!=typeof t&&end(new SerializableError({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),o.push(t)),s([null,!1]))},end)}catch(t){end(t)}})}static async _runReturnHandlers(t){for(let n of t)await new Promise((t,i)=>{n(n=>n?i(n):t())})}static _checkForCompletion(t,n,i){if(!("result"in n)&&!("error"in n))throw new SerializableError({code:-32603,message:"Response has no error or result for request"});if(!i)throw new SerializableError({code:-32603,message:"Nothing ended request"})}push(t){this._middleware.push(t)}handle(t,n){if(n&&"function"!=typeof n)throw Error('"callback" must be a function if provided.');return Array.isArray(t)?n?this._handleBatch(t,n):this._handleBatch(t):n?this._handle(t,n):this._promiseHandle(t)}asMiddleware(){return async(t,n,i,o)=>{try{let[s,a,l]=await openloginJrpc_esm_JRPCEngine._runAllMiddleware(t,n,this._middleware);if(a)return await openloginJrpc_esm_JRPCEngine._runReturnHandlers(l),o(s);return i(async t=>{try{await openloginJrpc_esm_JRPCEngine._runReturnHandlers(l)}catch(n){return t(n)}return t()})}catch(t){return o(t)}}}async _handleBatch(t,n){try{let i=await Promise.all(t.map(this._promiseHandle.bind(this)));if(n)return n(null,i);return i}catch(t){if(n)return n(t);throw t}}_promiseHandle(t){return new Promise((n,i)=>{this._handle(t,(t,o)=>{t&&void 0===o?i(t):n(o)}).catch(i)})}async _handle(t,n){if(!t||Array.isArray(t)||"object"!=typeof t){let t=new SerializableError({code:-32603,message:"request must be plain object"});return n(t,{id:void 0,jsonrpc:"2.0",error:t})}if("string"!=typeof t.method){let i=new SerializableError({code:-32603,message:"method must be string"});return n(i,{id:t.id,jsonrpc:"2.0",error:i})}let i=_objectSpread2({},t),o={id:i.id,jsonrpc:i.jsonrpc},s=null;try{await this._processRequest(i,o)}catch(t){s=t}if(s&&(delete o.result,!o.error)){var a,l,d,c,p,g,b;"object"==typeof s&&!1===Object.keys(s).includes("stack")&&(s.stack="Stack trace is not available."),o.error=serializeError(s,{shouldIncludeStack:!0,fallbackError:{message:(null===(a=s)||void 0===a?void 0:a.message)||(null===(l=s)||void 0===l?void 0:l.toString()),code:(null===(d=s)||void 0===d?void 0:d.code)||-32603,stack:(null===(c=s)||void 0===c?void 0:c.stack)||"Stack trace is not available.",data:(null===(p=s)||void 0===p?void 0:p.data)||(null===(g=s)||void 0===g?void 0:g.message)||(null===(b=s)||void 0===b?void 0:b.toString())}})}return n(s,o)}async _processRequest(t,n){let[i,o,s]=await openloginJrpc_esm_JRPCEngine._runAllMiddleware(t,n,this._middleware);if(openloginJrpc_esm_JRPCEngine._checkForCompletion(t,n,o),await openloginJrpc_esm_JRPCEngine._runReturnHandlers(s),i)throw i}};let Substream=class Substream extends v.Duplex{constructor(t){let{parent:n,name:i}=t;super({objectMode:!0}),defineProperty_defineProperty(this,"_parent",void 0),defineProperty_defineProperty(this,"_name",void 0),this._parent=n,this._name=i}_read(){}_write(t,n,i){this._parent.push({name:this._name,data:t}),i()}};let k=Symbol("IGNORE_SUBSTREAM");let ObjectMultiplex=class ObjectMultiplex extends v.Duplex{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(_objectSpread2(_objectSpread2({},t),{},{objectMode:!0})),defineProperty_defineProperty(this,"_substreams",void 0),defineProperty_defineProperty(this,"getStream",void 0),this._substreams={}}createStream(t){if(!t)throw Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw Error(`ObjectMultiplex - Substream for name "${t}" already exists`);let n=new Substream({parent:this,name:t});return this._substreams[t]=n,function(t,n){let i=N()(n);R()(t,{readable:!1},i),R()(t,{writable:!1},i)}(this,t=>n.destroy(t||void 0)),n}ignoreStream(t){if(!t)throw Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw Error(`ObjectMultiplex - Substream for name "${t}" already exists`);this._substreams[t]=k}_read(){}_write(t,n,i){let{name:o,data:s}=t;if(!o)return window.console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),i();let a=this._substreams[o];return a?a!==k&&a.push(s):window.console.warn(`ObjectMultiplex - orphaned data for stream "${o}"`),i()}};i(2378);var C=i(2043),L=i.n(C);let j=L().getLogger("http-helpers");function number(t){if(!Number.isSafeInteger(t)||t<0)throw Error(`positive integer expected, not ${t}`)}function bytes(t,...n){if(!(t instanceof Uint8Array||null!=t&&"object"==typeof t&&"Uint8Array"===t.constructor.name))throw Error("Uint8Array expected");if(n.length>0&&!n.includes(t.length))throw Error(`Uint8Array expected of length ${n}, not of length=${t.length}`)}function _assert_hash(t){if("function"!=typeof t||"function"!=typeof t.create)throw Error("Hash should be wrapped by utils.wrapConstructor");number(t.outputLen),number(t.blockLen)}function exists(t,n=!0){if(t.destroyed)throw Error("Hash instance has been destroyed");if(n&&t.finished)throw Error("Hash#digest() has already been called")}function output(t,n){bytes(t);let i=n.outputLen;if(t.length<i)throw Error(`digestInto() expects output buffer of length at least ${i}`)}j.setLevel(C.levels.INFO);var F={number,bool:function(t){if("boolean"!=typeof t)throw Error(`boolean expected, not ${t}`)},bytes,hash:_assert_hash,exists,output};let D="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,u32=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),rotr=(t,n)=>t<<32-n|t>>>n,W=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],byteSwap=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function byteSwap32(t){for(let n=0;n<t.length;n++)t[n]=byteSwap(t[n])}function utils_toBytes(t){return"string"==typeof t&&(t=function(t){if("string"!=typeof t)throw Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}(t)),bytes(t),t}let Hash=class Hash{clone(){return this._cloneInto()}};function utils_wrapConstructor(t){let hashC=n=>t().update(utils_toBytes(n)).digest(),n=t();return hashC.outputLen=n.outputLen,hashC.blockLen=n.blockLen,hashC.create=()=>t(),hashC}function utils_randomBytes(t=32){if(D&&"function"==typeof D.getRandomValues)return D.getRandomValues(new Uint8Array(t));throw Error("crypto.getRandomValues must be defined")}let Chi=(t,n,i)=>t&n^~t&i,Maj=(t,n,i)=>t&n^t&i^n&i;let HashMD=class HashMD extends Hash{constructor(t,n,i,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=createView(this.buffer)}update(t){exists(this);let{view:n,buffer:i,blockLen:o}=this;t=utils_toBytes(t);let s=t.length;for(let a=0;a<s;){let l=Math.min(o-this.pos,s-a);if(l===o){let n=createView(t);for(;o<=s-a;a+=o)this.process(n,a);continue}i.set(t.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){exists(this),output(t,this),this.finished=!0;let{buffer:n,view:i,blockLen:o,isLE:s}=this,{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(i,0),a=0);for(let t=a;t<o;t++)n[t]=0;!function(t,n,i,o){if("function"==typeof t.setBigUint64)return t.setBigUint64(n,i,o);let s=BigInt(32),a=BigInt(4294967295),l=Number(i>>s&a),d=Number(i&a),c=o?4:0,p=o?0:4;t.setUint32(n+c,l,o),t.setUint32(n+p,d,o)}(i,o-8,BigInt(8*this.length),s),this.process(i,0);let l=createView(t),d=this.outputLen;if(d%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=d/4,p=this.get();if(c>p.length)throw Error("_sha2: outputLen bigger than state");for(let t=0;t<c;t++)l.setUint32(4*t,p[t],s)}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:n,buffer:i,length:o,finished:s,destroyed:a,pos:l}=this;return t.length=o,t.pos=l,t.finished=s,t.destroyed=a,o%n&&t.buffer.set(i),t}};let U=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),q=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),H=new Uint32Array(64);let SHA256=class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=0|q[0],this.B=0|q[1],this.C=0|q[2],this.D=0|q[3],this.E=0|q[4],this.F=0|q[5],this.G=0|q[6],this.H=0|q[7]}get(){let{A:t,B:n,C:i,D:o,E:s,F:a,G:l,H:d}=this;return[t,n,i,o,s,a,l,d]}set(t,n,i,o,s,a,l,d){this.A=0|t,this.B=0|n,this.C=0|i,this.D=0|o,this.E=0|s,this.F=0|a,this.G=0|l,this.H=0|d}process(t,n){for(let i=0;i<16;i++,n+=4)H[i]=t.getUint32(n,!1);for(let t=16;t<64;t++){let n=H[t-15],i=H[t-2],o=rotr(n,7)^rotr(n,18)^n>>>3,s=rotr(i,17)^rotr(i,19)^i>>>10;H[t]=s+H[t-7]+o+H[t-16]|0}let{A:i,B:o,C:s,D:a,E:l,F:d,G:c,H:p}=this;for(let t=0;t<64;t++){let n=rotr(l,6)^rotr(l,11)^rotr(l,25),g=p+n+Chi(l,d,c)+U[t]+H[t]|0,b=rotr(i,2)^rotr(i,13)^rotr(i,22),m=b+Maj(i,o,s)|0;p=c,c=d,d=l,l=a+g|0,a=s,s=o,o=i,i=g+m|0}i=i+this.A|0,o=o+this.B|0,s=s+this.C|0,a=a+this.D|0,l=l+this.E|0,d=d+this.F|0,c=c+this.G|0,p=p+this.H|0,this.set(i,o,s,a,l,d,c,p)}roundClean(){H.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};let $=utils_wrapConstructor(()=>new SHA256);let HMAC=class HMAC extends Hash{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,_assert_hash(t);let i=utils_toBytes(n);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(i.length>o?t.create().update(i).digest():i);for(let t=0;t<s.length;t++)s[t]^=54;this.iHash.update(s),this.oHash=t.create();for(let t=0;t<s.length;t++)s[t]^=106;this.oHash.update(s),s.fill(0)}update(t){return exists(this),this.iHash.update(t),this}digestInto(t){exists(this),bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:i,finished:o,destroyed:s,blockLen:a,outputLen:l}=this;return t.finished=o,t.destroyed=s,t.blockLen=a,t.outputLen=l,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};let hmac=(t,n,i)=>new HMAC(t,n).update(i).digest();hmac.create=(t,n)=>new HMAC(t,n);let z=BigInt(1),V=BigInt(2);function abstract_utils_isBytes(t){return t instanceof Uint8Array||null!=t&&"object"==typeof t&&"Uint8Array"===t.constructor.name}function utils_abytes(t){if(!abstract_utils_isBytes(t))throw Error("Uint8Array expected")}let G=Array.from({length:256},(t,n)=>n.toString(16).padStart(2,"0"));function abstract_utils_bytesToHex(t){utils_abytes(t);let n="";for(let i=0;i<t.length;i++)n+=G[t[i]];return n}function hexToNumber(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}let J={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function utils_asciiToBase16(t){return t>=J._0&&t<=J._9?t-J._0:t>=J._A&&t<=J._F?t-(J._A-10):t>=J._a&&t<=J._f?t-(J._a-10):void 0}function abstract_utils_hexToBytes(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);let n=t.length,i=n/2;if(n%2)throw Error("padded hex string expected, got unpadded hex of length "+n);let o=new Uint8Array(i);for(let n=0,s=0;n<i;n++,s+=2){let i=utils_asciiToBase16(t.charCodeAt(s)),a=utils_asciiToBase16(t.charCodeAt(s+1));if(void 0===i||void 0===a){let n=t[s]+t[s+1];throw Error('hex string expected, got non-hex character "'+n+'" at index '+s)}o[n]=16*i+a}return o}function utils_bytesToNumberBE(t){return hexToNumber(abstract_utils_bytesToHex(t))}function utils_bytesToNumberLE(t){return utils_abytes(t),hexToNumber(abstract_utils_bytesToHex(Uint8Array.from(t).reverse()))}function utils_numberToBytesBE(t,n){return abstract_utils_hexToBytes(t.toString(16).padStart(2*n,"0"))}function numberToBytesLE(t,n){return utils_numberToBytesBE(t,n).reverse()}function utils_ensureBytes(t,n,i){let o;if("string"==typeof n)try{o=abstract_utils_hexToBytes(n)}catch(i){throw Error(`${t} must be valid hex string, got "${n}". Cause: ${i}`)}else if(abstract_utils_isBytes(n))o=Uint8Array.from(n);else throw Error(`${t} must be hex string or Uint8Array`);let s=o.length;if("number"==typeof i&&s!==i)throw Error(`${t} expected ${i} bytes, got ${s}`);return o}function abstract_utils_concatBytes(...t){let n=0;for(let i=0;i<t.length;i++){let o=t[i];utils_abytes(o),n+=o.length}let i=new Uint8Array(n);for(let n=0,o=0;n<t.length;n++){let s=t[n];i.set(s,o),o+=s.length}return i}let bitMask=t=>(V<<BigInt(t-1))-z,u8n=t=>new Uint8Array(t),u8fr=t=>Uint8Array.from(t);function createHmacDrbg(t,n,i){if("number"!=typeof t||t<2)throw Error("hashLen must be a number");if("number"!=typeof n||n<2)throw Error("qByteLen must be a number");if("function"!=typeof i)throw Error("hmacFn must be a function");let o=u8n(t),s=u8n(t),a=0,reset=()=>{o.fill(1),s.fill(0),a=0},h=(...t)=>i(s,o,...t),reseed=(t=u8n())=>{s=h(u8fr([0]),t),o=h(),0!==t.length&&(s=h(u8fr([1]),t),o=h())},gen=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let t=0,i=[];for(;t<n;){o=h();let n=o.slice();i.push(n),t+=o.length}return abstract_utils_concatBytes(...i)};return(t,n)=>{let i;for(reset(),reseed(t);!(i=n(gen()));)reseed();return reset(),i}}let K={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||abstract_utils_isBytes(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,n)=>n.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function validateObject(t,n,i={}){let checkField=(n,i,o)=>{let s=K[i];if("function"!=typeof s)throw Error(`Invalid validator "${i}", expected function`);let a=t[n];if((!o||void 0!==a)&&!s(a,t))throw Error(`Invalid param ${String(n)}=${a} (${typeof a}), expected ${i}`)};for(let[t,i]of Object.entries(n))checkField(t,i,!1);for(let[t,n]of Object.entries(i))checkField(t,n,!0);return t}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let Z=BigInt(0),Y=BigInt(1),Q=BigInt(2),X=BigInt(3),ee=BigInt(4),et=BigInt(5),er=BigInt(8);function modular_mod(t,n){let i=t%n;return i>=Z?i:n+i}function pow2(t,n,i){let o=t;for(;n-- >Z;)o*=o,o%=i;return o}function invert(t,n){if(t===Z||n<=Z)throw Error(`invert: expected positive integers, got n=${t} mod=${n}`);let i=modular_mod(t,n),o=n,s=Z,a=Y,l=Y,d=Z;for(;i!==Z;){let t=o/i,n=o%i,c=s-l*t,p=a-d*t;o=i,i=n,s=l,a=d,l=c,d=p}let c=o;if(c!==Y)throw Error("invert: does not exist");return modular_mod(s,n)}BigInt(9),BigInt(16);let en=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nLength(t,n){let i=void 0!==n?n:t.toString(2).length;return{nBitLength:i,nByteLength:Math.ceil(i/8)}}function getFieldBytesLength(t){if("bigint"!=typeof t)throw Error("field order must be bigint");let n=t.toString(2).length;return Math.ceil(n/8)}function getMinHashLength(t){let n=getFieldBytesLength(t);return n+Math.ceil(n/2)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let ei=BigInt(0),eo=BigInt(1);function validateBasic(t){return!function(t){let n=en.reduce((t,n)=>(t[n]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});validateObject(t,n)}(t.Fp),validateObject(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}let{bytesToNumberBE:es,hexToBytes:ea}=w,el={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){let{Err:n}=el;if(t.length<2||2!==t[0])throw new n("Invalid signature integer tag");let i=t[1],o=t.subarray(2,i+2);if(!i||o.length!==i)throw new n("Invalid signature integer: wrong length");if(128&o[0])throw new n("Invalid signature integer: negative");if(0===o[0]&&!(128&o[1]))throw new n("Invalid signature integer: unnecessary leading zero");return{d:es(o),l:t.subarray(i+2)}},toSig(t){let{Err:n}=el,i="string"==typeof t?ea(t):t;utils_abytes(i);let o=i.length;if(o<2||48!=i[0])throw new n("Invalid signature tag");if(i[1]!==o-2)throw new n("Invalid signature: incorrect length");let{d:s,l:a}=el._parseInt(i.subarray(2)),{d:l,l:d}=el._parseInt(a);if(d.length)throw new n("Invalid signature: left bytes after parsing");return{r:s,s:l}},hexFromSig(t){let slice=t=>8&Number.parseInt(t[0],16)?"00"+t:t,h=t=>{let n=t.toString(16);return 1&n.length?`0${n}`:n},n=slice(h(t.s)),i=slice(h(t.r)),o=n.length/2,s=i.length/2,a=h(o),l=h(s);return`30${h(s+o+4)}02${l}${i}02${a}${n}`}},eu=BigInt(0),ed=BigInt(1),ec=(BigInt(2),BigInt(3));BigInt(4);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let ef=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),eh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ep=BigInt(1),eg=BigInt(2),divNearest=(t,n)=>(t+n/eg)/n,eb=function(t,n,i=!1,o={}){if(t<=Z)throw Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:s,nByteLength:a}=nLength(t,n);if(a>2048)throw Error("Field lengths over 2048 bytes are not supported");let l=function(t){if(t%ee===X){let n=(t+Y)/ee;return function(t,i){let o=t.pow(i,n);if(!t.eql(t.sqr(o),i))throw Error("Cannot find square root");return o}}if(t%er===et){let n=(t-et)/er;return function(t,i){let o=t.mul(i,Q),s=t.pow(o,n),a=t.mul(i,s),l=t.mul(t.mul(a,Q),s),d=t.mul(a,t.sub(l,t.ONE));if(!t.eql(t.sqr(d),i))throw Error("Cannot find square root");return d}}return function(t){let n,i,o;let s=(t-Y)/Q;for(n=t-Y,i=0;n%Q===Z;n/=Q,i++);for(o=Q;o<t&&function(t,n,i){if(i<=Z||n<Z)throw Error("Expected power/modulo > 0");if(i===Y)return Z;let o=Y;for(;n>Z;)n&Y&&(o=o*t%i),t=t*t%i,n>>=Y;return o}(o,s,t)!==t-Y;o++);if(1===i){let n=(t+Y)/ee;return function(t,i){let o=t.pow(i,n);if(!t.eql(t.sqr(o),i))throw Error("Cannot find square root");return o}}let a=(n+Y)/Q;return function(t,l){if(t.pow(l,s)===t.neg(t.ONE))throw Error("Cannot find square root");let d=i,c=t.pow(t.mul(t.ONE,o),n),p=t.pow(l,a),g=t.pow(l,n);for(;!t.eql(g,t.ONE);){if(t.eql(g,t.ZERO))return t.ZERO;let n=1;for(let i=t.sqr(g);n<d&&!t.eql(i,t.ONE);n++)i=t.sqr(i);let i=t.pow(c,Y<<BigInt(d-n-1));c=t.sqr(i),p=t.mul(p,i),g=t.mul(g,c),d=n}return p}}(t)}(t),d=Object.freeze({ORDER:t,BITS:s,BYTES:a,MASK:bitMask(s),ZERO:Z,ONE:Y,create:n=>modular_mod(n,t),isValid:n=>{if("bigint"!=typeof n)throw Error(`Invalid field element: expected bigint, got ${typeof n}`);return Z<=n&&n<t},is0:t=>t===Z,isOdd:t=>(t&Y)===Y,neg:n=>modular_mod(-n,t),eql:(t,n)=>t===n,sqr:n=>modular_mod(n*n,t),add:(n,i)=>modular_mod(n+i,t),sub:(n,i)=>modular_mod(n-i,t),mul:(n,i)=>modular_mod(n*i,t),pow:(t,n)=>(function(t,n,i){if(i<Z)throw Error("Expected power > 0");if(i===Z)return t.ONE;if(i===Y)return n;let o=t.ONE,s=n;for(;i>Z;)i&Y&&(o=t.mul(o,s)),s=t.sqr(s),i>>=Y;return o})(d,t,n),div:(n,i)=>modular_mod(n*invert(i,t),t),sqrN:t=>t*t,addN:(t,n)=>t+n,subN:(t,n)=>t-n,mulN:(t,n)=>t*n,inv:n=>invert(n,t),sqrt:o.sqrt||(t=>l(d,t)),invertBatch:t=>(function(t,n){let i=Array(n.length),o=n.reduce((n,o,s)=>t.is0(o)?n:(i[s]=n,t.mul(n,o)),t.ONE),s=t.inv(o);return n.reduceRight((n,o,s)=>t.is0(o)?n:(i[s]=t.mul(n,i[s]),t.mul(n,o)),s),i})(d,t),cmov:(t,n,i)=>i?n:t,toBytes:t=>i?numberToBytesLE(t,a):utils_numberToBytesBE(t,a),fromBytes:t=>{if(t.length!==a)throw Error(`Fp.fromBytes: expected ${a}, got ${t.length}`);return i?utils_bytesToNumberLE(t):utils_bytesToNumberBE(t)}});return Object.freeze(d)}(ef,void 0,void 0,{sqrt:function(t){let n=BigInt(3),i=BigInt(6),o=BigInt(11),s=BigInt(22),a=BigInt(23),l=BigInt(44),d=BigInt(88),c=t*t*t%ef,p=c*c*t%ef,g=pow2(p,n,ef)*p%ef,b=pow2(g,n,ef)*p%ef,m=pow2(b,eg,ef)*c%ef,y=pow2(m,o,ef)*m%ef,w=pow2(y,s,ef)*y%ef,_=pow2(w,l,ef)*w%ef,v=pow2(_,d,ef)*_%ef,S=pow2(v,l,ef)*w%ef,A=pow2(S,n,ef)*p%ef,P=pow2(A,a,ef)*y%ef,T=pow2(P,i,ef)*c%ef,R=pow2(T,eg,ef);if(!eb.eql(eb.sqr(R),t))throw Error("Cannot find square root");return R}}),em=function(t,n){let create=n=>(function(t){let n=function(t){let n=validateBasic(t);return validateObject(n,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...n})}(t),{Fp:i,n:o}=n,s=i.BYTES+1,a=2*i.BYTES+1;function modN(t){return modular_mod(t,o)}let{ProjectivePoint:l,normPrivateKeyToScalar:d,weierstrassEquation:c,isWithinCurveOrder:p}=function(t){let n=/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function(t){let n=validateBasic(t);validateObject(n,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:i,Fp:o,a:s}=n;if(i){if(!o.eql(s,o.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof i||"bigint"!=typeof i.beta||"function"!=typeof i.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...n})}(t),{Fp:i}=n,o=n.toBytes||((t,n,o)=>{let s=n.toAffine();return abstract_utils_concatBytes(Uint8Array.from([4]),i.toBytes(s.x),i.toBytes(s.y))}),s=n.fromBytes||(t=>{let n=t.subarray(1),o=i.fromBytes(n.subarray(0,i.BYTES)),s=i.fromBytes(n.subarray(i.BYTES,2*i.BYTES));return{x:o,y:s}});function weierstrassEquation(t){let{a:o,b:s}=n,a=i.sqr(t),l=i.mul(a,t);return i.add(i.add(l,i.mul(t,o)),s)}if(!i.eql(i.sqr(n.Gy),weierstrassEquation(n.Gx)))throw Error("bad generator point: equation left != right");function isWithinCurveOrder(t){return"bigint"==typeof t&&eu<t&&t<n.n}function assertGE(t){if(!isWithinCurveOrder(t))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function normPrivateKeyToScalar(t){let i;let{allowedPrivateKeyLengths:o,nByteLength:s,wrapPrivateKey:a,n:l}=n;if(o&&"bigint"!=typeof t){if(abstract_utils_isBytes(t)&&(t=abstract_utils_bytesToHex(t)),"string"!=typeof t||!o.includes(t.length))throw Error("Invalid key");t=t.padStart(2*s,"0")}try{i="bigint"==typeof t?t:utils_bytesToNumberBE(utils_ensureBytes("private key",t,s))}catch(n){throw Error(`private key must be ${s} bytes, hex or bigint, not ${typeof t}`)}return a&&(i=modular_mod(i,l)),assertGE(i),i}let a=new Map;function assertPrjPoint(t){if(!(t instanceof Point))throw Error("ProjectivePoint expected")}let Point=class Point{constructor(t,n,o){if(this.px=t,this.py=n,this.pz=o,null==t||!i.isValid(t))throw Error("x required");if(null==n||!i.isValid(n))throw Error("y required");if(null==o||!i.isValid(o))throw Error("z required")}static fromAffine(t){let{x:n,y:o}=t||{};if(!t||!i.isValid(n)||!i.isValid(o))throw Error("invalid affine point");if(t instanceof Point)throw Error("projective point not allowed");let is0=t=>i.eql(t,i.ZERO);return is0(n)&&is0(o)?Point.ZERO:new Point(n,o,i.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){let n=i.invertBatch(t.map(t=>t.pz));return t.map((t,i)=>t.toAffine(n[i])).map(Point.fromAffine)}static fromHex(t){let n=Point.fromAffine(s(utils_ensureBytes("pointHex",t)));return n.assertValidity(),n}static fromPrivateKey(t){return Point.BASE.multiply(normPrivateKeyToScalar(t))}_setWindowSize(t){this._WINDOW_SIZE=t,a.delete(this)}assertValidity(){if(this.is0()){if(n.allowInfinityPoint&&!i.is0(this.py))return;throw Error("bad point: ZERO")}let{x:t,y:o}=this.toAffine();if(!i.isValid(t)||!i.isValid(o))throw Error("bad point: x or y not FE");let s=i.sqr(o),a=weierstrassEquation(t);if(!i.eql(s,a))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:t}=this.toAffine();if(i.isOdd)return!i.isOdd(t);throw Error("Field doesn't support isOdd")}equals(t){assertPrjPoint(t);let{px:n,py:o,pz:s}=this,{px:a,py:l,pz:d}=t,c=i.eql(i.mul(n,d),i.mul(a,s)),p=i.eql(i.mul(o,d),i.mul(l,s));return c&&p}negate(){return new Point(this.px,i.neg(this.py),this.pz)}double(){let{a:t,b:o}=n,s=i.mul(o,ec),{px:a,py:l,pz:d}=this,c=i.ZERO,p=i.ZERO,g=i.ZERO,b=i.mul(a,a),m=i.mul(l,l),y=i.mul(d,d),w=i.mul(a,l);return w=i.add(w,w),g=i.mul(a,d),g=i.add(g,g),c=i.mul(t,g),p=i.mul(s,y),p=i.add(c,p),c=i.sub(m,p),p=i.add(m,p),p=i.mul(c,p),c=i.mul(w,c),g=i.mul(s,g),y=i.mul(t,y),w=i.sub(b,y),w=i.mul(t,w),w=i.add(w,g),g=i.add(b,b),b=i.add(g,b),b=i.add(b,y),b=i.mul(b,w),p=i.add(p,b),y=i.mul(l,d),y=i.add(y,y),b=i.mul(y,w),c=i.sub(c,b),g=i.mul(y,m),g=i.add(g,g),g=i.add(g,g),new Point(c,p,g)}add(t){assertPrjPoint(t);let{px:o,py:s,pz:a}=this,{px:l,py:d,pz:c}=t,p=i.ZERO,g=i.ZERO,b=i.ZERO,m=n.a,y=i.mul(n.b,ec),w=i.mul(o,l),_=i.mul(s,d),v=i.mul(a,c),S=i.add(o,s),A=i.add(l,d);S=i.mul(S,A),A=i.add(w,_),S=i.sub(S,A),A=i.add(o,a);let P=i.add(l,c);return A=i.mul(A,P),P=i.add(w,v),A=i.sub(A,P),P=i.add(s,a),p=i.add(d,c),P=i.mul(P,p),p=i.add(_,v),P=i.sub(P,p),b=i.mul(m,A),p=i.mul(y,v),b=i.add(p,b),p=i.sub(_,b),b=i.add(_,b),g=i.mul(p,b),_=i.add(w,w),_=i.add(_,w),v=i.mul(m,v),A=i.mul(y,A),_=i.add(_,v),v=i.sub(w,v),v=i.mul(m,v),A=i.add(A,v),w=i.mul(_,A),g=i.add(g,w),w=i.mul(P,A),p=i.mul(S,p),p=i.sub(p,w),w=i.mul(S,_),b=i.mul(P,b),b=i.add(b,w),new Point(p,g,b)}subtract(t){return this.add(t.negate())}is0(){return this.equals(Point.ZERO)}wNAF(t){return d.wNAFCached(this,a,t,t=>{let n=i.invertBatch(t.map(t=>t.pz));return t.map((t,i)=>t.toAffine(n[i])).map(Point.fromAffine)})}multiplyUnsafe(t){let o=Point.ZERO;if(t===eu)return o;if(assertGE(t),t===ed)return this;let{endo:s}=n;if(!s)return d.unsafeLadder(this,t);let{k1neg:a,k1:l,k2neg:c,k2:p}=s.splitScalar(t),g=o,b=o,m=this;for(;l>eu||p>eu;)l&ed&&(g=g.add(m)),p&ed&&(b=b.add(m)),m=m.double(),l>>=ed,p>>=ed;return a&&(g=g.negate()),c&&(b=b.negate()),b=new Point(i.mul(b.px,s.beta),b.py,b.pz),g.add(b)}multiply(t){let o,s;assertGE(t);let{endo:a}=n;if(a){let{k1neg:n,k1:l,k2neg:c,k2:p}=a.splitScalar(t),{p:g,f:b}=this.wNAF(l),{p:m,f:y}=this.wNAF(p);g=d.constTimeNegate(n,g),m=d.constTimeNegate(c,m),m=new Point(i.mul(m.px,a.beta),m.py,m.pz),o=g.add(m),s=b.add(y)}else{let{p:n,f:i}=this.wNAF(t);o=n,s=i}return Point.normalizeZ([o,s])[0]}multiplyAndAddUnsafe(t,n,i){let o=Point.BASE,mul=(t,n)=>n!==eu&&n!==ed&&t.equals(o)?t.multiply(n):t.multiplyUnsafe(n),s=mul(this,n).add(mul(t,i));return s.is0()?void 0:s}toAffine(t){let{px:n,py:o,pz:s}=this,a=this.is0();null==t&&(t=a?i.ONE:i.inv(s));let l=i.mul(n,t),d=i.mul(o,t),c=i.mul(s,t);if(a)return{x:i.ZERO,y:i.ZERO};if(!i.eql(c,i.ONE))throw Error("invZ was invalid");return{x:l,y:d}}isTorsionFree(){let{h:t,isTorsionFree:i}=n;if(t===ed)return!0;if(i)return i(Point,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:t,clearCofactor:i}=n;return t===ed?this:i?i(Point,this):this.multiplyUnsafe(n.h)}toRawBytes(t=!0){return this.assertValidity(),o(Point,this,t)}toHex(t=!0){return abstract_utils_bytesToHex(this.toRawBytes(t))}};Point.BASE=new Point(n.Gx,n.Gy,i.ONE),Point.ZERO=new Point(i.ZERO,i.ONE,i.ZERO);let l=n.nBitLength,d=function(t,n){let constTimeNegate=(t,n)=>{let i=n.negate();return t?i:n},opts=t=>({windows:Math.ceil(n/t)+1,windowSize:2**(t-1)});return{constTimeNegate,unsafeLadder(n,i){let o=t.ZERO,s=n;for(;i>ei;)i&eo&&(o=o.add(s)),s=s.double(),i>>=eo;return o},precomputeWindow(t,n){let{windows:i,windowSize:o}=opts(n),s=[],a=t,l=a;for(let t=0;t<i;t++){l=a,s.push(l);for(let t=1;t<o;t++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,i,o){let{windows:s,windowSize:a}=opts(n),l=t.ZERO,d=t.BASE,c=BigInt(2**n-1),p=2**n,g=BigInt(n);for(let t=0;t<s;t++){let n=t*a,s=Number(o&c);o>>=g,s>a&&(s-=p,o+=eo);let b=n+Math.abs(s)-1,m=t%2!=0,y=s<0;0===s?d=d.add(constTimeNegate(m,i[n])):l=l.add(constTimeNegate(y,i[b]))}return{p:l,f:d}},wNAFCached(t,n,i,o){let s=t._WINDOW_SIZE||1,a=n.get(t);return a||(a=this.precomputeWindow(t,s),1!==s&&n.set(t,o(a))),this.wNAF(s,a,i)}}}(Point,n.endo?Math.ceil(l/2):l);return{CURVE:n,ProjectivePoint:Point,normPrivateKeyToScalar,weierstrassEquation,isWithinCurveOrder}}({...n,toBytes(t,n,o){let s=n.toAffine(),a=i.toBytes(s.x),l=abstract_utils_concatBytes;return o?l(Uint8Array.from([n.hasEvenY()?2:3]),a):l(Uint8Array.from([4]),a,i.toBytes(s.y))},fromBytes(t){let n=t.length,o=t[0],l=t.subarray(1);if(n===s&&(2===o||3===o)){let t;let n=utils_bytesToNumberBE(l);if(!(eu<n&&n<i.ORDER))throw Error("Point is not on curve");let s=c(n);try{t=i.sqrt(s)}catch(n){let t=n instanceof Error?": "+n.message:"";throw Error("Point is not on curve"+t)}let a=(t&ed)===ed;return(1&o)==1!==a&&(t=i.neg(t)),{x:n,y:t}}if(n===a&&4===o){let t=i.fromBytes(l.subarray(0,i.BYTES)),n=i.fromBytes(l.subarray(i.BYTES,2*i.BYTES));return{x:t,y:n}}throw Error(`Point of length ${n} was invalid. Expected ${s} compressed bytes or ${a} uncompressed bytes`)}}),numToNByteStr=t=>abstract_utils_bytesToHex(utils_numberToBytesBE(t,n.nByteLength));function isBiggerThanHalfOrder(t){let n=o>>ed;return t>n}let slcNum=(t,n,i)=>utils_bytesToNumberBE(t.slice(n,i));let Signature=class Signature{constructor(t,n,i){this.r=t,this.s=n,this.recovery=i,this.assertValidity()}static fromCompact(t){let i=n.nByteLength;return t=utils_ensureBytes("compactSignature",t,2*i),new Signature(slcNum(t,0,i),slcNum(t,i,2*i))}static fromDER(t){let{r:n,s:i}=el.toSig(utils_ensureBytes("DER",t));return new Signature(n,i)}assertValidity(){if(!p(this.r))throw Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new Signature(this.r,this.s,t)}recoverPublicKey(t){let{r:s,s:a,recovery:d}=this,c=b(utils_ensureBytes("msgHash",t));if(null==d||![0,1,2,3].includes(d))throw Error("recovery id invalid");let p=2===d||3===d?s+n.n:s;if(p>=i.ORDER)throw Error("recovery id 2 or 3 invalid");let g=(1&d)==0?"02":"03",m=l.fromHex(g+numToNByteStr(p)),y=invert(p,o),w=modN(-c*y),_=modN(a*y),v=l.BASE.multiplyAndAddUnsafe(m,w,_);if(!v)throw Error("point at infinify");return v.assertValidity(),v}hasHighS(){return isBiggerThanHalfOrder(this.s)}normalizeS(){return this.hasHighS()?new Signature(this.r,modN(-this.s),this.recovery):this}toDERRawBytes(){return abstract_utils_hexToBytes(this.toDERHex())}toDERHex(){return el.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return abstract_utils_hexToBytes(this.toCompactHex())}toCompactHex(){return numToNByteStr(this.r)+numToNByteStr(this.s)}};function isProbPub(t){let n=abstract_utils_isBytes(t),i="string"==typeof t,o=(n||i)&&t.length;return n?o===s||o===a:i?o===2*s||o===2*a:t instanceof l}let g=n.bits2int||function(t){let i=utils_bytesToNumberBE(t),o=8*t.length-n.nBitLength;return o>0?i>>BigInt(o):i},b=n.bits2int_modN||function(t){return modN(g(t))},m=bitMask(n.nBitLength);function int2octets(t){if("bigint"!=typeof t)throw Error("bigint expected");if(!(eu<=t&&t<m))throw Error(`bigint expected < 2^${n.nBitLength}`);return utils_numberToBytesBE(t,n.nByteLength)}let y={lowS:n.lowS,prehash:!1},w={lowS:n.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:n,getPublicKey:function(t,n=!0){return l.fromPrivateKey(t).toRawBytes(n)},getSharedSecret:function(t,n,i=!0){if(isProbPub(t))throw Error("first arg must be private key");if(!isProbPub(n))throw Error("second arg must be public key");let o=l.fromHex(n);return o.multiply(d(t)).toRawBytes(i)},sign:function(t,s,a=y){let{seed:c,k2sig:m}=function(t,s,a=y){if(["recovered","canonical"].some(t=>t in a))throw Error("sign() legacy options not supported");let{hash:c,randomBytes:m}=n,{lowS:w,prehash:_,extraEntropy:v}=a;null==w&&(w=!0),t=utils_ensureBytes("msgHash",t),_&&(t=utils_ensureBytes("prehashed msgHash",c(t)));let S=b(t),A=d(s),P=[int2octets(A),int2octets(S)];if(null!=v&&!1!==v){let t=!0===v?m(i.BYTES):v;P.push(utils_ensureBytes("extraEntropy",t))}let T=abstract_utils_concatBytes(...P);return{seed:T,k2sig:function(t){let n=g(t);if(!p(n))return;let i=invert(n,o),s=l.BASE.multiply(n).toAffine(),a=modN(s.x);if(a===eu)return;let d=modN(i*modN(S+a*A));if(d===eu)return;let c=(s.x===a?0:2)|Number(s.y&ed),b=d;return w&&isBiggerThanHalfOrder(d)&&(b=isBiggerThanHalfOrder(d)?modN(-d):d,c^=1),new Signature(a,b,c)}}}(t,s,a),w=createHmacDrbg(n.hash.outputLen,n.nByteLength,n.hmac);return w(c,m)},verify:function(t,i,s,a=w){let d,c;if(i=utils_ensureBytes("msgHash",i),s=utils_ensureBytes("publicKey",s),"strict"in a)throw Error("options.strict was renamed to lowS");let{lowS:p,prehash:g}=a;try{if("string"==typeof t||abstract_utils_isBytes(t))try{c=Signature.fromDER(t)}catch(n){if(!(n instanceof el.Err))throw n;c=Signature.fromCompact(t)}else if("object"==typeof t&&"bigint"==typeof t.r&&"bigint"==typeof t.s){let{r:n,s:i}=t;c=new Signature(n,i)}else throw Error("PARSE");d=l.fromHex(s)}catch(t){if("PARSE"===t.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(p&&c.hasHighS())return!1;g&&(i=n.hash(i));let{r:m,s:y}=c,_=b(i),v=invert(y,o),S=modN(_*v),A=modN(m*v),P=l.BASE.multiplyAndAddUnsafe(d,S,A)?.toAffine();if(!P)return!1;let T=modN(P.x);return T===m},ProjectivePoint:l,Signature,utils:{isValidPrivateKey(t){try{return d(t),!0}catch(t){return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{let t=getMinHashLength(n.n);return function(t,n,i=!1){let o=t.length,s=getFieldBytesLength(n),a=getMinHashLength(n);if(o<16||o<a||o>1024)throw Error(`expected ${a}-1024 bytes of input, got ${o}`);let l=i?utils_bytesToNumberBE(t):utils_bytesToNumberLE(t),d=modular_mod(l,n-Y)+Y;return i?numberToBytesLE(d,s):utils_numberToBytesBE(d,s)}(n.randomBytes(t),n.n)},precompute:(t=8,n=l.BASE)=>(n._setWindowSize(t),n.multiply(BigInt(3)),n)}}})({...t,hash:n,hmac:(t,...i)=>hmac(n,t,function(...t){let n=0;for(let i=0;i<t.length;i++){let o=t[i];bytes(o),n+=o.length}let i=new Uint8Array(n);for(let n=0,o=0;n<t.length;n++){let s=t[n];i.set(s,o),o+=s.length}return i}(...i)),randomBytes:utils_randomBytes});return Object.freeze({...create(n),create})}({a:BigInt(0),b:BigInt(7),Fp:eb,n:eh,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-ep*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=BigInt("0x100000000000000000000000000000000"),a=divNearest(n*t,eh),l=divNearest(-i*t,eh),d=modular_mod(t-a*n-l*o,eh),c=modular_mod(-a*i-l*n,eh),p=d>s,g=c>s;if(p&&(d=eh-d),g&&(c=eh-c),d>s||c>s)throw Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:d,k2neg:g,k2:c}}}},$);function wrapHash(t){return n=>(F.bytes(n),t(n))}BigInt(0),em.ProjectivePoint,F.bool,F.bytes,(()=>{let t="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,n="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);return n&&!t?n("crypto"):void 0})(),BigInt(0);let ey={},ew={};for(let t=0;t<16;t++){let n=t,i=16*t,o=t.toString(16).toLowerCase();ew[o]=n,ew[o.toUpperCase()]=n,ey[o]=i,ey[o.toUpperCase()]=i}Array.from({length:256},(t,n)=>n.toString(16).padStart(2,"0"));let e_=[];for(let t=0;t<=65535;t++)e_[t]=BigInt(t);let bytes_hexToBytes=t=>{if("string"!=typeof t)throw Error(`hex argument type ${typeof t} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(t))throw Error(`Input must be a 0x-prefixed hexadecimal string, got ${t}`);let n=t.slice(2);return function(t){let n=t.length,i=new Uint8Array(n/2);for(let o=0;o<n;o+=2)i[o/2]=ey[t[o]]+ew[t[o+1]];return i}(n.length%2==0?n:function(t){let n=t;if("string"!=typeof n)throw Error(`[padToEven] value must be type 'string', received ${typeof n}`);return n.length%2&&(n=`0${n}`),n}(n))},intToHex=t=>{if(!Number.isSafeInteger(t)||t<0)throw Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`},intToBytes=t=>{let n=intToHex(t);return bytes_hexToBytes(n)};BigInt("0xffffffffffffffff"),BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),em.CURVE.n,em.CURVE.n,BigInt(2),BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),bytes_hexToBytes("0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"),bytes_hexToBytes("0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347"),bytes_hexToBytes("0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"),Uint8Array.from([128]),BigInt(-1),BigInt(0),BigInt(1),BigInt(2),BigInt(3),BigInt(7),BigInt(8),BigInt(27),BigInt(28),BigInt(31),BigInt(32),BigInt(64),BigInt(128),BigInt(255),BigInt(256),BigInt(96),BigInt(100),BigInt(160),BigInt(224),BigInt(7922816251426434e13),BigInt(1461501637330903e33),BigInt(2695994666715064e52),BigInt(1e9),Array.from({length:256},(t,n)=>n.toString(16).padStart(2,"0"));let ev=BigInt(4294967296-1),eS=BigInt(32),rotlSH=(t,n,i)=>t<<i|n>>>32-i,rotlSL=(t,n,i)=>n<<i|t>>>32-i,rotlBH=(t,n,i)=>n<<i-32|t>>>64-i,rotlBL=(t,n,i)=>t<<i-32|n>>>64-i,eE=[],eA=[],eP=[],eT=BigInt(0),eR=BigInt(1),eO=BigInt(2),eN=BigInt(7),eB=BigInt(256),eM=BigInt(113);for(let t=0,n=eR,i=1,o=0;t<24;t++){[i,o]=[o,(2*i+3*o)%5],eE.push(2*(5*o+i)),eA.push((t+1)*(t+2)/2%64);let s=eT;for(let t=0;t<7;t++)(n=(n<<eR^(n>>eN)*eM)%eB)&eO&&(s^=eR<<(eR<<BigInt(t))-eR);eP.push(s)}let[eI,ex]=function(t,n=!1){let i=new Uint32Array(t.length),o=new Uint32Array(t.length);for(let s=0;s<t.length;s++){let{h:a,l}=function(t,n=!1){return n?{h:Number(t&ev),l:Number(t>>eS&ev)}:{h:0|Number(t>>eS&ev),l:0|Number(t&ev)}}(t[s],n);[i[s],o[s]]=[a,l]}return[i,o]}(eP,!0),rotlH=(t,n,i)=>i>32?rotlBH(t,n,i):rotlSH(t,n,i),rotlL=(t,n,i)=>i>32?rotlBL(t,n,i):rotlSL(t,n,i);let Keccak=class Keccak extends Hash{constructor(t,n,i,o=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=i,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number(i),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){W||byteSwap32(this.state32),function(t,n=24){let i=new Uint32Array(10);for(let o=24-n;o<24;o++){for(let n=0;n<10;n++)i[n]=t[n]^t[n+10]^t[n+20]^t[n+30]^t[n+40];for(let n=0;n<10;n+=2){let o=(n+8)%10,s=(n+2)%10,a=i[s],l=i[s+1],d=rotlH(a,l,1)^i[o],c=rotlL(a,l,1)^i[o+1];for(let i=0;i<50;i+=10)t[n+i]^=d,t[n+i+1]^=c}let n=t[2],s=t[3];for(let i=0;i<24;i++){let o=eA[i],a=rotlH(n,s,o),l=rotlL(n,s,o),d=eE[i];n=t[d],s=t[d+1],t[d]=a,t[d+1]=l}for(let n=0;n<50;n+=10){for(let o=0;o<10;o++)i[o]=t[n+o];for(let o=0;o<10;o++)t[n+o]^=~i[(o+2)%10]&i[(o+4)%10]}t[0]^=eI[o],t[1]^=ex[o]}i.fill(0)}(this.state32,this.rounds),W||byteSwap32(this.state32),this.posOut=0,this.pos=0}update(t){exists(this);let{blockLen:n,state:i}=this;t=utils_toBytes(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(n-this.pos,o-s);for(let n=0;n<a;n++)i[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:n,pos:i,blockLen:o}=this;t[i]^=n,(128&n)!=0&&i===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){exists(this,!1),bytes(t),this.finish();let n=this.state,{blockLen:i}=this;for(let o=0,s=t.length;o<s;){this.posOut>=i&&this.keccak();let a=Math.min(i-this.posOut,s-o);t.set(n.subarray(this.posOut,this.posOut+a),o),this.posOut+=a,o+=a}return t}xofInto(t){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(output(t,this),this.finished)throw Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:n,suffix:i,outputLen:o,rounds:s,enableXOF:a}=this;return t||(t=new Keccak(n,i,o,a,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=i,t.outputLen=o,t.enableXOF=a,t.destroyed=this.destroyed,t}};let gen=(t,n,i)=>utils_wrapConstructor(()=>new Keccak(n,t,i)),ek=gen(1,144,28),eC=gen(1,136,32),eL=gen(1,104,48),ej=gen(1,72,64);wrapHash(ek),(()=>{let t=wrapHash(eC);t.create=eC.create})(),wrapHash(eL),wrapHash(ej),new Uint8Array(0),(o=p||(p={})).String="string",o.Bytes="view",o.Number="number",(s=g||(g={})).String="string",s.Bytes="view",s.JSON="json",(a=b||(b={}))[a.Number=0]="Number",a[a.BigInt=1]="BigInt",a[a.Uint8Array=2]="Uint8Array",a[a.PrefixedHexString=3]="PrefixedHexString",wrapHash($),(l=m||(m={}))[l.Deposit=0]="Deposit",l[l.Withdrawal=1]="Withdrawal",l[l.Consolidation=2]="Consolidation",(d=y||(y={}))[d.Version=0]="Version",d[d.Balance=1]="Balance",d[d.Nonce=2]="Nonce",d[d.CodeHash=3]="CodeHash",d[d.CodeSize=4]="CodeSize",intToBytes(y.Version),intToBytes(y.Balance),intToBytes(y.Nonce),intToBytes(y.CodeHash),intToBytes(y.CodeSize),BigInt(256),BigInt(31),i(5772);let eF={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},eD={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};function storageAvailable(t){let n,i=!1,o=0;try{n=window[t],i=!0,o=n.length;let s="__storage_test__";return n.setItem(s,s),n.removeItem(s),!0}catch(t){return t&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&i&&0!==o}}eF.MAINNET,eF.TESTNET,eF.CYAN,eF.AQUA,eF.CELESTE,eF.AQUA,eD.SAPPHIRE_MAINNET,eF.CELESTE,eD.SAPPHIRE_MAINNET,eF.CYAN,eD.SAPPHIRE_MAINNET,eF.MAINNET,eD.SAPPHIRE_MAINNET,eF.TESTNET,eD.SAPPHIRE_DEVNET,eF.MAINNET,eF.TESTNET,eF.CYAN,eF.AQUA,eF.CELESTE,eD.SAPPHIRE_MAINNET,eD.SAPPHIRE_DEVNET,eF.MAINNET,eF.TESTNET,eF.CYAN,eF.AQUA,eF.CELESTE,eF.MAINNET,eF.TESTNET,eF.CYAN,eF.AQUA,eF.CELESTE;let MemoryStore=class MemoryStore{constructor(){defineProperty_defineProperty(this,"store",new Map)}getItem(t){return this.store.get(t)||null}setItem(t,n){this.store.set(t,n)}removeItem(t){this.store.delete(t)}};defineProperty_defineProperty(class{constructor(t,n){defineProperty_defineProperty(this,"storage",void 0),defineProperty_defineProperty(this,"_storeKey",void 0),this.storage=n,this._storeKey=t;try{n.getItem(t)||this.resetStore()}catch(t){}}static getInstance(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local";if(!this.instanceMap.has(t)){let i;i="local"===n&&storageAvailable("localStorage")?window.localStorage:"session"===n&&storageAvailable("sessionStorage")?window.sessionStorage:new MemoryStore,this.instanceMap.set(t,new this(t,i))}return this.instanceMap.get(t)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){let t=this.getStore();return this.storage.removeItem(this._storeKey),t}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(t){let n=JSON.parse(this.storage.getItem(this._storeKey)||"{}");return n[t]}set(t,n){let i=JSON.parse(this.storage.getItem(this._storeKey)||"{}");i[t]=n,this.storage.setItem(this._storeKey,JSON.stringify(i))}},"instanceMap",new Map),_objectSpread2(_objectSpread2({},eD),eF);var eW=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,eU=Math.ceil,eH=Math.floor,e$="[BigNumber Error] ",ez=e$+"Number primitive has more than 15 significant digits: ",eV=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function bitFloor(t){var n=0|t;return t>0||t===n?n:n-1}function coeffToString(t){for(var n,i,o=1,s=t.length,a=t[0]+"";o<s;){for(i=14-(n=t[o++]+"").length;i--;n="0"+n);a+=n}for(s=a.length;48===a.charCodeAt(--s););return a.slice(0,s+1||1)}function compare(t,n){var i,o,s=t.c,a=n.c,l=t.s,d=n.s,c=t.e,p=n.e;if(!l||!d)return null;if(i=s&&!s[0],o=a&&!a[0],i||o)return i?o?0:-d:l;if(l!=d)return l;if(i=l<0,o=c==p,!s||!a)return o?0:!s^i?1:-1;if(!o)return c>p^i?1:-1;for(l=0,d=(c=s.length)<(p=a.length)?c:p;l<d;l++)if(s[l]!=a[l])return s[l]>a[l]^i?1:-1;return c==p?0:c>p^i?1:-1}function intCheck(t,n,i,o){if(t<n||t>i||t!==eH(t))throw Error(e$+(o||"Argument")+("number"==typeof t?t<n||t>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function isOdd(t){var n=t.c.length-1;return bitFloor(t.e/14)==n&&t.c[n]%2!=0}function toExponential(t,n){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(n<0?"e":"e+")+n}function toFixedPoint(t,n,i){var o,s;if(n<0){for(s=i+".";++n;s+=i);t=s+t}else if(o=t.length,++n>o){for(s=i,n-=o;--n;s+=i);t+=s}else n<o&&(t=t.slice(0,n)+"."+t.slice(n));return t}!function clone(t){var n,i,o,s,a,l,d,c,p,g=BigNumber.prototype={constructor:BigNumber,toString:null,valueOf:null},b=new BigNumber(1),m=20,y=4,w=-7,_=21,v=-1e7,S=1e7,A=!1,P=1,T=0,R={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},O="0123456789abcdefghijklmnopqrstuvwxyz",N=!0;function BigNumber(t,n){var i,o,s,a,l,d,g,b,w=this;if(!(w instanceof BigNumber))return new BigNumber(t,n);if(null==n){if(t&&!0===t._isBigNumber){w.s=t.s,!t.c||t.e>S?w.c=w.e=null:t.e<v?w.c=[w.e=0]:(w.e=t.e,w.c=t.c.slice());return}if((d="number"==typeof t)&&0*t==0){if(w.s=1/t<0?(t=-t,-1):1,t===~~t){for(a=0,l=t;l>=10;l/=10,a++);a>S?w.c=w.e=null:(w.e=a,w.c=[t]);return}b=String(t)}else{if(!eW.test(b=String(t)))return p(w,b,d);w.s=45==b.charCodeAt(0)?(b=b.slice(1),-1):1}(a=b.indexOf("."))>-1&&(b=b.replace(".","")),(l=b.search(/e/i))>0?(a<0&&(a=l),a+=+b.slice(l+1),b=b.substring(0,l)):a<0&&(a=b.length)}else{if(intCheck(n,2,O.length,"Base"),10==n&&N)return round(w=new BigNumber(t),m+w.e+1,y);if(b=String(t),d="number"==typeof t){if(0*t!=0)return p(w,b,d,n);if(w.s=1/t<0?(b=b.slice(1),-1):1,BigNumber.DEBUG&&b.replace(/^0\.0*|\./,"").length>15)throw Error(ez+t)}else w.s=45===b.charCodeAt(0)?(b=b.slice(1),-1):1;for(i=O.slice(0,n),a=l=0,g=b.length;l<g;l++)if(0>i.indexOf(o=b.charAt(l))){if("."==o){if(l>a){a=g;continue}}else if(!s&&(b==b.toUpperCase()&&(b=b.toLowerCase())||b==b.toLowerCase()&&(b=b.toUpperCase()))){s=!0,l=-1,a=0;continue}return p(w,String(t),d,n)}d=!1,(a=(b=c(b,n,10,w.s)).indexOf("."))>-1?b=b.replace(".",""):a=b.length}for(l=0;48===b.charCodeAt(l);l++);for(g=b.length;48===b.charCodeAt(--g););if(b=b.slice(l,++g)){if(g-=l,d&&BigNumber.DEBUG&&g>15&&(t>9007199254740991||t!==eH(t)))throw Error(ez+w.s*t);if((a=a-l-1)>S)w.c=w.e=null;else if(a<v)w.c=[w.e=0];else{if(w.e=a,w.c=[],l=(a+1)%14,a<0&&(l+=14),l<g){for(l&&w.c.push(+b.slice(0,l)),g-=14;l<g;)w.c.push(+b.slice(l,l+=14));l=14-(b=b.slice(l)).length}else l-=g;for(;l--;b+="0");w.c.push(+b)}}else w.c=[w.e=0]}function format(t,n,i,o){var s,a,l,d,c;if(null==i?i=y:intCheck(i,0,8),!t.c)return t.toString();if(s=t.c[0],l=t.e,null==n)c=coeffToString(t.c),c=1==o||2==o&&(l<=w||l>=_)?toExponential(c,l):toFixedPoint(c,l,"0");else if(a=(t=round(new BigNumber(t),n,i)).e,d=(c=coeffToString(t.c)).length,1==o||2==o&&(n<=a||a<=w)){for(;d<n;c+="0",d++);c=toExponential(c,a)}else if(n-=l,c=toFixedPoint(c,a,"0"),a+1>d){if(--n>0)for(c+=".";n--;c+="0");}else if((n+=a-d)>0)for(a+1==d&&(c+=".");n--;c+="0");return t.s<0&&s?"-"+c:c}function maxOrMin(t,n){for(var i,o,s=1,a=new BigNumber(t[0]);s<t.length;s++)(o=new BigNumber(t[s])).s&&(i=compare(a,o))!==n&&(0!==i||a.s!==n)||(a=o);return a}function normalise(t,n,i){for(var o=1,s=n.length;!n[--s];n.pop());for(s=n[0];s>=10;s/=10,o++);return(i=o+14*i-1)>S?t.c=t.e=null:i<v?t.c=[t.e=0]:(t.e=i,t.c=n),t}function round(t,n,i,o){var s,a,l,d,c,p,g,b=t.c;if(b){e:{for(s=1,d=b[0];d>=10;d/=10,s++);if((a=n-s)<0)a+=14,l=n,g=eH((c=b[p=0])/eV[s-l-1]%10);else if((p=eU((a+1)/14))>=b.length){if(o){for(;b.length<=p;b.push(0));c=g=0,s=1,a%=14,l=a-14+1}else break e}else{for(s=1,c=d=b[p];d>=10;d/=10,s++);a%=14,g=(l=a-14+s)<0?0:eH(c/eV[s-l-1]%10)}if(o=o||n<0||null!=b[p+1]||(l<0?c:c%eV[s-l-1]),o=i<4?(g||o)&&(0==i||i==(t.s<0?3:2)):g>5||5==g&&(4==i||o||6==i&&(a>0?l>0?c/eV[s-l]:0:b[p-1])%10&1||i==(t.s<0?8:7)),n<1||!b[0])return b.length=0,o?(n-=t.e+1,b[0]=eV[(14-n%14)%14],t.e=-n||0):b[0]=t.e=0,t;if(0==a?(b.length=p,d=1,p--):(b.length=p+1,d=eV[14-a],b[p]=l>0?eH(c/eV[s-l]%eV[l])*d:0),o)for(;;){if(0==p){for(a=1,l=b[0];l>=10;l/=10,a++);for(l=b[0]+=d,d=1;l>=10;l/=10,d++);a!=d&&(t.e++,1e14==b[0]&&(b[0]=1));break}if(b[p]+=d,1e14!=b[p])break;b[p--]=0,d=1}for(a=b.length;0===b[--a];b.pop());}t.e>S?t.c=t.e=null:t.e<v&&(t.c=[t.e=0])}return t}function valueOf(t){var n,i=t.e;return null===i?t.toString():(n=coeffToString(t.c),n=i<=w||i>=_?toExponential(n,i):toFixedPoint(n,i,"0"),t.s<0?"-"+n:n)}return BigNumber.clone=clone,BigNumber.ROUND_UP=0,BigNumber.ROUND_DOWN=1,BigNumber.ROUND_CEIL=2,BigNumber.ROUND_FLOOR=3,BigNumber.ROUND_HALF_UP=4,BigNumber.ROUND_HALF_DOWN=5,BigNumber.ROUND_HALF_EVEN=6,BigNumber.ROUND_HALF_CEIL=7,BigNumber.ROUND_HALF_FLOOR=8,BigNumber.EUCLID=9,BigNumber.config=BigNumber.set=function(t){var n,i;if(null!=t){if("object"==typeof t){if(t.hasOwnProperty(n="DECIMAL_PLACES")&&(intCheck(i=t[n],0,1e9,n),m=i),t.hasOwnProperty(n="ROUNDING_MODE")&&(intCheck(i=t[n],0,8,n),y=i),t.hasOwnProperty(n="EXPONENTIAL_AT")&&((i=t[n])&&i.pop?(intCheck(i[0],-1e9,0,n),intCheck(i[1],0,1e9,n),w=i[0],_=i[1]):(intCheck(i,-1e9,1e9,n),w=-(_=i<0?-i:i))),t.hasOwnProperty(n="RANGE")){if((i=t[n])&&i.pop)intCheck(i[0],-1e9,-1,n),intCheck(i[1],1,1e9,n),v=i[0],S=i[1];else if(intCheck(i,-1e9,1e9,n),i)v=-(S=i<0?-i:i);else throw Error(e$+n+" cannot be zero: "+i)}if(t.hasOwnProperty(n="CRYPTO")){if(!!(i=t[n])===i){if(i){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))A=i;else throw A=!i,Error(e$+"crypto unavailable")}else A=i}else throw Error(e$+n+" not true or false: "+i)}if(t.hasOwnProperty(n="MODULO_MODE")&&(intCheck(i=t[n],0,9,n),P=i),t.hasOwnProperty(n="POW_PRECISION")&&(intCheck(i=t[n],0,1e9,n),T=i),t.hasOwnProperty(n="FORMAT")){if("object"==typeof(i=t[n]))R=i;else throw Error(e$+n+" not an object: "+i)}if(t.hasOwnProperty(n="ALPHABET")){if("string"!=typeof(i=t[n])||/^.?$|[+\-.\s]|(.).*\1/.test(i))throw Error(e$+n+" invalid: "+i);N="0123456789"==i.slice(0,10),O=i}}else throw Error(e$+"Object expected: "+t)}return{DECIMAL_PLACES:m,ROUNDING_MODE:y,EXPONENTIAL_AT:[w,_],RANGE:[v,S],CRYPTO:A,MODULO_MODE:P,POW_PRECISION:T,FORMAT:R,ALPHABET:O}},BigNumber.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!BigNumber.DEBUG)return!0;var n,i,o=t.c,s=t.e,a=t.s;e:if("[object Array]"==({}).toString.call(o)){if((1===a||-1===a)&&s>=-1e9&&s<=1e9&&s===eH(s)){if(0===o[0]){if(0===s&&1===o.length)return!0;break e}if((n=(s+1)%14)<1&&(n+=14),String(o[0]).length==n){for(n=0;n<o.length;n++)if((i=o[n])<0||i>=1e14||i!==eH(i))break e;if(0!==i)return!0}}}else if(null===o&&null===s&&(null===a||1===a||-1===a))return!0;throw Error(e$+"Invalid BigNumber: "+t)},BigNumber.maximum=BigNumber.max=function(){return maxOrMin(arguments,-1)},BigNumber.minimum=BigNumber.min=function(){return maxOrMin(arguments,1)},BigNumber.random=(n=9007199254740992*Math.random()&2097151?function(){return eH(9007199254740992*Math.random())}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)},function(t){var i,o,s,a,l,d=0,c=[],p=new BigNumber(b);if(null==t?t=m:intCheck(t,0,1e9),a=eU(t/14),A){if(crypto.getRandomValues){for(i=crypto.getRandomValues(new Uint32Array(a*=2));d<a;)(l=131072*i[d]+(i[d+1]>>>11))>=9e15?(o=crypto.getRandomValues(new Uint32Array(2)),i[d]=o[0],i[d+1]=o[1]):(c.push(l%1e14),d+=2);d=a/2}else if(crypto.randomBytes){for(i=crypto.randomBytes(a*=7);d<a;)(l=(31&i[d])*281474976710656+1099511627776*i[d+1]+4294967296*i[d+2]+16777216*i[d+3]+(i[d+4]<<16)+(i[d+5]<<8)+i[d+6])>=9e15?crypto.randomBytes(7).copy(i,d):(c.push(l%1e14),d+=7);d=a/7}else throw A=!1,Error(e$+"crypto unavailable")}if(!A)for(;d<a;)(l=n())<9e15&&(c[d++]=l%1e14);for(a=c[--d],t%=14,a&&t&&(l=eV[14-t],c[d]=eH(a/l)*l);0===c[d];c.pop(),d--);if(d<0)c=[s=0];else{for(s=-1;0===c[0];c.splice(0,1),s-=14);for(d=1,l=c[0];l>=10;l/=10,d++);d<14&&(s-=14-d)}return p.e=s,p.c=c,p}),BigNumber.sum=function(){for(var t=1,n=arguments,i=new BigNumber(n[0]);t<n.length;)i=i.plus(n[t++]);return i},c=function(){var t="0123456789";function toBaseOut(t,n,i,o){for(var s,a,l=[0],d=0,c=t.length;d<c;){for(a=l.length;a--;l[a]*=n);for(l[0]+=o.indexOf(t.charAt(d++)),s=0;s<l.length;s++)l[s]>i-1&&(null==l[s+1]&&(l[s+1]=0),l[s+1]+=l[s]/i|0,l[s]%=i)}return l.reverse()}return function(n,i,o,s,a){var l,c,p,g,b,w,_,v,S=n.indexOf("."),A=m,P=y;for(S>=0&&(g=T,T=0,n=n.replace(".",""),w=(v=new BigNumber(i)).pow(n.length-S),T=g,v.c=toBaseOut(toFixedPoint(coeffToString(w.c),w.e,"0"),10,o,t),v.e=v.c.length),p=g=(_=toBaseOut(n,i,o,a?(l=O,t):(l=t,O))).length;0==_[--g];_.pop());if(!_[0])return l.charAt(0);if(S<0?--p:(w.c=_,w.e=p,w.s=s,_=(w=d(w,v,A,P,o)).c,b=w.r,p=w.e),S=_[c=p+A+1],g=o/2,b=b||c<0||null!=_[c+1],b=P<4?(null!=S||b)&&(0==P||P==(w.s<0?3:2)):S>g||S==g&&(4==P||b||6==P&&1&_[c-1]||P==(w.s<0?8:7)),c<1||!_[0])n=b?toFixedPoint(l.charAt(1),-A,l.charAt(0)):l.charAt(0);else{if(_.length=c,b)for(--o;++_[--c]>o;)_[c]=0,c||(++p,_=[1].concat(_));for(g=_.length;!_[--g];);for(S=0,n="";S<=g;n+=l.charAt(_[S++]));n=toFixedPoint(n,p,l.charAt(0))}return n}}(),d=function(){function multiply(t,n,i){var o,s,a,l,d=0,c=t.length,p=n%1e7,g=n/1e7|0;for(t=t.slice();c--;)o=g*(a=t[c]%1e7)+(l=t[c]/1e7|0)*p,d=((s=p*a+o%1e7*1e7+d)/i|0)+(o/1e7|0)+g*l,t[c]=s%i;return d&&(t=[d].concat(t)),t}function compare(t,n,i,o){var s,a;if(i!=o)a=i>o?1:-1;else for(s=a=0;s<i;s++)if(t[s]!=n[s]){a=t[s]>n[s]?1:-1;break}return a}function subtract(t,n,i,o){for(var s=0;i--;)t[i]-=s,s=t[i]<n[i]?1:0,t[i]=s*o+t[i]-n[i];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(t,n,i,o,s){var a,l,d,c,p,g,b,m,y,w,_,v,S,A,P,T,R,O=t.s==n.s?1:-1,N=t.c,B=n.c;if(!N||!N[0]||!B||!B[0])return new BigNumber(t.s&&n.s&&(N?!B||N[0]!=B[0]:B)?N&&0==N[0]||!B?0*O:O/0:NaN);for(y=(m=new BigNumber(O)).c=[],O=i+(l=t.e-n.e)+1,s||(s=1e14,l=bitFloor(t.e/14)-bitFloor(n.e/14),O=O/14|0),d=0;B[d]==(N[d]||0);d++);if(B[d]>(N[d]||0)&&l--,O<0)y.push(1),c=!0;else{for(A=N.length,T=B.length,d=0,O+=2,(p=eH(s/(B[0]+1)))>1&&(B=multiply(B,p,s),N=multiply(N,p,s),T=B.length,A=N.length),S=T,_=(w=N.slice(0,T)).length;_<T;w[_++]=0);R=[0].concat(R=B.slice()),P=B[0],B[1]>=s/2&&P++;do{if(p=0,(a=compare(B,w,T,_))<0){if(v=w[0],T!=_&&(v=v*s+(w[1]||0)),(p=eH(v/P))>1)for(p>=s&&(p=s-1),b=(g=multiply(B,p,s)).length,_=w.length;1==compare(g,w,b,_);)p--,subtract(g,T<b?R:B,b,s),b=g.length,a=1;else 0==p&&(a=p=1),b=(g=B.slice()).length;if(b<_&&(g=[0].concat(g)),subtract(w,g,_,s),_=w.length,-1==a)for(;1>compare(B,w,T,_);)p++,subtract(w,T<_?R:B,_,s),_=w.length}else 0===a&&(p++,w=[0]);y[d++]=p,w[0]?w[_++]=N[S]||0:(w=[N[S]],_=1)}while((S++<A||null!=w[0])&&O--);c=null!=w[0],y[0]||y.splice(0,1)}if(1e14==s){for(d=1,O=y[0];O>=10;O/=10,d++);round(m,i+(m.e=d+14*l-1)+1,o,c)}else m.e=l,m.r=+c;return m}}(),i=/^(-?)0([xbo])(?=\w[\w.]*$)/i,o=/^([^.]+)\.$/,s=/^\.([^.]+)$/,a=/^-?(Infinity|NaN)$/,l=/^\s*\+(?=[\w.])|^\s+|\s+$/g,p=function(t,n,d,c){var p,g=d?n:n.replace(l,"");if(a.test(g))t.s=isNaN(g)?null:g<0?-1:1;else{if(!d&&(g=g.replace(i,function(t,n,i){return p="x"==(i=i.toLowerCase())?16:"b"==i?2:8,c&&c!=p?t:n}),c&&(p=c,g=g.replace(o,"$1").replace(s,"0.$1")),n!=g))return new BigNumber(g,p);if(BigNumber.DEBUG)throw Error(e$+"Not a"+(c?" base "+c:"")+" number: "+n);t.s=null}t.c=t.e=null},g.absoluteValue=g.abs=function(){var t=new BigNumber(this);return t.s<0&&(t.s=1),t},g.comparedTo=function(t,n){return compare(this,new BigNumber(t,n))},g.decimalPlaces=g.dp=function(t,n){var i,o,s;if(null!=t)return intCheck(t,0,1e9),null==n?n=y:intCheck(n,0,8),round(new BigNumber(this),t+this.e+1,n);if(!(i=this.c))return null;if(o=((s=i.length-1)-bitFloor(this.e/14))*14,s=i[s])for(;s%10==0;s/=10,o--);return o<0&&(o=0),o},g.dividedBy=g.div=function(t,n){return d(this,new BigNumber(t,n),m,y)},g.dividedToIntegerBy=g.idiv=function(t,n){return d(this,new BigNumber(t,n),0,1)},g.exponentiatedBy=g.pow=function(t,n){var i,o,s,a,l,d,c,p,g,m=this;if((t=new BigNumber(t)).c&&!t.isInteger())throw Error(e$+"Exponent not an integer: "+valueOf(t));if(null!=n&&(n=new BigNumber(n)),d=t.e>14,!m.c||!m.c[0]||1==m.c[0]&&!m.e&&1==m.c.length||!t.c||!t.c[0])return g=new BigNumber(Math.pow(+valueOf(m),d?t.s*(2-isOdd(t)):+valueOf(t))),n?g.mod(n):g;if(c=t.s<0,n){if(n.c?!n.c[0]:!n.s)return new BigNumber(NaN);(o=!c&&m.isInteger()&&n.isInteger())&&(m=m.mod(n))}else{if(t.e>9&&(m.e>0||m.e<-1||(0==m.e?m.c[0]>1||d&&m.c[1]>=24e7:m.c[0]<8e13||d&&m.c[0]<=9999975e7)))return a=m.s<0&&isOdd(t)?-0:0,m.e>-1&&(a=1/a),new BigNumber(c?1/a:a);T&&(a=eU(T/14+2))}for(d?(i=new BigNumber(.5),c&&(t.s=1),p=isOdd(t)):p=(s=Math.abs(+valueOf(t)))%2,g=new BigNumber(b);;){if(p){if(!(g=g.times(m)).c)break;a?g.c.length>a&&(g.c.length=a):o&&(g=g.mod(n))}if(s){if(0===(s=eH(s/2)))break;p=s%2}else if(round(t=t.times(i),t.e+1,1),t.e>14)p=isOdd(t);else{if(0==(s=+valueOf(t)))break;p=s%2}m=m.times(m),a?m.c&&m.c.length>a&&(m.c.length=a):o&&(m=m.mod(n))}return o?g:(c&&(g=b.div(g)),n?g.mod(n):a?round(g,T,y,l):g)},g.integerValue=function(t){var n=new BigNumber(this);return null==t?t=y:intCheck(t,0,8),round(n,n.e+1,t)},g.isEqualTo=g.eq=function(t,n){return 0===compare(this,new BigNumber(t,n))},g.isFinite=function(){return!!this.c},g.isGreaterThan=g.gt=function(t,n){return compare(this,new BigNumber(t,n))>0},g.isGreaterThanOrEqualTo=g.gte=function(t,n){return 1===(n=compare(this,new BigNumber(t,n)))||0===n},g.isInteger=function(){return!!this.c&&bitFloor(this.e/14)>this.c.length-2},g.isLessThan=g.lt=function(t,n){return 0>compare(this,new BigNumber(t,n))},g.isLessThanOrEqualTo=g.lte=function(t,n){return -1===(n=compare(this,new BigNumber(t,n)))||0===n},g.isNaN=function(){return!this.s},g.isNegative=function(){return this.s<0},g.isPositive=function(){return this.s>0},g.isZero=function(){return!!this.c&&0==this.c[0]},g.minus=function(t,n){var i,o,s,a,l=this.s;if(n=(t=new BigNumber(t,n)).s,!l||!n)return new BigNumber(NaN);if(l!=n)return t.s=-n,this.plus(t);var d=this.e/14,c=t.e/14,p=this.c,g=t.c;if(!d||!c){if(!p||!g)return p?(t.s=-n,t):new BigNumber(g?this:NaN);if(!p[0]||!g[0])return g[0]?(t.s=-n,t):new BigNumber(p[0]?this:3==y?-0:0)}if(d=bitFloor(d),c=bitFloor(c),p=p.slice(),l=d-c){for((a=l<0)?(l=-l,s=p):(c=d,s=g),s.reverse(),n=l;n--;s.push(0));s.reverse()}else for(o=(a=(l=p.length)<(n=g.length))?l:n,l=n=0;n<o;n++)if(p[n]!=g[n]){a=p[n]<g[n];break}if(a&&(s=p,p=g,g=s,t.s=-t.s),(n=(o=g.length)-(i=p.length))>0)for(;n--;p[i++]=0);for(n=1e14-1;o>l;){if(p[--o]<g[o]){for(i=o;i&&!p[--i];p[i]=n);--p[i],p[o]+=1e14}p[o]-=g[o]}for(;0==p[0];p.splice(0,1),--c);return p[0]?normalise(t,p,c):(t.s=3==y?-1:1,t.c=[t.e=0],t)},g.modulo=g.mod=function(t,n){var i,o;return(t=new BigNumber(t,n),this.c&&t.s&&(!t.c||t.c[0]))?t.c&&(!this.c||this.c[0])?(9==P?(o=t.s,t.s=1,i=d(this,t,0,3),t.s=o,i.s*=o):i=d(this,t,0,P),(t=this.minus(i.times(t))).c[0]||1!=P||(t.s=this.s),t):new BigNumber(this):new BigNumber(NaN)},g.multipliedBy=g.times=function(t,n){var i,o,s,a,l,d,c,p,g,b,m,y,w,_=this.c,v=(t=new BigNumber(t,n)).c;if(!_||!v||!_[0]||!v[0])return this.s&&t.s&&(!_||_[0]||v)&&(!v||v[0]||_)?(t.s*=this.s,_&&v?(t.c=[0],t.e=0):t.c=t.e=null):t.c=t.e=t.s=null,t;for(o=bitFloor(this.e/14)+bitFloor(t.e/14),t.s*=this.s,(c=_.length)<(b=v.length)&&(w=_,_=v,v=w,s=c,c=b,b=s),s=c+b,w=[];s--;w.push(0));for(s=b;--s>=0;){for(i=0,m=v[s]%1e7,y=v[s]/1e7|0,a=s+(l=c);a>s;)d=y*(p=_[--l]%1e7)+(g=_[l]/1e7|0)*m,i=((p=m*p+d%1e7*1e7+w[a]+i)/1e14|0)+(d/1e7|0)+y*g,w[a--]=p%1e14;w[a]=i}return i?++o:w.splice(0,1),normalise(t,w,o)},g.negated=function(){var t=new BigNumber(this);return t.s=-t.s||null,t},g.plus=function(t,n){var i,o=this.s;if(n=(t=new BigNumber(t,n)).s,!o||!n)return new BigNumber(NaN);if(o!=n)return t.s=-n,this.minus(t);var s=this.e/14,a=t.e/14,l=this.c,d=t.c;if(!s||!a){if(!l||!d)return new BigNumber(o/0);if(!l[0]||!d[0])return d[0]?t:new BigNumber(l[0]?this:0*o)}if(s=bitFloor(s),a=bitFloor(a),l=l.slice(),o=s-a){for(o>0?(a=s,i=d):(o=-o,i=l),i.reverse();o--;i.push(0));i.reverse()}for((o=l.length)-(n=d.length)<0&&(i=d,d=l,l=i,n=o),o=0;n;)o=(l[--n]=l[n]+d[n]+o)/1e14|0,l[n]=1e14===l[n]?0:l[n]%1e14;return o&&(l=[o].concat(l),++a),normalise(t,l,a)},g.precision=g.sd=function(t,n){var i,o,s;if(null!=t&&!!t!==t)return intCheck(t,1,1e9),null==n?n=y:intCheck(n,0,8),round(new BigNumber(this),t,n);if(!(i=this.c))return null;if(o=14*(s=i.length-1)+1,s=i[s]){for(;s%10==0;s/=10,o--);for(s=i[0];s>=10;s/=10,o++);}return t&&this.e+1>o&&(o=this.e+1),o},g.shiftedBy=function(t){return intCheck(t,-9007199254740991,9007199254740991),this.times("1e"+t)},g.squareRoot=g.sqrt=function(){var t,n,i,o,s,a=this.c,l=this.s,c=this.e,p=m+4,g=new BigNumber("0.5");if(1!==l||!a||!a[0])return new BigNumber(!l||l<0&&(!a||a[0])?NaN:a?this:1/0);if(0==(l=Math.sqrt(+valueOf(this)))||l==1/0?(((n=coeffToString(a)).length+c)%2==0&&(n+="0"),l=Math.sqrt(+n),c=bitFloor((c+1)/2)-(c<0||c%2),n=l==1/0?"5e"+c:(n=l.toExponential()).slice(0,n.indexOf("e")+1)+c,i=new BigNumber(n)):i=new BigNumber(l+""),i.c[0]){for((l=(c=i.e)+p)<3&&(l=0);;)if(s=i,i=g.times(s.plus(d(this,s,p,1))),coeffToString(s.c).slice(0,l)===(n=coeffToString(i.c)).slice(0,l)){if(i.e<c&&--l,"9999"!=(n=n.slice(l-3,l+1))&&(o||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(round(i,i.e+m+2,1),t=!i.times(i).eq(this));break}if(!o&&(round(s,s.e+m+2,0),s.times(s).eq(this))){i=s;break}p+=4,l+=4,o=1}}return round(i,i.e+m+1,y,t)},g.toExponential=function(t,n){return null!=t&&(intCheck(t,0,1e9),t++),format(this,t,n,1)},g.toFixed=function(t,n){return null!=t&&(intCheck(t,0,1e9),t=t+this.e+1),format(this,t,n)},g.toFormat=function(t,n,i){var o;if(null==i)null!=t&&n&&"object"==typeof n?(i=n,n=null):t&&"object"==typeof t?(i=t,t=n=null):i=R;else if("object"!=typeof i)throw Error(e$+"Argument not an object: "+i);if(o=this.toFixed(t,n),this.c){var s,a=o.split("."),l=+i.groupSize,d=+i.secondaryGroupSize,c=i.groupSeparator||"",p=a[0],g=a[1],b=this.s<0,m=b?p.slice(1):p,y=m.length;if(d&&(s=l,l=d,d=s,y-=s),l>0&&y>0){for(s=y%l||l,p=m.substr(0,s);s<y;s+=l)p+=c+m.substr(s,l);d>0&&(p+=c+m.slice(s)),b&&(p="-"+p)}o=g?p+(i.decimalSeparator||"")+((d=+i.fractionGroupSize)?g.replace(RegExp("\\d{"+d+"}\\B","g"),"$&"+(i.fractionGroupSeparator||"")):g):p}return(i.prefix||"")+o+(i.suffix||"")},g.toFraction=function(t){var n,i,o,s,a,l,c,p,g,m,w,_,v=this.c;if(null!=t&&(!(c=new BigNumber(t)).isInteger()&&(c.c||1!==c.s)||c.lt(b)))throw Error(e$+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+valueOf(c));if(!v)return new BigNumber(this);for(n=new BigNumber(b),g=i=new BigNumber(b),o=p=new BigNumber(b),_=coeffToString(v),a=n.e=_.length-this.e-1,n.c[0]=eV[(l=a%14)<0?14+l:l],t=!t||c.comparedTo(n)>0?a>0?n:g:c,l=S,S=1/0,c=new BigNumber(_),p.c[0]=0;m=d(c,n,0,1),1!=(s=i.plus(m.times(o))).comparedTo(t);)i=o,o=s,g=p.plus(m.times(s=g)),p=s,n=c.minus(m.times(s=n)),c=s;return s=d(t.minus(i),o,0,1),p=p.plus(s.times(g)),i=i.plus(s.times(o)),p.s=g.s=this.s,a*=2,w=1>d(g,o,a,y).minus(this).abs().comparedTo(d(p,i,a,y).minus(this).abs())?[g,o]:[p,i],S=l,w},g.toNumber=function(){return+valueOf(this)},g.toPrecision=function(t,n){return null!=t&&intCheck(t,1,1e9),format(this,t,n,2)},g.toString=function(t){var n,i=this,o=i.s,s=i.e;return null===s?o?(n="Infinity",o<0&&(n="-"+n)):n="NaN":(null==t?n=s<=w||s>=_?toExponential(coeffToString(i.c),s):toFixedPoint(coeffToString(i.c),s,"0"):10===t&&N?n=toFixedPoint(coeffToString((i=round(new BigNumber(i),m+s+1,y)).c),i.e,"0"):(intCheck(t,2,O.length,"Base"),n=c(toFixedPoint(coeffToString(i.c),s,"0"),10,t,o,!0)),o<0&&i.c[0]&&(n="-"+n)),n},g.valueOf=g.toJSON=function(){return valueOf(this)},g._isBigNumber=!0,g[Symbol.toStringTag]="BigNumber",g[Symbol.for("nodejs.util.inspect.custom")]=g.valueOf,null!=t&&BigNumber.set(t),BigNumber}(),i(1206),(class extends Error{}).prototype.name="InvalidTokenError",i(8764).Buffer;let eG={IFRAME_STATUS:"iframe_status",CLOSE_WINDOW:"close_window",USER_LOGGED_IN:"user_logged_in",USER_LOGGED_OUT:"user_logged_out"},eJ={LOGOUT:"logout",WALLET_INSTANCE_ID:"wallet_instance_id",USER_INFO:"user_info",SET_PROVIDER:"set_provider",TOPUP:"topup",IFRAME_STATUS:"iframe_status",CLOSED_WINDOW:"closed_window",GET_PROVIDER_STATE:"get_provider_state"},eK={GET_PROVIDER_STATE:"wallet_get_provider_state"},eZ={ACCOUNTS_CHANGED:"wallet_accounts_changed",CHAIN_CHANGED:"wallet_chain_changed",UNLOCK_STATE_CHANGED:"wallet_unlock_state_changed"};var eY=((c=eY||{})[c.GET=0]="GET",c[c.POST=1]="POST",c[c.PUT=2]="PUT",c[c.PATCH=3]="PATCH",c[c.DELETE=4]="DELETE",c),eQ=i(9826),eX=i(4063),e0=i.n(eX),e1=i(8764).Buffer;function isStream(t){return null!==t&&"object"==typeof t&&"function"==typeof t.pipe}var e2={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",unsupportedSync:t=>`Torus: The Torus Ethereum provider does not support synchronous methods like ${t} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:t=>`Invalid options. Received: { maxEventListeners: ${t}}`,invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:t=>`'args.logger' must include required method '${t}'.`},info:{connected:t=>`Torus: Connected to chain with ID "${t}".`}};let e4={MOONPAY:"moonpay",WYRE:"wyre",RAMPNETWORK:"rampnetwork",XANPOOL:"xanpool",MERCURYO:"mercuryo",TRANSAK:"transak"},e8={PRODUCTION:"production",DEVELOPMENT:"development",TESTING:"testing"},e3={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},e6={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",LINE:"line",GITHUB:"github",KAKAO:"kakao",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless"};var e9={supportedVerifierList:[e6.GOOGLE,e6.REDDIT,e6.DISCORD],api:"https://api.tor.us",translations:{en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"",actionRequired:"",pendingAction:"",cookiesRequired:"",enableCookies:"TorusCookie",clickHere:""}},ko:{embed:{continue:"",actionRequired:" ",pendingAction:"    .",cookiesRequired:" ",enableCookies:"     Torus .",clickHere:"  "}},zh:{embed:{continue:"",actionRequired:"",pendingAction:"",cookiesRequired:"Cookie",enableCookies:"cookieTorus",clickHere:""}}},prodTorusUrl:"",localStorageKeyPrefix:"torus-"},e7=L().getLogger("solana-embed");let getWindowId=()=>Math.random().toString(36).slice(2),getTorusUrl=async t=>{let n,i;switch(t){case"testing":n="https://solana-testing.tor.us",i="debug";break;case"development":n="http://localhost:8080",i="debug";break;default:n="https://solana.tor.us",i="error"}return{torusUrl:n,logLevel:i}},getUserLanguage=()=>{let t=window.navigator.language||"en-US",n=t.split("-");return Object.prototype.hasOwnProperty.call(e9.translations,n[0])?n[0]:"en"},e5={height:660,width:375},te={height:740,width:1315},tt={height:700,width:1200},tr={height:600,width:400};function solanaEmbed_esm_getPopupFeatures(t){let{width:n,height:i}=t,o=void 0!==window.screenLeft?window.screenLeft:window.screenX,s=void 0!==window.screenTop?window.screenTop:window.screenY,a=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,l=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,d=`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${i/1},width=${n/1},top=${Math.abs((l-i)/2/1+s)},left=${Math.abs((a-n)/2/1+o)}`;return d}let BaseProvider=class BaseProvider extends openloginJrpc_esm_SafeEventEmitter{constructor(t,n){var i,o;let{maxEventListeners:s=100,jsonRpcStreamName:a="provider"}=n;if(super(),defineProperty_defineProperty(this,"isTorus",void 0),defineProperty_defineProperty(this,"_rpcEngine",void 0),defineProperty_defineProperty(this,"jsonRpcConnectionEvents",void 0),defineProperty_defineProperty(this,"_state",void 0),!(isStream(t)&&!1!==t.writable&&"function"==typeof t._write&&"object"==typeof t._writableState&&isStream(i=t)&&!1!==i.readable&&"function"==typeof i._read&&"object"==typeof i._readableState))throw Error(e2.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(s),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.sendAsync=this.sendAsync.bind(this);let l=new ObjectMultiplex;M()(t,l,t,this._handleStreamDisconnect.bind(this,"Torus")),l.ignoreStream("phishing");let d=function(){let t={},n=new openloginJrpc_esm_SafeEventEmitter,i=new v.Duplex({objectMode:!0,read:function(){return!1},write:function(i,o,s){let a;try{let o=!i.id;o?n.emit("notification",i):!function(n){let i=t[n.id];if(!i)throw Error(`StreamMiddleware - Unknown response id "${n.id}"`);delete t[n.id],Object.assign(i.res,n),setTimeout(i.end)}(i)}catch(t){a=t}s(a)}});return{events:n,middleware:(n,o,s,a)=>{i.push(n),t[n.id]={req:n,res:o,next:s,end:a}},stream:i}}();M()(d.stream,l.createStream(a),d.stream,this._handleStreamDisconnect.bind(this,"Torus RpcProvider"));let c=new openloginJrpc_esm_JRPCEngine;c.push((t,n,i,o)=>{let s=t.id,a=Math.random().toString(36).slice(2);t.id=a,n.id=a,i(i=>{t.id=s,n.id=s,i()})}),c.push((t,n,i)=>{"string"==typeof t.method&&t.method||(n.error=eQ.Sy.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:t})),i(t=>{let{error:i}=n;return i&&e7.error(`Torus - RPC Error: ${i.message}`,i),t()})}),c.push((o={origin:location.origin},function(t,n,i){i(i=>{n.error&&L().warn("Error in RPC response:\n",n),t.isTorusInternal||(L().info(`RPC (${o.origin}):`,t,"->",n),i())})})),c.push(d.middleware),this._rpcEngine=c,this.jsonRpcConnectionEvents=d.events}async request(t){if(!t||"object"!=typeof t||Array.isArray(t))throw eQ.Sy.rpc.invalidRequest({message:e2.errors.invalidRequestArgs(),data:t});let{method:n,params:i}=t;if("string"!=typeof n||0===n.length)throw eQ.Sy.rpc.invalidRequest({message:e2.errors.invalidRequestMethod(),data:t});if(void 0!==i&&!Array.isArray(i)&&("object"!=typeof i||null===i))throw eQ.Sy.rpc.invalidRequest({message:e2.errors.invalidRequestParams(),data:t});return new Promise((t,o)=>{this._rpcRequest({method:n,params:i},getRpcPromiseCallback(t,o))})}send(t,n){this._rpcRequest(t,n)}sendAsync(t){return new Promise((n,i)=>{this._rpcRequest(t,getRpcPromiseCallback(n,i))})}_handleStreamDisconnect(t,n){let i;i=`Torus: Lost connection to "${t}".`,n?.stack&&(i+=`
${n.stack}`),e7.warn(i),this&&this.listenerCount("error")>0&&this.emit("error",i),this._handleDisconnect(!1,n?n.message:void 0)}};let htmlToElement=t=>{let n=window.document.createElement("template"),i=t.trim();return n.innerHTML=i,n.content.firstChild};function isLegacyTransactionInstance(t){return void 0===t.version}let solanaEmbed_esm_PopupHandler=class solanaEmbed_esm_PopupHandler extends openloginJrpc_esm_SafeEventEmitter{constructor(t){let{url:n,target:i,features:o,timeout:s=3e4}=t;super(),defineProperty_defineProperty(this,"url",void 0),defineProperty_defineProperty(this,"target",void 0),defineProperty_defineProperty(this,"features",void 0),defineProperty_defineProperty(this,"window",void 0),defineProperty_defineProperty(this,"windowTimer",void 0),defineProperty_defineProperty(this,"iClosedWindow",void 0),defineProperty_defineProperty(this,"timeout",void 0),this.url=n,this.target=i||"_blank",this.features=o||solanaEmbed_esm_getPopupFeatures(tt),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=s,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){return this.window=window.open(this.url.href,this.target,this.features),this.window?.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(t){t?window.location.replace(this.url.href):window.location.href=this.url.href}};let TorusCommunicationProvider=class TorusCommunicationProvider extends BaseProvider{constructor(t,n){let{maxEventListeners:i=100,jsonRpcStreamName:o="provider"}=n;super(t,{maxEventListeners:i,jsonRpcStreamName:o}),defineProperty_defineProperty(this,"embedTranslations",void 0),defineProperty_defineProperty(this,"torusUrl",void 0),defineProperty_defineProperty(this,"dappStorageKey",void 0),defineProperty_defineProperty(this,"windowRefs",void 0),defineProperty_defineProperty(this,"tryWindowHandle",void 0),defineProperty_defineProperty(this,"torusAlertContainer",void 0),defineProperty_defineProperty(this,"torusIframe",void 0),this._state=_objectSpread2({},TorusCommunicationProvider._defaultState),this.torusUrl="",this.dappStorageKey="";let s=e9.translations[getUserLanguage()];this.embedTranslations=s.embed,this.windowRefs={},this.on("connect",()=>{this._state.isConnected=!0}),this.jsonRpcConnectionEvents.on("notification",t=>{let{method:n,params:i}=t;if(n===eG.IFRAME_STATUS){let{isFullScreen:t,rid:n}=i;this._displayIframe({isFull:t,rid:n})}else if("create_window"===n){let{windowId:t,url:n}=i;this._createPopupBlockAlert(t,n)}else if(n===eG.CLOSE_WINDOW)this._handleCloseWindow(i);else if(n===eG.USER_LOGGED_IN){let{currentLoginProvider:t}=i;this._state.isLoggedIn=!0,this._state.currentLoginProvider=t}else n===eG.USER_LOGGED_OUT&&(this._state.isLoggedIn=!1,this._state.currentLoginProvider=null,this._displayIframe())})}get isLoggedIn(){return this._state.isLoggedIn}get isIFrameFullScreen(){return this._state.isIFrameFullScreen}isConnected(){return this._state.isConnected}async _initializeState(t){try{let{torusUrl:n,dappStorageKey:i,torusAlertContainer:o,torusIframe:s}=t;this.torusUrl=n,this.dappStorageKey=i,this.torusAlertContainer=o,this.torusIframe=s,this.torusIframe.addEventListener("load",()=>{this._state.isIFrameFullScreen||this._displayIframe()});let{currentLoginProvider:a,isLoggedIn:l}=await this.request({method:eJ.GET_PROVIDER_STATE,params:[]});this._handleConnect(a,l)}catch(t){e7.error("Torus: Failed to get initial state. Please report this bug.",t)}finally{e7.info("initialized communication state"),this._state.initialized=!0,this.emit("_initialized")}}_handleWindow(t){let{url:n,target:i,features:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=new URL(n||`${this.torusUrl}/redirect?windowId=${t}`);this.dappStorageKey&&(s.hash?s.hash+=`&dappStorageKey=${this.dappStorageKey}`:s.hash=`#dappStorageKey=${this.dappStorageKey}`);let a=new solanaEmbed_esm_PopupHandler({url:s,target:i,features:o});if(a.open(),!a.window){this._createPopupBlockAlert(t,s.href);return}this.windowRefs[t]=a,this.request({method:"opened_window",params:{windowId:t}}),a.once("close",()=>{delete this.windowRefs[t],this.request({method:eJ.CLOSED_WINDOW,params:{windowId:t}})})}_displayIframe(){let{isFull:t=!1,rid:n=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={};if(t)i.display="block",i.width="100%",i.height="100%",i.top="0px",i.right="0px",i.left="0px",i.bottom="0px";else switch(i.display=this._state.torusWidgetVisibility?"block":"none",i.height="70px",i.width="70px",this._state.buttonPosition){case e3.TOP_LEFT:i.top="0px",i.left="0px",i.right="auto",i.bottom="auto";break;case e3.TOP_RIGHT:i.top="0px",i.right="0px",i.left="auto",i.bottom="auto";break;case e3.BOTTOM_RIGHT:i.bottom="0px",i.right="0px",i.top="auto",i.left="auto";break;case e3.BOTTOM_LEFT:default:i.bottom="0px",i.left="0px",i.top="auto",i.right="auto"}Object.assign(this.torusIframe.style,i),this._state.isIFrameFullScreen=t,this.request({method:eJ.IFRAME_STATUS,params:{isIFrameFullScreen:t,rid:n}})}hideTorusButton(){this._state.torusWidgetVisibility=!1,this._displayIframe()}showTorusButton(){this._state.torusWidgetVisibility=!0,this._displayIframe()}_rpcRequest(t,n){Array.isArray(t)||t.jsonrpc||(t.jsonrpc="2.0"),this.tryWindowHandle(t,n)}_handleConnect(t,n){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{currentLoginProvider:t,isLoggedIn:n}),e7.debug(e2.info.connected(t)))}_handleDisconnect(t,n){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!t){let i;this._state.isConnected=!1,t?(i=new eQ.Cg(1013,n||e2.errors.disconnected()),e7.debug(i)):(i=new eQ.Cg(1011,n||e2.errors.permanentlyDisconnected()),e7.error(i),this._state.currentLoginProvider=null,this._state.isLoggedIn=!1,this._state.torusWidgetVisibility=!1,this._state.isIFrameFullScreen=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",i)}}_handleCloseWindow(t){let{windowId:n}=t;this.windowRefs[n]&&(this.windowRefs[n].close(),delete this.windowRefs[n])}async _createPopupBlockAlert(t,n){let i=this.getLogoUrl(),o=htmlToElement(`<div id="torusAlert" class="torus-alert--v2"><div id="torusAlert__logo"><img src="${i}" /></div><div><h1 id="torusAlert__title">${this.embedTranslations.actionRequired}</h1><p id="torusAlert__desc">${this.embedTranslations.pendingAction}</p></div></div>`),s=htmlToElement(`<div><a id="torusAlert__btn">${this.embedTranslations.continue}</a></div>`),a=htmlToElement('<div id="torusAlert__btn-container"></div>');a.appendChild(s),o.appendChild(a),(()=>{this.torusAlertContainer.appendChild(o)})(),(()=>{s.addEventListener("click",()=>{this._handleWindow(t,{url:n,target:"_blank",features:solanaEmbed_esm_getPopupFeatures(tr)}),o.remove(),0===this.torusAlertContainer.children.length&&(this.torusAlertContainer.style.display="none")})})(),this.torusAlertContainer.style.display="block"}getLogoUrl(){let t=`${this.torusUrl}/images/torus_icon-blue.svg`;return t}};defineProperty_defineProperty(TorusCommunicationProvider,"_defaultState",{buttonPosition:"bottom-left",currentLoginProvider:null,isIFrameFullScreen:!1,hasEmittedConnection:!1,torusWidgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1});let TorusInPageProvider=class TorusInPageProvider extends BaseProvider{constructor(t,n){let{maxEventListeners:i=100,jsonRpcStreamName:o="provider"}=n;super(t,{maxEventListeners:i,jsonRpcStreamName:o}),defineProperty_defineProperty(this,"chainId",void 0),defineProperty_defineProperty(this,"selectedAddress",void 0),defineProperty_defineProperty(this,"tryWindowHandle",void 0),this._state=_objectSpread2({},TorusInPageProvider._defaultState),this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this.on("connect",()=>{this._state.isConnected=!0}),this.jsonRpcConnectionEvents.on("notification",t=>{let{method:n,params:i}=t;n===eZ.ACCOUNTS_CHANGED?this._handleAccountsChanged(i):n===eZ.UNLOCK_STATE_CHANGED?this._handleUnlockStateChanged(i):n===eZ.CHAIN_CHANGED&&this._handleChainChanged(i)})}isConnected(){return this._state.isConnected}async _initializeState(){try{let{accounts:t,chainId:n,isUnlocked:i}=await this.request({method:eK.GET_PROVIDER_STATE,params:[]});this.emit("connect",{chainId:n}),this._handleChainChanged({chainId:n}),this._handleUnlockStateChanged({accounts:t,isUnlocked:i}),this._handleAccountsChanged(t)}catch(t){e7.error("Torus: Failed to get initial state. Please report this bug.",t)}finally{e7.info("initialized provider state"),this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(t,n){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=n;if(!Array.isArray(t)){if(t.jsonrpc||(t.jsonrpc="2.0"),"solana_accounts"===t.method||"solana_requestAccounts"===t.method)o=(o,s)=>{this._handleAccountsChanged(s.result||[],"solana_accounts"===t.method,i),n(o,s)};else if("wallet_getProviderState"===t.method){this._rpcEngine.handle(t,o);return}}this.tryWindowHandle(t,o)}_handleConnect(t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:t}),e7.debug(e2.info.connected(t)))}_handleDisconnect(t,n){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!t){let i;this._state.isConnected=!1,t?(i=new eQ.Cg(1013,n||e2.errors.disconnected()),e7.debug(i)):(i=new eQ.Cg(1011,n||e2.errors.permanentlyDisconnected()),e7.error(i),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",i)}}_handleAccountsChanged(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t;for(let n of(Array.isArray(o)||(e7.error("Torus: Received non-array accounts parameter. Please report this bug.",o),o=[]),t))if("string"!=typeof n){e7.error("Torus: Received non-string account. Please report this bug.",t),o=[];break}e0()(this._state.accounts,o)||(n&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!i&&e7.error('Torus: "solana_accounts" unexpectedly updated accounts. Please report this bug.',o),this._state.accounts=o,this.emit("accountsChanged",o)),this.selectedAddress!==o[0]&&(this.selectedAddress=o[0]||null)}_handleChainChanged(){let{chainId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t){e7.error("Torus: Received invalid network parameters. Please report this bug.",{chainId:t});return}"loading"===t?this._handleDisconnect(!0):(this._handleConnect(t),t!==this.chainId&&(this.chainId=t,this._state.initialized&&this.emit("chainChanged",this.chainId)))}_handleUnlockStateChanged(){let{accounts:t,isUnlocked:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("boolean"!=typeof n){e7.error("Torus: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:n});return}n!==this._state.isUnlocked&&(this._state.isUnlocked=n,this._handleAccountsChanged(t||[]))}};function imgExists(t){return new Promise((n,i)=>{try{let i=document.createElement("img");i.onload=()=>n(!0),i.onerror=()=>n(!1),i.src=t}catch(t){i(t)}})}defineProperty_defineProperty(TorusInPageProvider,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});let getSiteName=t=>{let{document:n}=t,i=n.querySelector('head > meta[property="og:site_name"]');if(i)return i.content;let o=n.querySelector('head > meta[name="title"]');return o?o.content:n.title&&n.title.length>0?n.title:t.location.hostname};async function getSiteIcon(t){try{let{document:n}=t,i=n.querySelector('head > link[rel="shortcut icon"]');if(i&&await imgExists(i.href)||(i=Array.from(n.querySelectorAll('head > link[rel="icon"]')).find(t=>!!t.href))&&await imgExists(i.href))return i.href;return""}catch(t){return""}}let getSiteMetadata=async()=>({name:getSiteName(window),icon:await getSiteIcon(window)}),tn=["send_transaction","sign_transaction","sign_all_transactions","sign_message","connect"],ti=[eJ.SET_PROVIDER],to=function(t){let n;try{n=window[t];let i="__storage_test__";return n.setItem(i,i),n.removeItem(i),!0}catch(t){return t&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&n&&0!==n.length}}("localStorage");!async function(){try{if("undefined"==typeof document)return;let t=document.createElement("link"),{torusUrl:n}=await getTorusUrl("production");t.href=`${n}/frame`,t.crossOrigin="anonymous",t.type="text/html",t.rel="prefetch",t.relList&&t.relList.supports&&t.relList.supports("prefetch")&&document.head.appendChild(t)}catch(t){e7.warn(t)}}();let Torus=class Torus{constructor(){let{modalZIndex:t=99999}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};defineProperty_defineProperty(this,"isInitialized",void 0),defineProperty_defineProperty(this,"torusAlert",void 0),defineProperty_defineProperty(this,"modalZIndex",void 0),defineProperty_defineProperty(this,"alertZIndex",void 0),defineProperty_defineProperty(this,"requestedLoginProvider",void 0),defineProperty_defineProperty(this,"provider",void 0),defineProperty_defineProperty(this,"communicationProvider",void 0),defineProperty_defineProperty(this,"dappStorageKey",void 0),defineProperty_defineProperty(this,"isTopupHidden",!1),defineProperty_defineProperty(this,"torusAlertContainer",void 0),defineProperty_defineProperty(this,"torusUrl",void 0),defineProperty_defineProperty(this,"torusIframe",void 0),defineProperty_defineProperty(this,"styleLink",void 0),this.torusUrl="",this.isInitialized=!1,this.requestedLoginProvider=null,this.modalZIndex=t,this.alertZIndex=t+1e3,this.dappStorageKey=""}get isLoggedIn(){return!!this.communicationProvider&&this.communicationProvider.isLoggedIn}async init(){let{buildEnv:t=e8.PRODUCTION,enableLogging:n=!1,network:i,showTorusButton:o=!1,useLocalStorage:s=!1,buttonPosition:a=e3.BOTTOM_LEFT,apiKey:l="torus-default",extraParams:d={},whiteLabel:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isInitialized)throw Error("Already initialized");let{torusUrl:p,logLevel:g}=await getTorusUrl(t);e7.enableAll(),e7.info(p,"url loaded"),e7.info("Solana Embed Version :2.1.0"),this.torusUrl=p,e7.setDefaultLevel(g),n?e7.enableAll():e7.disableAll();let b=this.handleDappStorageKey(s),m=new URL(p);m.pathname.endsWith("/")?m.pathname+="frame":m.pathname+="/frame";let y=new URLSearchParams;return b&&y.append("dappStorageKey",b),y.append("origin",window.location.origin),m.hash=y.toString(),this.torusIframe=htmlToElement(`<iframe
        id="torusIframe"
        class="torusIframe"
        src="${m.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%;
        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex.toString()}"
      ></iframe>`),this.torusAlertContainer=htmlToElement(`<div id="torusAlertContainer" style="display:none; z-index: ${this.alertZIndex.toString()}"></div>`),this.styleLink=htmlToElement(`<link href="${p}/css/widget.css" rel="stylesheet" type="text/css">`),new Promise((t,n)=>{try{this.torusIframe.addEventListener("load",async()=>{let n=await getSiteMetadata();this.torusIframe.contentWindow.postMessage({buttonPosition:a,apiKey:l,network:i,dappMetadata:n,extraParams:d,whiteLabel:c},m.origin),await this._setupWeb3({torusUrl:p}),o&&this.showTorusButton(),c?.topupHide?this.isTopupHidden=c.topupHide:this.hideTorusButton(),this.isInitialized=!0,window.torus=this,t()}),window.document.head.appendChild(this.styleLink),window.document.body.appendChild(this.torusIframe),window.document.body.appendChild(this.torusAlertContainer)}catch(t){n(t)}})}async login(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isInitialized)throw Error("Call init() first");try{this.requestedLoginProvider=t.loginProvider||null,this.requestedLoginProvider||this.communicationProvider._displayIframe({isFull:!0});let n=await new Promise((n,i)=>{this.provider._rpcRequest({method:"solana_requestAccounts",params:[this.requestedLoginProvider,t.login_hint]},getRpcPromiseCallback(n,i))});if(Array.isArray(n)&&n.length>0)return n;throw Error("Login failed")}catch(t){throw e7.error("login failed",t),t}finally{this.communicationProvider.isIFrameFullScreen&&this.communicationProvider._displayIframe()}}async loginWithPrivateKey(t){if(!this.isInitialized)throw Error("Call init() first");let{privateKey:n,userInfo:i}=t,{success:o}=await this.communicationProvider.request({method:"login_with_private_key",params:{privateKey:n,userInfo:i}});if(!o)throw Error("Login Failed")}async logout(){if(!this.communicationProvider.isLoggedIn)throw Error("Not logged in");await this.communicationProvider.request({method:eJ.LOGOUT,params:[]}),this.requestedLoginProvider=null}async cleanUp(){this.communicationProvider.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function isElement(t){return t instanceof Element||t instanceof Document}isElement(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),isElement(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),isElement(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.communicationProvider.hideTorusButton()}showTorusButton(){this.communicationProvider.showTorusButton()}async setProvider(t){await this.communicationProvider.request({method:eJ.SET_PROVIDER,params:_objectSpread2({},t)})}async showWallet(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=await this.communicationProvider.request({method:eJ.WALLET_INSTANCE_ID,params:[]}),o=t?`/${t}`:"",s=new URL(`${this.torusUrl}/wallet${o}`);s.searchParams.append("instanceId",i),Object.keys(n).forEach(t=>{s.searchParams.append(t,n[t])}),this.dappStorageKey&&(s.hash=`#dappStorageKey=${this.dappStorageKey}`);let a=new solanaEmbed_esm_PopupHandler({url:s,features:solanaEmbed_esm_getPopupFeatures(te)});a.open()}async getUserInfo(){let t=await this.communicationProvider.request({method:eJ.USER_INFO,params:[]});return t}async initiateTopup(t,n){if(!this.isInitialized)throw Error("Torus is not initialized");let i=getWindowId();this.communicationProvider._handleWindow(i);let o=await this.communicationProvider.request({method:eJ.TOPUP,params:{provider:t,params:n,windowId:i}});return o}async getAccounts(){let t=await this.provider.request({method:"getAccounts",params:[]});return t}async sendTransaction(t){let n=isLegacyTransactionInstance(t),i=n?t.serialize({requireAllSignatures:!1}).toString("hex"):e1.from(t.serialize()).toString("hex"),o=await this.provider.request({method:"send_transaction",params:{message:i,isLegacyTransaction:n}});return o}async signAndSendTransaction(t,n){let i=isLegacyTransactionInstance(t),o=i?t.serialize({requireAllSignatures:!1}).toString("hex"):e1.from(t.serialize()).toString("hex"),s=await this.provider.request({method:"send_transaction",params:{message:o,options:n,isLegacyTransaction:i}});return{signature:s}}async signTransaction(t){let n=isLegacyTransactionInstance(t),i=n?t.serializeMessage().toString("hex"):e1.from(t.message.serialize()).toString("hex"),o=await this.provider.request({method:"sign_transaction",params:{message:i,messageOnly:!0,isLegacyTransaction:n}}),s=JSON.parse(o),a={publicKey:new _.nh(s.publicKey),signature:e1.from(s.signature,"hex")};return t.addSignature(a.publicKey,a.signature),t}async signAllTransactions(t){let n;let i=t.map(t=>(n=isLegacyTransactionInstance(t))?t.serializeMessage().toString("hex"):e1.from(t.message.serialize()).toString("hex")),o=await this.provider.request({method:"sign_all_transactions",params:{message:i,messageOnly:!0,isLegacyTransaction:n}}),s=o.map(t=>{let n=JSON.parse(t);return{publicKey:new _.nh(n.publicKey),signature:e1.from(n.signature,"hex")}});return t.forEach((t,n)=>(t.addSignature(s[n].publicKey,s[n].signature),t)),t}async signMessage(t){let n=await this.provider.request({method:"sign_message",params:{data:t}});return n}async getGaslessPublicKey(){let t=await this.provider.request({method:"get_gasless_public_key",params:[]});return t}handleDappStorageKey(t){let n=`${e9.localStorageKeyPrefix}${window.location.hostname}`,i="";if(to&&t){let t=window.localStorage.getItem(n);if(t)i=t;else{let t=`torus-app-${getWindowId()}`;window.localStorage.setItem(n,t),i=t}}return this.dappStorageKey=i,i}async _setupWeb3(t){e7.info("setupWeb3 running");let n=new BasePostMessageStream({name:"embed_torus",target:"iframe_torus",targetWindow:this.torusIframe.contentWindow}),i=new BasePostMessageStream({name:"embed_communication",target:"iframe_communication",targetWindow:this.torusIframe.contentWindow}),o=new TorusInPageProvider(n,{}),s=new TorusCommunicationProvider(i,{});o.tryWindowHandle=(t,n)=>{if(!Array.isArray(t)&&tn.includes(t.method)){if(!this.communicationProvider.isLoggedIn)throw Error("User Not Logged In");let n=getWindowId();s._handleWindow(n,{target:"_blank",features:solanaEmbed_esm_getPopupFeatures(tr)}),t.windowId=n}o._rpcEngine.handle(t,n)},s.tryWindowHandle=(t,n)=>{if(!Array.isArray(t)&&ti.includes(t.method)){let n=getWindowId();s._handleWindow(n,{target:"_blank",features:solanaEmbed_esm_getPopupFeatures(e5)}),t.params.windowId=n}s._rpcEngine.handle(t,n)};let detectAccountRequestPrototypeModifier=t=>{let n=o[t],i=this;o[t]=function(t,o){let{method:s,params:a=[]}=t;if("solana_requestAccounts"===s){if(!o)return i.login({loginProvider:a[0]});i.login({loginProvider:a[0]}).then(t=>o(null,t)).catch(t=>o(t))}return n.apply(this,[t,o])}};detectAccountRequestPrototypeModifier("request"),detectAccountRequestPrototypeModifier("sendAsync"),detectAccountRequestPrototypeModifier("send");let a=new Proxy(o,{deleteProperty:()=>!0}),l=new Proxy(s,{deleteProperty:()=>!0});this.provider=a,this.communicationProvider=l,await Promise.all([o._initializeState(),s._initializeState(_objectSpread2(_objectSpread2({},t),{},{dappStorageKey:this.dappStorageKey,torusAlertContainer:this.torusAlertContainer,torusIframe:this.torusIframe}))]),e7.debug("Torus - injected provider")}}},8599:function(t){"use strict";let{AbortController:n,AbortSignal:i}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;t.exports=n,t.exports.AbortSignal=i,t.exports.default=n},2240:function(t,n,i){"use strict";var o=i(8764).Buffer,s=i(1518);function encode(t,n){return(void 0===n&&(n="utf8"),o.isBuffer(t))?fromBase64(t.toString("base64")):fromBase64(o.from(t,n).toString("base64"))}function toBase64(t){return t=t.toString(),s.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function fromBase64(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}encode.encode=encode,encode.decode=function(t,n){return void 0===n&&(n="utf8"),o.from(toBase64(t),"base64").toString(n)},encode.toBase64=toBase64,encode.fromBase64=fromBase64,encode.toBuffer=function(t){return o.from(toBase64(t),"base64")},n.default=encode},1518:function(t,n,i){"use strict";var o=i(8764).Buffer;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var n=t.length,i=n%4;if(!i)return t;var s=n,a=4-i,l=n+a,d=o.alloc(l);for(d.write(t);a--;)d.write("=",s++);return d.toString()}},5772:function(t,n,i){t.exports=i(2240).default,t.exports.default=t.exports},1206:function(t){t.exports=function(t){var n={};function r(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=n,r.d=function(t,n,i){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n||4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(i,o,(function(n){return t[n]}).bind(null,o));return i},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=90)}({17:function(t,n,i){"use strict";n.__esModule=!0,n.default=void 0;var o=i(18),s=function(){function e(){}return e.getFirstMatch=function(t,n){var i=n.match(t);return i&&i.length>0&&i[1]||""},e.getSecondMatch=function(t,n){var i=n.match(t);return i&&i.length>1&&i[2]||""},e.matchAndReturnConst=function(t,n,i){if(t.test(n))return i},e.getWindowsVersionName=function(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(t){var n=t.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(n.push(0),10===n[0])switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(t){var n=t.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(n.push(0),!(1===n[0]&&n[1]<5))return 1===n[0]&&n[1]<6?"Cupcake":1===n[0]&&n[1]>=6?"Donut":2===n[0]&&n[1]<2?"Eclair":2===n[0]&&2===n[1]?"Froyo":2===n[0]&&n[1]>2?"Gingerbread":3===n[0]?"Honeycomb":4===n[0]&&n[1]<1?"Ice Cream Sandwich":4===n[0]&&n[1]<4?"Jelly Bean":4===n[0]&&n[1]>=4?"KitKat":5===n[0]?"Lollipop":6===n[0]?"Marshmallow":7===n[0]?"Nougat":8===n[0]?"Oreo":9===n[0]?"Pie":void 0},e.getVersionPrecision=function(t){return t.split(".").length},e.compareVersions=function(t,n,i){void 0===i&&(i=!1);var o=e.getVersionPrecision(t),s=e.getVersionPrecision(n),a=Math.max(o,s),l=0,d=e.map([t,n],function(t){var n=a-e.getVersionPrecision(t),i=t+Array(n+1).join(".0");return e.map(i.split("."),function(t){return Array(20-t.length).join("0")+t}).reverse()});for(i&&(l=a-Math.min(o,s)),a-=1;a>=l;){if(d[0][a]>d[1][a])return 1;if(d[0][a]===d[1][a]){if(a===l)return 0;a-=1}else if(d[0][a]<d[1][a])return -1}},e.map=function(t,n){var i,o=[];if(Array.prototype.map)return Array.prototype.map.call(t,n);for(i=0;i<t.length;i+=1)o.push(n(t[i]));return o},e.find=function(t,n){var i,o;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(i=0,o=t.length;i<o;i+=1){var s=t[i];if(n(s,i))return s}},e.assign=function(t){for(var n,i,o=arguments.length,s=Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[t].concat(s));for(n=0,i=s.length;n<i;n+=1)(function(){var i=s[n];"object"==typeof i&&null!==i&&Object.keys(i).forEach(function(n){t[n]=i[n]})})();return t},e.getBrowserAlias=function(t){return o.BROWSER_ALIASES_MAP[t]},e.getBrowserTypeByAlias=function(t){return o.BROWSER_MAP[t]||""},e}();n.default=s,t.exports=n.default},18:function(t,n,i){"use strict";n.__esModule=!0,n.ENGINE_MAP=n.OS_MAP=n.PLATFORMS_MAP=n.BROWSER_MAP=n.BROWSER_ALIASES_MAP=void 0,n.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},n.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},n.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},n.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},n.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,n,i){"use strict";n.__esModule=!0,n.default=void 0;var o,s=(o=i(91))&&o.__esModule?o:{default:o},a=i(18),l=function(){function e(){}return e.getParser=function(t,n){if(void 0===n&&(n=!1),"string"!=typeof t)throw Error("UserAgent should be a string");return new s.default(t,n)},e.parse=function(t){return new s.default(t).getResult()},function(t,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(e,[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}]),e}();n.default=l,t.exports=n.default},91:function(t,n,i){"use strict";n.__esModule=!0,n.default=void 0;var o=u(i(92)),s=u(i(93)),a=u(i(94)),l=u(i(95)),d=u(i(17));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function e(t,n){if(void 0===n&&(n=!1),null==t||""===t)throw Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==n&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(t){return t.test(this._ua)},t.parseBrowser=function(){var t=this;this.parsedResult.browser={};var n=d.default.find(o.default,function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw Error("Browser's test function is not valid")});return n&&(this.parsedResult.browser=n.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var t=this;this.parsedResult.os={};var n=d.default.find(s.default,function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw Error("Browser's test function is not valid")});return n&&(this.parsedResult.os=n.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(t){var n=this.getOS().name;return t?String(n).toLowerCase()||"":n||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(t){void 0===t&&(t=!1);var n=this.getPlatform().type;return t?String(n).toLowerCase()||"":n||""},t.parsePlatform=function(){var t=this;this.parsedResult.platform={};var n=d.default.find(a.default,function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw Error("Browser's test function is not valid")});return n&&(this.parsedResult.platform=n.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var t=this;this.parsedResult.engine={};var n=d.default.find(l.default,function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw Error("Browser's test function is not valid")});return n&&(this.parsedResult.engine=n.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return d.default.assign({},this.parsedResult)},t.satisfies=function(t){var n=this,i={},o=0,s={},a=0;if(Object.keys(t).forEach(function(n){var l=t[n];"string"==typeof l?(s[n]=l,a+=1):"object"==typeof l&&(i[n]=l,o+=1)}),o>0){var l=Object.keys(i),c=d.default.find(l,function(t){return n.isOS(t)});if(c){var p=this.satisfies(i[c]);if(void 0!==p)return p}var g=d.default.find(l,function(t){return n.isPlatform(t)});if(g){var b=this.satisfies(i[g]);if(void 0!==b)return b}}if(a>0){var m=Object.keys(s),y=d.default.find(m,function(t){return n.isBrowser(t,!0)});if(void 0!==y)return this.compareVersion(s[y])}},t.isBrowser=function(t,n){void 0===n&&(n=!1);var i=this.getBrowserName().toLowerCase(),o=t.toLowerCase(),s=d.default.getBrowserTypeByAlias(o);return n&&s&&(o=s.toLowerCase()),o===i},t.compareVersion=function(t){var n=[0],i=t,o=!1,s=this.getBrowserVersion();if("string"==typeof s)return">"===t[0]||"<"===t[0]?(i=t.substr(1),"="===t[1]?(o=!0,i=t.substr(2)):n=[],">"===t[0]?n.push(1):n.push(-1)):"="===t[0]?i=t.substr(1):"~"===t[0]&&(o=!0,i=t.substr(1)),n.indexOf(d.default.compareVersions(s,i,o))>-1},t.isOS=function(t){return this.getOSName(!0)===String(t).toLowerCase()},t.isPlatform=function(t){return this.getPlatformType(!0)===String(t).toLowerCase()},t.isEngine=function(t){return this.getEngineName(!0)===String(t).toLowerCase()},t.is=function(t,n){return void 0===n&&(n=!1),this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)},t.some=function(t){var n=this;return void 0===t&&(t=[]),t.some(function(t){return n.is(t)})},e}();n.default=c,t.exports=n.default},92:function(t,n,i){"use strict";n.__esModule=!0,n.default=void 0;var o,s=(o=i(17))&&o.__esModule?o:{default:o},a=/version\/(\d+(\.?_?\d+)+)/i,l=[{test:[/googlebot/i],describe:function(t){var n={name:"Googlebot"},i=s.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||s.default.getFirstMatch(a,t);return i&&(n.version=i),n}},{test:[/opera/i],describe:function(t){var n={name:"Opera"},i=s.default.getFirstMatch(a,t)||s.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/opr\/|opios/i],describe:function(t){var n={name:"Opera"},i=s.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||s.default.getFirstMatch(a,t);return i&&(n.version=i),n}},{test:[/SamsungBrowser/i],describe:function(t){var n={name:"Samsung Internet for Android"},i=s.default.getFirstMatch(a,t)||s.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/Whale/i],describe:function(t){var n={name:"NAVER Whale Browser"},i=s.default.getFirstMatch(a,t)||s.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/MZBrowser/i],describe:function(t){var n={name:"MZ Browser"},i=s.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||s.default.getFirstMatch(a,t);return i&&(n.version=i),n}},{test:[/focus/i],describe:function(t){var n={name:"Focus"},i=s.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||s.default.getFirstMatch(a,t);return i&&(n.version=i),n}},{test:[/swing/i],describe:function(t){var n={name:"Swing"},i=s.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||s.default.getFirstMatch(a,t);return i&&(n.version=i),n}},{test:[/coast/i],describe:function(t){var n={name:"Opera Coast"},i=s.default.getFirstMatch(a,t)||s.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(t){var n={name:"Opera Touch"},i=s.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||s.default.getFirstMatch(a,t);return i&&(n.version=i),n}},{test:[/yabrowser/i],describe:function(t){var n={name:"Yandex Browser"},i=s.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||s.default.getFirstMatch(a,t);return i&&(n.version=i),n}},{test:[/ucbrowser/i],describe:function(t){var n={name:"UC Browser"},i=s.default.getFirstMatch(a,t)||s.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/Maxthon|mxios/i],describe:function(t){var n={name:"Maxthon"},i=s.default.getFirstMatch(a,t)||s.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/epiphany/i],describe:function(t){var n={name:"Epiphany"},i=s.default.getFirstMatch(a,t)||s.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/puffin/i],describe:function(t){var n={name:"Puffin"},i=s.default.getFirstMatch(a,t)||s.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/sleipnir/i],describe:function(t){var n={name:"Sleipnir"},i=s.default.getFirstMatch(a,t)||s.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/k-meleon/i],describe:function(t){var n={name:"K-Meleon"},i=s.default.getFirstMatch(a,t)||s.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/micromessenger/i],describe:function(t){var n={name:"WeChat"},i=s.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||s.default.getFirstMatch(a,t);return i&&(n.version=i),n}},{test:[/qqbrowser/i],describe:function(t){var n={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},i=s.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||s.default.getFirstMatch(a,t);return i&&(n.version=i),n}},{test:[/msie|trident/i],describe:function(t){var n={name:"Internet Explorer"},i=s.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/\sedg\//i],describe:function(t){var n={name:"Microsoft Edge"},i=s.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/edg([ea]|ios)/i],describe:function(t){var n={name:"Microsoft Edge"},i=s.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/vivaldi/i],describe:function(t){var n={name:"Vivaldi"},i=s.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/seamonkey/i],describe:function(t){var n={name:"SeaMonkey"},i=s.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/sailfish/i],describe:function(t){var n={name:"Sailfish"},i=s.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return i&&(n.version=i),n}},{test:[/silk/i],describe:function(t){var n={name:"Amazon Silk"},i=s.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/phantom/i],describe:function(t){var n={name:"PhantomJS"},i=s.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/slimerjs/i],describe:function(t){var n={name:"SlimerJS"},i=s.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var n={name:"BlackBerry"},i=s.default.getFirstMatch(a,t)||s.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var n={name:"WebOS Browser"},i=s.default.getFirstMatch(a,t)||s.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/bada/i],describe:function(t){var n={name:"Bada"},i=s.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/tizen/i],describe:function(t){var n={name:"Tizen"},i=s.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||s.default.getFirstMatch(a,t);return i&&(n.version=i),n}},{test:[/qupzilla/i],describe:function(t){var n={name:"QupZilla"},i=s.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||s.default.getFirstMatch(a,t);return i&&(n.version=i),n}},{test:[/firefox|iceweasel|fxios/i],describe:function(t){var n={name:"Firefox"},i=s.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/electron/i],describe:function(t){var n={name:"Electron"},i=s.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/MiuiBrowser/i],describe:function(t){var n={name:"Miui"},i=s.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/chromium/i],describe:function(t){var n={name:"Chromium"},i=s.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||s.default.getFirstMatch(a,t);return i&&(n.version=i),n}},{test:[/chrome|crios|crmo/i],describe:function(t){var n={name:"Chrome"},i=s.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/GSA/i],describe:function(t){var n={name:"Google Search"},i=s.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:function(t){var n=!t.test(/like android/i),i=t.test(/android/i);return n&&i},describe:function(t){var n={name:"Android Browser"},i=s.default.getFirstMatch(a,t);return i&&(n.version=i),n}},{test:[/playstation 4/i],describe:function(t){var n={name:"PlayStation 4"},i=s.default.getFirstMatch(a,t);return i&&(n.version=i),n}},{test:[/safari|applewebkit/i],describe:function(t){var n={name:"Safari"},i=s.default.getFirstMatch(a,t);return i&&(n.version=i),n}},{test:[/.*/i],describe:function(t){var n=-1!==t.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:s.default.getFirstMatch(n,t),version:s.default.getSecondMatch(n,t)}}}];n.default=l,t.exports=n.default},93:function(t,n,i){"use strict";n.__esModule=!0,n.default=void 0;var o,s=(o=i(17))&&o.__esModule?o:{default:o},a=i(18),l=[{test:[/Roku\/DVP/],describe:function(t){var n=s.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:a.OS_MAP.Roku,version:n}}},{test:[/windows phone/i],describe:function(t){var n=s.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:a.OS_MAP.WindowsPhone,version:n}}},{test:[/windows /i],describe:function(t){var n=s.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),i=s.default.getWindowsVersionName(n);return{name:a.OS_MAP.Windows,version:n,versionName:i}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(t){var n={name:a.OS_MAP.iOS},i=s.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return i&&(n.version=i),n}},{test:[/macintosh/i],describe:function(t){var n=s.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),i=s.default.getMacOSVersionName(n),o={name:a.OS_MAP.MacOS,version:n};return i&&(o.versionName=i),o}},{test:[/(ipod|iphone|ipad)/i],describe:function(t){var n=s.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:a.OS_MAP.iOS,version:n}}},{test:function(t){var n=!t.test(/like android/i),i=t.test(/android/i);return n&&i},describe:function(t){var n=s.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),i=s.default.getAndroidVersionName(n),o={name:a.OS_MAP.Android,version:n};return i&&(o.versionName=i),o}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var n=s.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),i={name:a.OS_MAP.WebOS};return n&&n.length&&(i.version=n),i}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var n=s.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||s.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||s.default.getFirstMatch(/\bbb(\d+)/i,t);return{name:a.OS_MAP.BlackBerry,version:n}}},{test:[/bada/i],describe:function(t){var n=s.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:a.OS_MAP.Bada,version:n}}},{test:[/tizen/i],describe:function(t){var n=s.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:a.OS_MAP.Tizen,version:n}}},{test:[/linux/i],describe:function(){return{name:a.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:a.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(t){var n=s.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:a.OS_MAP.PlayStation4,version:n}}}];n.default=l,t.exports=n.default},94:function(t,n,i){"use strict";n.__esModule=!0,n.default=void 0;var o,s=(o=i(17))&&o.__esModule?o:{default:o},a=i(18),l=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(t){var n=s.default.getFirstMatch(/(can-l01)/i,t)&&"Nova",i={type:a.PLATFORMS_MAP.mobile,vendor:"Huawei"};return n&&(i.model=n),i}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(t){var n=t.test(/ipod|iphone/i),i=t.test(/like (ipod|iphone)/i);return n&&!i},describe:function(t){var n=s.default.getFirstMatch(/(ipod|iphone)/i,t);return{type:a.PLATFORMS_MAP.mobile,vendor:"Apple",model:n}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(t){return"blackberry"===t.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(t){return"bada"===t.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(t){return"windows phone"===t.getBrowserName()},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(t){var n=Number(String(t.getOSVersion()).split(".")[0]);return"android"===t.getOSName(!0)&&n>=3},describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(t){return"android"===t.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(t){return"macos"===t.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(t){return"windows"===t.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(t){return"linux"===t.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(t){return"playstation 4"===t.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}},{test:function(t){return"roku"===t.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}}];n.default=l,t.exports=n.default},95:function(t,n,i){"use strict";n.__esModule=!0,n.default=void 0;var o,s=(o=i(17))&&o.__esModule?o:{default:o},a=i(18),l=[{test:function(t){return"microsoft edge"===t.getBrowserName(!0)},describe:function(t){if(/\sedg\//i.test(t))return{name:a.ENGINE_MAP.Blink};var n=s.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:a.ENGINE_MAP.EdgeHTML,version:n}}},{test:[/trident/i],describe:function(t){var n={name:a.ENGINE_MAP.Trident},i=s.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:function(t){return t.test(/presto/i)},describe:function(t){var n={name:a.ENGINE_MAP.Presto},i=s.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:function(t){var n=t.test(/gecko/i),i=t.test(/like gecko/i);return n&&!i},describe:function(t){var n={name:a.ENGINE_MAP.Gecko},i=s.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:a.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(t){var n={name:a.ENGINE_MAP.WebKit},i=s.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return i&&(n.version=i),n}}];n.default=l,t.exports=n.default}})},2840:function(t,n,i){var o=i(4155),s=i(778),noop=function(){},eos=function(t,n,i){if("function"==typeof n)return eos(t,null,n);n||(n={}),i=s(i||noop);var a=t._writableState,l=t._readableState,d=n.readable||!1!==n.readable&&t.readable,c=n.writable||!1!==n.writable&&t.writable,p=!1,onlegacyfinish=function(){t.writable||onfinish()},onfinish=function(){c=!1,d||i.call(t)},onend=function(){d=!1,c||i.call(t)},onexit=function(n){i.call(t,n?Error("exited with error code: "+n):null)},onerror=function(n){i.call(t,n)},onclose=function(){o.nextTick(onclosenexttick)},onclosenexttick=function(){if(!p&&(d&&!(l&&l.ended&&!l.destroyed)||c&&!(a&&a.ended&&!a.destroyed)))return i.call(t,Error("premature close"))},onrequest=function(){t.req.on("finish",onfinish)};return t.setHeader&&"function"==typeof t.abort?(t.on("complete",onfinish),t.on("abort",onclose),t.req?onrequest():t.on("request",onrequest)):c&&!a&&(t.on("end",onlegacyfinish),t.on("close",onlegacyfinish)),t.stdio&&Array.isArray(t.stdio)&&3===t.stdio.length&&t.on("exit",onexit),t.on("end",onend),t.on("finish",onfinish),!1!==n.error&&t.on("error",onerror),t.on("close",onclose),function(){p=!0,t.removeListener("complete",onfinish),t.removeListener("abort",onclose),t.removeListener("request",onrequest),t.req&&t.req.removeListener("finish",onfinish),t.removeListener("end",onlegacyfinish),t.removeListener("close",onlegacyfinish),t.removeListener("finish",onfinish),t.removeListener("exit",onexit),t.removeListener("end",onend),t.removeListener("error",onerror),t.removeListener("close",onclose)}};t.exports=eos},2294:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EthereumProviderError=n.EthereumRpcError=void 0;let o=i(4445);let EthereumRpcError=class EthereumRpcError extends Error{constructor(t,n,i){if(!Number.isInteger(t))throw Error('"code" must be an integer.');if(!n||"string"!=typeof n)throw Error('"message" must be a nonempty string.');super(n),this.code=t,void 0!==i&&(this.data=i)}serialize(){let t={code:this.code,message:this.message};return void 0!==this.data&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return o.default(this.serialize(),stringifyReplacer,2)}};function stringifyReplacer(t,n){if("[Circular]"!==n)return n}n.EthereumRpcError=EthereumRpcError,n.EthereumProviderError=class extends EthereumRpcError{constructor(t,n,i){if(!(Number.isInteger(t)&&t>=1e3&&t<=4999))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,n,i)}}},2662:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.errorValues=n.errorCodes=void 0,n.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},n.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},8797:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ethErrors=void 0;let o=i(2294),s=i(8753),a=i(2662);function getEthJsonRpcError(t,n){let[i,a]=parseOpts(n);return new o.EthereumRpcError(t,i||s.getMessageFromCode(t),a)}function getEthProviderError(t,n){let[i,a]=parseOpts(n);return new o.EthereumProviderError(t,i||s.getMessageFromCode(t),a)}function parseOpts(t){if(t){if("string"==typeof t)return[t];if("object"==typeof t&&!Array.isArray(t)){let{message:n,data:i}=t;if(n&&"string"!=typeof n)throw Error("Must specify string message.");return[n||void 0,i]}}return[]}n.ethErrors={rpc:{parse:t=>getEthJsonRpcError(a.errorCodes.rpc.parse,t),invalidRequest:t=>getEthJsonRpcError(a.errorCodes.rpc.invalidRequest,t),invalidParams:t=>getEthJsonRpcError(a.errorCodes.rpc.invalidParams,t),methodNotFound:t=>getEthJsonRpcError(a.errorCodes.rpc.methodNotFound,t),internal:t=>getEthJsonRpcError(a.errorCodes.rpc.internal,t),server:t=>{if(!t||"object"!=typeof t||Array.isArray(t))throw Error("Ethereum RPC Server errors must provide single object argument.");let{code:n}=t;if(!Number.isInteger(n)||n>-32005||n<-32099)throw Error('"code" must be an integer such that: -32099 <= code <= -32005');return getEthJsonRpcError(n,t)},invalidInput:t=>getEthJsonRpcError(a.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>getEthJsonRpcError(a.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>getEthJsonRpcError(a.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>getEthJsonRpcError(a.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>getEthJsonRpcError(a.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>getEthJsonRpcError(a.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>getEthProviderError(a.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>getEthProviderError(a.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>getEthProviderError(a.errorCodes.provider.unsupportedMethod,t),disconnected:t=>getEthProviderError(a.errorCodes.provider.disconnected,t),chainDisconnected:t=>getEthProviderError(a.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||"object"!=typeof t||Array.isArray(t))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:n,message:i,data:s}=t;if(!i||"string"!=typeof i)throw Error('"message" must be a nonempty string');return new o.EthereumProviderError(n,i,s)}}}},9826:function(t,n,i){"use strict";n.Cg=n.Sy=void 0;let o=i(2294);Object.defineProperty(n,"Cg",{enumerable:!0,get:function(){return o.EthereumRpcError}}),i(8753);let s=i(8797);Object.defineProperty(n,"Sy",{enumerable:!0,get:function(){return s.ethErrors}}),i(2662)},8753:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.serializeError=n.isValidCode=n.getMessageFromCode=n.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;let o=i(2662),s=i(2294),a=o.errorCodes.rpc.internal,l={code:a,message:getMessageFromCode(a)};function getMessageFromCode(t,i="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(t)){let i=t.toString();if(hasKey(o.errorValues,i))return o.errorValues[i].message;if(t>=-32099&&t<=-32e3)return n.JSON_RPC_SERVER_ERROR_MESSAGE}return i}function isValidCode(t){if(!Number.isInteger(t))return!1;let n=t.toString();return!!(o.errorValues[n]||t>=-32099&&t<=-32e3)}function assignOriginalError(t){return t&&"object"==typeof t&&!Array.isArray(t)?Object.assign({},t):t}function hasKey(t,n){return Object.prototype.hasOwnProperty.call(t,n)}n.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",n.getMessageFromCode=getMessageFromCode,n.isValidCode=isValidCode,n.serializeError=function(t,{fallbackError:n=l,shouldIncludeStack:i=!1}={}){if(!n||!Number.isInteger(n.code)||"string"!=typeof n.message)throw Error("Must provide fallback error with integer number code and string message.");if(t instanceof s.EthereumRpcError)return t.serialize();let o={};if(t&&"object"==typeof t&&!Array.isArray(t)&&hasKey(t,"code")&&isValidCode(t.code))o.code=t.code,t.message&&"string"==typeof t.message?(o.message=t.message,hasKey(t,"data")&&(o.data=t.data)):(o.message=getMessageFromCode(o.code),o.data={originalError:assignOriginalError(t)});else{o.code=n.code;let i=null==t?void 0:t.message;o.message=i&&"string"==typeof i?i:n.message,o.data={originalError:assignOriginalError(t)}}let a=null==t?void 0:t.stack;return i&&t&&a&&"string"==typeof a&&(o.stack=a),o}},4063:function(t){"use strict";t.exports=function equal(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(o=i;0!=o--;)if(!equal(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=i;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=i;0!=o--;){var i,o,s,a=s[o];if(!equal(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},4445:function(t){t.exports=stringify,stringify.default=stringify,stringify.stable=deterministicStringify,stringify.stableStringify=deterministicStringify;var n="[...]",i="[Circular]",o=[],s=[];function defaultOptions(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify(t,a,l,d){void 0===d&&(d=defaultOptions()),function decirc(t,o,s,a,l,d,c){if(d+=1,"object"==typeof t&&null!==t){for(p=0;p<a.length;p++)if(a[p]===t){setReplace(i,t,o,l);return}if(void 0!==c.depthLimit&&d>c.depthLimit||void 0!==c.edgesLimit&&s+1>c.edgesLimit){setReplace(n,t,o,l);return}if(a.push(t),Array.isArray(t))for(p=0;p<t.length;p++)decirc(t[p],p,p,a,t,d,c);else{var p,g=Object.keys(t);for(p=0;p<g.length;p++){var b=g[p];decirc(t[b],b,p,a,t,d,c)}}a.pop()}}(t,"",0,[],void 0,0,d);try{c=0===s.length?JSON.stringify(t,a,l):JSON.stringify(t,replaceGetterValues(a),l)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==o.length;){var c,p=o.pop();4===p.length?Object.defineProperty(p[0],p[1],p[3]):p[0][p[1]]=p[2]}}return c}function setReplace(t,n,i,a){var l=Object.getOwnPropertyDescriptor(a,i);void 0!==l.get?l.configurable?(Object.defineProperty(a,i,{value:t}),o.push([a,i,n,l])):s.push([n,i,t]):(a[i]=t,o.push([a,i,n]))}function compareFunction(t,n){return t<n?-1:t>n?1:0}function deterministicStringify(t,a,l,d){void 0===d&&(d=defaultOptions());var c,p=function deterministicDecirc(t,s,a,l,d,c,p){if(c+=1,"object"==typeof t&&null!==t){for(g=0;g<l.length;g++)if(l[g]===t){setReplace(i,t,s,d);return}try{if("function"==typeof t.toJSON)return}catch(t){return}if(void 0!==p.depthLimit&&c>p.depthLimit||void 0!==p.edgesLimit&&a+1>p.edgesLimit){setReplace(n,t,s,d);return}if(l.push(t),Array.isArray(t))for(g=0;g<t.length;g++)deterministicDecirc(t[g],g,g,l,t,c,p);else{var g,b={},m=Object.keys(t).sort(compareFunction);for(g=0;g<m.length;g++){var y=m[g];deterministicDecirc(t[y],y,g,l,t,c,p),b[y]=t[y]}if(void 0===d)return b;o.push([d,s,t]),d[s]=b}l.pop()}}(t,"",0,[],void 0,0,d)||t;try{c=0===s.length?JSON.stringify(p,a,l):JSON.stringify(p,replaceGetterValues(a),l)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==o.length;){var g=o.pop();4===g.length?Object.defineProperty(g[0],g[1],g[3]):g[0][g[1]]=g[2]}}return c}function replaceGetterValues(t){return t=void 0!==t?t:function(t,n){return n},function(n,i){if(s.length>0)for(var o=0;o<s.length;o++){var a=s[o];if(a[1]===n&&a[0]===i){i=a[2],s.splice(o,1);break}}return t.call(this,n,i)}}},2378:function(t,n,i){t=i.nmd(t);var o,s,a,l,d,c,p,g,b,m,y="__lodash_hash_undefined__",w="[object Arguments]",_="[object Function]",v="[object Object]",S=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[w]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object Boolean]"]=P["[object DataView]"]=P["[object Date]"]=P["[object Error]"]=P[_]=P["[object Map]"]=P["[object Number]"]=P[v]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object WeakMap]"]=!1;var T="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,R="object"==typeof self&&self&&self.Object===Object&&self,O=T||R||Function("return this")(),N=n&&!n.nodeType&&n,B=N&&t&&!t.nodeType&&t,M=B&&B.exports===N,I=M&&T.process,x=function(){try{var t=B&&B.require&&B.require("util").types;if(t)return t;return I&&I.binding&&I.binding("util")}catch(t){}}(),k=x&&x.isTypedArray,C=Array.prototype,L=Function.prototype,j=Object.prototype,F=O["__core-js_shared__"],D=L.toString,W=j.hasOwnProperty,U=(c=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",q=j.toString,H=D.call(Object),$=RegExp("^"+D.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=M?O.Buffer:void 0,V=O.Symbol,G=O.Uint8Array,J=z?z.allocUnsafe:void 0,K=(p=Object.getPrototypeOf,g=Object,function(t){return p(g(t))}),Z=Object.create,Y=j.propertyIsEnumerable,Q=C.splice,X=V?V.toStringTag:void 0,ee=function(){try{var t=getNative(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),et=z?z.isBuffer:void 0,er=Math.max,en=Date.now,ei=getNative(O,"Map"),eo=getNative(Object,"create"),es=function(){function object(){}return function(t){if(!isObject(t))return{};if(Z)return Z(t);object.prototype=t;var n=new object;return object.prototype=void 0,n}}();function Hash(t){var n=-1,i=null==t?0:t.length;for(this.clear();++n<i;){var o=t[n];this.set(o[0],o[1])}}function ListCache(t){var n=-1,i=null==t?0:t.length;for(this.clear();++n<i;){var o=t[n];this.set(o[0],o[1])}}function MapCache(t){var n=-1,i=null==t?0:t.length;for(this.clear();++n<i;){var o=t[n];this.set(o[0],o[1])}}function Stack(t){var n=this.__data__=new ListCache(t);this.size=n.size}function assignMergeValue(t,n,i){(void 0===i||eq(t[n],i))&&(void 0!==i||n in t)||baseAssignValue(t,n,i)}function assocIndexOf(t,n){for(var i=t.length;i--;)if(eq(t[i][0],n))return i;return -1}function baseAssignValue(t,n,i){"__proto__"==n&&ee?ee(t,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[n]=i}Hash.prototype.clear=function(){this.__data__=eo?eo(null):{},this.size=0},Hash.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Hash.prototype.get=function(t){var n=this.__data__;if(eo){var i=n[t];return i===y?void 0:i}return W.call(n,t)?n[t]:void 0},Hash.prototype.has=function(t){var n=this.__data__;return eo?void 0!==n[t]:W.call(n,t)},Hash.prototype.set=function(t,n){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=eo&&void 0===n?y:n,this},ListCache.prototype.clear=function(){this.__data__=[],this.size=0},ListCache.prototype.delete=function(t){var n=this.__data__,i=assocIndexOf(n,t);return!(i<0)&&(i==n.length-1?n.pop():Q.call(n,i,1),--this.size,!0)},ListCache.prototype.get=function(t){var n=this.__data__,i=assocIndexOf(n,t);return i<0?void 0:n[i][1]},ListCache.prototype.has=function(t){return assocIndexOf(this.__data__,t)>-1},ListCache.prototype.set=function(t,n){var i=this.__data__,o=assocIndexOf(i,t);return o<0?(++this.size,i.push([t,n])):i[o][1]=n,this},MapCache.prototype.clear=function(){this.size=0,this.__data__={hash:new Hash,map:new(ei||ListCache),string:new Hash}},MapCache.prototype.delete=function(t){var n=getMapData(this,t).delete(t);return this.size-=n?1:0,n},MapCache.prototype.get=function(t){return getMapData(this,t).get(t)},MapCache.prototype.has=function(t){return getMapData(this,t).has(t)},MapCache.prototype.set=function(t,n){var i=getMapData(this,t),o=i.size;return i.set(t,n),this.size+=i.size==o?0:1,this},Stack.prototype.clear=function(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function(t){var n=this.__data__,i=n.delete(t);return this.size=n.size,i},Stack.prototype.get=function(t){return this.__data__.get(t)},Stack.prototype.has=function(t){return this.__data__.has(t)},Stack.prototype.set=function(t,n){var i=this.__data__;if(i instanceof ListCache){var o=i.__data__;if(!ei||o.length<199)return o.push([t,n]),this.size=++i.size,this;i=this.__data__=new MapCache(o)}return i.set(t,n),this.size=i.size,this};var baseFor=function(t,n,i){for(var o=-1,s=Object(t),a=i(t),l=a.length;l--;){var d=a[++o];if(!1===n(s[d],d,s))break}return t};function baseGetTag(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":X&&X in Object(t)?function(t){var n=W.call(t,X),i=t[X];try{t[X]=void 0;var o=!0}catch(t){}var s=q.call(t);return o&&(n?t[X]=i:delete t[X]),s}(t):q.call(t)}function baseIsArguments(t){return isObjectLike(t)&&baseGetTag(t)==w}function getMapData(t,n){var i,o=t.__data__;return("string"==(i=typeof n)||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof n?"string":"hash"]:o.map}function getNative(t,n){var i=null==t?void 0:t[n];return!(!isObject(i)||U&&U in i)&&(isFunction(i)?$:S).test(function(t){if(null!=t){try{return D.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(i))?i:void 0}function isIndex(t,n){var i=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&A.test(t))&&t>-1&&t%1==0&&t<n}function isPrototype(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||j)}function safeGet(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var ea=(o=ee?function(t,n){return ee(t,"toString",{configurable:!0,enumerable:!1,value:function(){return n},writable:!0})}:identity,s=0,a=0,function(){var t=en(),n=16-(t-a);if(a=t,n>0){if(++s>=800)return arguments[0]}else s=0;return o.apply(void 0,arguments)});function eq(t,n){return t===n||t!=t&&n!=n}var el=baseIsArguments(function(){return arguments}())?baseIsArguments:function(t){return isObjectLike(t)&&W.call(t,"callee")&&!Y.call(t,"callee")},eu=Array.isArray;function isArrayLike(t){return null!=t&&isLength(t.length)&&!isFunction(t)}var ed=et||function(){return!1};function isFunction(t){if(!isObject(t))return!1;var n=baseGetTag(t);return n==_||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function isObject(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function isObjectLike(t){return null!=t&&"object"==typeof t}var ec=k?function(t){return k(t)}:function(t){return isObjectLike(t)&&isLength(t.length)&&!!P[baseGetTag(t)]};function keysIn(t){return isArrayLike(t)?function(t,n){var i=eu(t),o=!i&&el(t),s=!i&&!o&&ed(t),a=!i&&!o&&!s&&ec(t),l=i||o||s||a,d=l?function(t,n){for(var i=-1,o=Array(t);++i<t;)o[i]=n(i);return o}(t.length,String):[],c=d.length;for(var p in t)(n||W.call(t,p))&&!(l&&("length"==p||s&&("offset"==p||"parent"==p)||a&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||isIndex(p,c)))&&d.push(p);return d}(t,!0):function(t){if(!isObject(t))return function(t){var n=[];if(null!=t)for(var i in Object(t))n.push(i);return n}(t);var n=isPrototype(t),i=[];for(var o in t)"constructor"==o&&(n||!W.call(t,o))||i.push(o);return i}(t)}var ef=(b=function(t,n,i){!function baseMerge(t,n,i,o,s){t!==n&&baseFor(n,function(a,l){if(s||(s=new Stack),isObject(a))(function(t,n,i,o,s,a,l){var d=safeGet(t,i),c=safeGet(n,i),p=l.get(c);if(p){assignMergeValue(t,i,p);return}var g=a?a(d,c,i+"",t,n,l):void 0,b=void 0===g;if(b){var m,y,w=eu(c),_=!w&&ed(c),S=!w&&!_&&ec(c);g=c,w||_||S?eu(d)?g=d:isObjectLike(d)&&isArrayLike(d)?g=function(t,n){var i=-1,o=t.length;for(n||(n=Array(o));++i<o;)n[i]=t[i];return n}(d):_?(b=!1,g=function(t,n){if(n)return t.slice();var i=t.length,o=J?J(i):new t.constructor(i);return t.copy(o),o}(c,!0)):S?(b=!1,y=new(m=c.buffer).constructor(m.byteLength),new G(y).set(new G(m)),g=new c.constructor(y,c.byteOffset,c.length)):g=[]:function(t){if(!isObjectLike(t)||baseGetTag(t)!=v)return!1;var n=K(t);if(null===n)return!0;var i=W.call(n,"constructor")&&n.constructor;return"function"==typeof i&&i instanceof i&&D.call(i)==H}(c)||el(c)?(g=d,el(d)?g=function(t,n,i,o){var s=!i;i||(i={});for(var a=-1,l=n.length;++a<l;){var d=n[a],c=o?o(i[d],t[d],d,i,t):void 0;void 0===c&&(c=t[d]),s?baseAssignValue(i,d,c):function(t,n,i){var o=t[n];W.call(t,n)&&eq(o,i)&&(void 0!==i||n in t)||baseAssignValue(t,n,i)}(i,d,c)}return i}(d,keysIn(d)):(!isObject(d)||isFunction(d))&&(g="function"!=typeof c.constructor||isPrototype(c)?{}:es(K(c)))):b=!1}b&&(l.set(c,g),s(g,c,o,a,l),l.delete(c)),assignMergeValue(t,i,g)})(t,n,l,i,baseMerge,o,s);else{var d=o?o(safeGet(t,l),a,l+"",t,n,s):void 0;void 0===d&&(d=a),assignMergeValue(t,l,d)}},keysIn)}(t,n,i)},ea((l=m=function(t,n){var i=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s=b.length>3&&"function"==typeof s?(o--,s):void 0,a&&function(t,n,i){if(!isObject(i))return!1;var o=typeof n;return("number"==o?!!(isArrayLike(i)&&isIndex(n,i.length)):"string"==o&&(n in i))&&eq(i[n],t)}(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),t=Object(t);++i<o;){var l=n[i];l&&b(t,l,i,s)}return t},d=er((d=void 0,l.length-1),0),function(){for(var t=arguments,n=-1,i=er(t.length-d,0),o=Array(i);++n<i;)o[n]=t[d+n];n=-1;for(var s=Array(d+1);++n<d;)s[n]=t[n];return s[d]=identity(o),function(t,n,i){switch(i.length){case 0:return t.call(n);case 1:return t.call(n,i[0]);case 2:return t.call(n,i[0],i[1]);case 3:return t.call(n,i[0],i[1],i[2])}return t.apply(n,i)}(l,this,s)}),m+""));function identity(t){return t}t.exports=ef},2043:function(t,n,i){var o,s;void 0!==(s="function"==typeof(o=function(){"use strict";var noop=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],o={},s=null;function bindMethod(t,n){var i=t[n];if("function"==typeof i.bind)return i.bind(t);try{return Function.prototype.bind.call(i,t)}catch(n){return function(){return Function.prototype.apply.apply(i,[t,arguments])}}}function traceForIE(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function replaceLoggingMethods(){for(var n=this.getLevel(),o=0;o<i.length;o++){var s=i[o];this[s]=o<n?noop:this.methodFactory(s,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function enableLoggingWhenConsoleArrives(n){return function(){typeof console!==t&&(replaceLoggingMethods.call(this),this[n].apply(this,arguments))}}function defaultMethodFactory(i,o,s){var a;return"debug"===(a=i)&&(a="log"),typeof console!==t&&("trace"===a&&n?traceForIE:void 0!==console[a]?bindMethod(console,a):void 0!==console.log?bindMethod(console,"log"):noop)||enableLoggingWhenConsoleArrives.apply(this,arguments)}function Logger(n,a){var l,d,c,p=this,g="loglevel";function getPersistedLevel(){var n;if(typeof window!==t&&g){try{n=window.localStorage[g]}catch(t){}if(typeof n===t)try{var i=window.document.cookie,o=encodeURIComponent(g),s=i.indexOf(o+"=");-1!==s&&(n=/^([^;]+)/.exec(i.slice(s+o.length+1))[1])}catch(t){}return void 0===p.levels[n]&&(n=void 0),n}}function normalizeLevel(t){var n=t;if("string"==typeof n&&void 0!==p.levels[n.toUpperCase()]&&(n=p.levels[n.toUpperCase()]),"number"==typeof n&&n>=0&&n<=p.levels.SILENT)return n;throw TypeError("log.setLevel() called with invalid level: "+t)}"string"==typeof n?g+=":"+n:"symbol"==typeof n&&(g=void 0),p.name=n,p.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},p.methodFactory=a||defaultMethodFactory,p.getLevel=function(){return null!=c?c:null!=d?d:l},p.setLevel=function(n,o){return c=normalizeLevel(n),!1!==o&&function(n){var o=(i[n]||"silent").toUpperCase();if(typeof window!==t&&g){try{window.localStorage[g]=o;return}catch(t){}try{window.document.cookie=encodeURIComponent(g)+"="+o+";"}catch(t){}}}(c),replaceLoggingMethods.call(p)},p.setDefaultLevel=function(t){d=normalizeLevel(t),getPersistedLevel()||p.setLevel(t,!1)},p.resetLevel=function(){c=null,function(){if(typeof window!==t&&g){try{window.localStorage.removeItem(g)}catch(t){}try{window.document.cookie=encodeURIComponent(g)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(t){}}}(),replaceLoggingMethods.call(p)},p.enableAll=function(t){p.setLevel(p.levels.TRACE,t)},p.disableAll=function(t){p.setLevel(p.levels.SILENT,t)},p.rebuild=function(){if(s!==p&&(l=normalizeLevel(s.getLevel())),replaceLoggingMethods.call(p),s===p)for(var t in o)o[t].rebuild()},l=normalizeLevel(s?s.getLevel():"WARN");var b=getPersistedLevel();null!=b&&(c=normalizeLevel(b)),replaceLoggingMethods.call(p)}(s=new Logger).getLogger=function(t){if("symbol"!=typeof t&&"string"!=typeof t||""===t)throw TypeError("You must supply a name when creating a logger.");var n=o[t];return n||(n=o[t]=new Logger(t,s.methodFactory)),n};var a=typeof window!==t?window.log:void 0;return s.noConflict=function(){return typeof window!==t&&window.log===s&&(window.log=a),s},s.getLoggers=function(){return o},s.default=s,s})?o.call(n,i,n,t):o)&&(t.exports=s)},778:function(t,n,i){var o=i(2479);function once(t){var f=function(){return f.called?f.value:(f.called=!0,f.value=t.apply(this,arguments))};return f.called=!1,f}function onceStrict(t){var f=function(){if(f.called)throw Error(f.onceError);return f.called=!0,f.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return f.onceError=n+" shouldn't be called more than once",f.called=!1,f}t.exports=o(once),t.exports.strict=o(onceStrict),once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:!0})})},4155:function(t){var n,i,o,s=t.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(t){if(n===setTimeout)return setTimeout(t,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(i){try{return n.call(null,t,0)}catch(i){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(t){n=defaultSetTimout}try{i="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(t){i=defaultClearTimeout}}();var a=[],l=!1,d=-1;function cleanUpNextTick(){l&&o&&(l=!1,o.length?a=o.concat(a):d=-1,a.length&&drainQueue())}function drainQueue(){if(!l){var t=runTimeout(cleanUpNextTick);l=!0;for(var n=a.length;n;){for(o=a,a=[];++d<n;)o&&o[d].run();d=-1,n=a.length}o=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===defaultClearTimeout||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(n){try{return i.call(null,t)}catch(n){return i.call(this,t)}}}(t)}}function Item(t,n){this.fun=t,this.array=n}function noop(){}s.nextTick=function(t){var n=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)n[i-1]=arguments[i];a.push(new Item(t,n)),1!==a.length||l||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=noop,s.addListener=noop,s.once=noop,s.off=noop,s.removeListener=noop,s.removeAllListeners=noop,s.emit=noop,s.prependListener=noop,s.prependOnceListener=noop,s.listeners=function(t){return[]},s.binding=function(t){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw Error("process.chdir is not supported")},s.umask=function(){return 0}},4286:function(t,n,i){var o,s=i(4155),a=i(778),l=i(2840);try{o=i(2478)}catch(t){}var noop=function(){},d=/^v?\.0/.test(s.version),isFn=function(t){return"function"==typeof t},destroyer=function(t,n,i,s){s=a(s);var c=!1;t.on("close",function(){c=!0}),l(t,{readable:n,writable:i},function(t){if(t)return s(t);c=!0,s()});var p=!1;return function(n){if(!c&&!p){if(p=!0,d&&o&&(t instanceof(o.ReadStream||noop)||t instanceof(o.WriteStream||noop))&&isFn(t.close))return t.close(noop);if(t.setHeader&&isFn(t.abort))return t.abort();if(isFn(t.destroy))return t.destroy();s(n||Error("stream was destroyed"))}}},call=function(t){t()},pipe=function(t,n){return t.pipe(n)};t.exports=function(){var t,n=Array.prototype.slice.call(arguments),i=isFn(n[n.length-1]||noop)&&n.pop()||noop;if(Array.isArray(n[0])&&(n=n[0]),n.length<2)throw Error("pump requires two streams per minimum");var o=n.map(function(s,a){var l=a<n.length-1;return destroyer(s,l,a>0,function(n){t||(t=n),n&&o.forEach(call),l||(o.forEach(call),i(t))})});return n.reduce(pipe)}},196:function(t,n,i){"use strict";let o;let{SymbolDispose:s}=i(9061),{AbortError:a,codes:l}=i(4381),{isNodeStream:d,isWebStream:c,kControllerErrorFunction:p}=i(5874),g=i(8610),{ERR_INVALID_ARG_TYPE:b}=l,validateAbortSignal=(t,n)=>{if("object"!=typeof t||!("aborted"in t))throw new b(n,"AbortSignal",t)};t.exports.addAbortSignal=function(n,i){if(validateAbortSignal(n,"signal"),!d(i)&&!c(i))throw new b("stream",["ReadableStream","WritableStream","Stream"],i);return t.exports.addAbortSignalNoValidate(n,i)},t.exports.addAbortSignalNoValidate=function(t,n){if("object"!=typeof t||!("aborted"in t))return n;let l=d(n)?()=>{n.destroy(new a(void 0,{cause:t.reason}))}:()=>{n[p](new a(void 0,{cause:t.reason}))};if(t.aborted)l();else{o=o||i(6087).addAbortListener;let a=o(t,l);g(n,a[s])}return n}},7327:function(t,n,i){"use strict";let{StringPrototypeSlice:o,SymbolIterator:s,TypedArrayPrototypeSet:a,Uint8Array:l}=i(9061),{Buffer:d}=i(8764),{inspect:c}=i(6087);t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){let n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}unshift(t){let n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length}shift(){if(0===this.length)return;let t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(0===this.length)return"";let n=this.head,i=""+n.data;for(;null!==(n=n.next);)i+=t+n.data;return i}concat(t){if(0===this.length)return d.alloc(0);let n=d.allocUnsafe(t>>>0),i=this.head,o=0;for(;i;)a(n,i.data,o),o+=i.data.length,i=i.next;return n}consume(t,n){let i=this.head.data;if(t<i.length){let n=i.slice(0,t);return this.head.data=i.slice(t),n}return t===i.length?this.shift():n?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[s](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let n="",i=this.head,s=0;do{let a=i.data;if(t>a.length)n+=a,t-=a.length;else{t===a.length?(n+=a,++s,i.next?this.head=i.next:this.head=this.tail=null):(n+=o(a,0,t),this.head=i,i.data=o(a,t));break}++s}while(null!==(i=i.next));return this.length-=s,n}_getBuffer(t){let n=d.allocUnsafe(t),i=t,o=this.head,s=0;do{let d=o.data;if(t>d.length)a(n,d,i-t),t-=d.length;else{t===d.length?(a(n,d,i-t),++s,o.next?this.head=o.next:this.head=this.tail=null):(a(n,new l(d.buffer,d.byteOffset,t),i-t),this.head=o,o.data=d.slice(t));break}++s}while(null!==(o=o.next));return this.length-=s,n}[Symbol.for("nodejs.util.inspect.custom")](t,n){return c(this,{...n,depth:0,customInspect:!1})}}},299:function(t,n,i){"use strict";let{pipeline:o}=i(9946),s=i(8672),{destroyer:a}=i(1195),{isNodeStream:l,isReadable:d,isWritable:c,isWebStream:p,isTransformStream:g,isWritableStream:b,isReadableStream:m}=i(5874),{AbortError:y,codes:{ERR_INVALID_ARG_VALUE:w,ERR_MISSING_ARGS:_}}=i(4381),v=i(8610);t.exports=function(...t){let n,i,S,A,P;if(0===t.length)throw new _("streams");if(1===t.length)return s.from(t[0]);let T=[...t];if("function"==typeof t[0]&&(t[0]=s.from(t[0])),"function"==typeof t[t.length-1]){let n=t.length-1;t[n]=s.from(t[n])}for(let n=0;n<t.length;++n)if(l(t[n])||p(t[n])){if(n<t.length-1&&!(d(t[n])||m(t[n])||g(t[n])))throw new w(`streams[${n}]`,T[n],"must be readable");if(n>0&&!(c(t[n])||b(t[n])||g(t[n])))throw new w(`streams[${n}]`,T[n],"must be writable")}let R=t[0],O=o(t,function(t){let n=A;A=null,n?n(t):t?P.destroy(t):B||N||P.destroy()}),N=!!(c(R)||b(R)||g(R)),B=!!(d(O)||m(O)||g(O));if(P=new s({writableObjectMode:!!(null!=R&&R.writableObjectMode),readableObjectMode:!!(null!=O&&O.readableObjectMode),writable:N,readable:B}),N){if(l(R))P._write=function(t,i,o){R.write(t,i)?o():n=o},P._final=function(t){R.end(),i=t},R.on("drain",function(){if(n){let t=n;n=null,t()}});else if(p(R)){let t=g(R)?R.writable:R,n=t.getWriter();P._write=async function(t,i,o){try{await n.ready,n.write(t).catch(()=>{}),o()}catch(t){o(t)}},P._final=async function(t){try{await n.ready,n.close().catch(()=>{}),i=t}catch(n){t(n)}}}let t=g(O)?O.readable:O;v(t,()=>{if(i){let t=i;i=null,t()}})}if(B){if(l(O))O.on("readable",function(){if(S){let t=S;S=null,t()}}),O.on("end",function(){P.push(null)}),P._read=function(){for(;;){let t=O.read();if(null===t){S=P._read;return}if(!P.push(t))return}};else if(p(O)){let t=g(O)?O.readable:O,n=t.getReader();P._read=async function(){for(;;)try{let{value:t,done:i}=await n.read();if(!P.push(t))return;if(i){P.push(null);return}}catch{return}}}}return P._destroy=function(t,o){t||null===A||(t=new y),S=null,n=null,i=null,null===A?o(t):(A=o,l(O)&&a(O,t))},P}},1195:function(t,n,i){"use strict";let o=i(4155),{aggregateTwoErrors:s,codes:{ERR_MULTIPLE_CALLBACK:a},AbortError:l}=i(4381),{Symbol:d}=i(9061),{kIsDestroyed:c,isDestroyed:p,isFinished:g,isServerRequest:b}=i(5874),m=d("kDestroy"),y=d("kConstruct");function checkError(t,n,i){t&&(t.stack,n&&!n.errored&&(n.errored=t),i&&!i.errored&&(i.errored=t))}function _destroy(t,n,i){let s=!1;function onDestroy(n){if(s)return;s=!0;let a=t._readableState,l=t._writableState;checkError(n,l,a),l&&(l.closed=!0),a&&(a.closed=!0),"function"==typeof i&&i(n),n?o.nextTick(emitErrorCloseNT,t,n):o.nextTick(emitCloseNT,t)}try{t._destroy(n||null,onDestroy)}catch(t){onDestroy(t)}}function emitErrorCloseNT(t,n){emitErrorNT(t,n),emitCloseNT(t)}function emitCloseNT(t){let n=t._readableState,i=t._writableState;i&&(i.closeEmitted=!0),n&&(n.closeEmitted=!0),(null!=i&&i.emitClose||null!=n&&n.emitClose)&&t.emit("close")}function emitErrorNT(t,n){let i=t._readableState,o=t._writableState;null!=o&&o.errorEmitted||null!=i&&i.errorEmitted||(o&&(o.errorEmitted=!0),i&&(i.errorEmitted=!0),t.emit("error",n))}function errorOrDestroy(t,n,i){let s=t._readableState,a=t._writableState;if(null!=a&&a.destroyed||null!=s&&s.destroyed)return this;null!=s&&s.autoDestroy||null!=a&&a.autoDestroy?t.destroy(n):n&&(n.stack,a&&!a.errored&&(a.errored=n),s&&!s.errored&&(s.errored=n),i?o.nextTick(emitErrorNT,t,n):emitErrorNT(t,n))}function constructNT(t){let n=!1;function onConstruct(i){if(n){errorOrDestroy(t,null!=i?i:new a);return}n=!0;let s=t._readableState,l=t._writableState,d=l||s;s&&(s.constructed=!0),l&&(l.constructed=!0),d.destroyed?t.emit(m,i):i?errorOrDestroy(t,i,!0):o.nextTick(emitConstructNT,t)}try{t._construct(t=>{o.nextTick(onConstruct,t)})}catch(t){o.nextTick(onConstruct,t)}}function emitConstructNT(t){t.emit(y)}function isRequest(t){return(null==t?void 0:t.setHeader)&&"function"==typeof t.abort}function emitCloseLegacy(t){t.emit("close")}function emitErrorCloseLegacy(t,n){t.emit("error",n),o.nextTick(emitCloseLegacy,t)}t.exports={construct:function(t,n){if("function"!=typeof t._construct)return;let i=t._readableState,s=t._writableState;i&&(i.constructed=!1),s&&(s.constructed=!1),t.once(y,n),t.listenerCount(y)>1||o.nextTick(constructNT,t)},destroyer:function(t,n){!(!t||p(t))&&(n||g(t)||(n=new l),b(t)?(t.socket=null,t.destroy(n)):isRequest(t)?t.abort():isRequest(t.req)?t.req.abort():"function"==typeof t.destroy?t.destroy(n):"function"==typeof t.close?t.close():n?o.nextTick(emitErrorCloseLegacy,t,n):o.nextTick(emitCloseLegacy,t),t.destroyed||(t[c]=!0))},destroy:function(t,n){let i=this._readableState,o=this._writableState,a=o||i;return null!=o&&o.destroyed||null!=i&&i.destroyed?"function"==typeof n&&n():(checkError(t,o,i),o&&(o.destroyed=!0),i&&(i.destroyed=!0),a.constructed?_destroy(this,t,n):this.once(m,function(i){_destroy(this,s(i,t),n)})),this},undestroy:function(){let t=this._readableState,n=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=!1===t.readable,t.endEmitted=!1===t.readable),n&&(n.constructed=!0,n.destroyed=!1,n.closed=!1,n.closeEmitted=!1,n.errored=null,n.errorEmitted=!1,n.finalCalled=!1,n.prefinished=!1,n.ended=!1===n.writable,n.ending=!1===n.writable,n.finished=!1===n.writable)},errorOrDestroy}},8672:function(t,n,i){"use strict";let o,s;let{ObjectDefineProperties:a,ObjectGetOwnPropertyDescriptor:l,ObjectKeys:d,ObjectSetPrototypeOf:c}=i(9061);t.exports=Duplex;let p=i(911),g=i(6304);c(Duplex.prototype,p.prototype),c(Duplex,p);{let t=d(g.prototype);for(let n=0;n<t.length;n++){let i=t[n];Duplex.prototype[i]||(Duplex.prototype[i]=g.prototype[i])}}function Duplex(t){if(!(this instanceof Duplex))return new Duplex(t);p.call(this,t),g.call(this,t),t?(this.allowHalfOpen=!1!==t.allowHalfOpen,!1===t.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===t.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function lazyWebStreams(){return void 0===o&&(o={}),o}a(Duplex.prototype,{writable:{__proto__:null,...l(g.prototype,"writable")},writableHighWaterMark:{__proto__:null,...l(g.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...l(g.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...l(g.prototype,"writableBuffer")},writableLength:{__proto__:null,...l(g.prototype,"writableLength")},writableFinished:{__proto__:null,...l(g.prototype,"writableFinished")},writableCorked:{__proto__:null,...l(g.prototype,"writableCorked")},writableEnded:{__proto__:null,...l(g.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...l(g.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}}),Duplex.fromWeb=function(t,n){return lazyWebStreams().newStreamDuplexFromReadableWritablePair(t,n)},Duplex.toWeb=function(t){return lazyWebStreams().newReadableWritablePairFromDuplex(t)},Duplex.from=function(t){return s||(s=i(7946)),s(t,"body")}},7946:function(t,n,i){"use strict";let o=i(4155),s=i(8764),{isReadable:a,isWritable:l,isIterable:d,isNodeStream:c,isReadableNodeStream:p,isWritableNodeStream:g,isDuplexNodeStream:b,isReadableStream:m,isWritableStream:y}=i(5874),w=i(8610),{AbortError:_,codes:{ERR_INVALID_ARG_TYPE:v,ERR_INVALID_RETURN_VALUE:S}}=i(4381),{destroyer:A}=i(1195),P=i(8672),T=i(911),R=i(6304),{createDeferredPromise:O}=i(6087),N=i(6307),B=globalThis.Blob||s.Blob,M=void 0!==B?function(t){return t instanceof B}:function(t){return!1},I=globalThis.AbortController||i(8599).AbortController,{FunctionPrototypeCall:x}=i(9061);let Duplexify=class Duplexify extends P{constructor(t){super(t),(null==t?void 0:t.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(null==t?void 0:t.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};function _duplexify(t){let n,i,o,s,d;let c=t.readable&&"function"!=typeof t.readable.read?T.wrap(t.readable):t.readable,p=t.writable,g=!!a(c),b=!!l(p);function onfinished(t){let n=s;s=null,n?n(t):t&&d.destroy(t)}return d=new Duplexify({readableObjectMode:!!(null!=c&&c.readableObjectMode),writableObjectMode:!!(null!=p&&p.writableObjectMode),readable:g,writable:b}),b&&(w(p,t=>{b=!1,t&&A(c,t),onfinished(t)}),d._write=function(t,i,o){p.write(t,i)?o():n=o},d._final=function(t){p.end(),i=t},p.on("drain",function(){if(n){let t=n;n=null,t()}}),p.on("finish",function(){if(i){let t=i;i=null,t()}})),g&&(w(c,t=>{g=!1,t&&A(c,t),onfinished(t)}),c.on("readable",function(){if(o){let t=o;o=null,t()}}),c.on("end",function(){d.push(null)}),d._read=function(){for(;;){let t=c.read();if(null===t){o=d._read;return}if(!d.push(t))return}}),d._destroy=function(t,a){t||null===s||(t=new _),o=null,n=null,i=null,null===s?a(t):(s=a,A(p,t),A(c,t))},d}t.exports=function duplexify(t,n){if(b(t))return t;if(p(t))return _duplexify({readable:t});if(g(t))return _duplexify({writable:t});if(c(t))return _duplexify({writable:!1,readable:!1});if(m(t))return _duplexify({readable:T.fromWeb(t)});if(y(t))return _duplexify({writable:R.fromWeb(t)});if("function"==typeof t){let{value:i,write:s,final:a,destroy:l}=function(t){let{promise:n,resolve:i}=O(),s=new I,a=s.signal,l=t(async function*(){for(;;){let t=n;n=null;let{chunk:s,done:l,cb:d}=await t;if(o.nextTick(d),l)return;if(a.aborted)throw new _(void 0,{cause:a.reason});({promise:n,resolve:i}=O()),yield s}}(),{signal:a});return{value:l,write(t,n,o){let s=i;i=null,s({chunk:t,done:!1,cb:o})},final(t){let n=i;i=null,n({done:!0,cb:t})},destroy(t,n){s.abort(),n(t)}}}(t);if(d(i))return N(Duplexify,i,{objectMode:!0,write:s,final:a,destroy:l});let c=null==i?void 0:i.then;if("function"==typeof c){let t;let n=x(c,i,t=>{if(null!=t)throw new S("nully","body",t)},n=>{A(t,n)});return t=new Duplexify({objectMode:!0,readable:!1,write:s,final(t){a(async()=>{try{await n,o.nextTick(t,null)}catch(n){o.nextTick(t,n)}})},destroy:l})}throw new S("Iterable, AsyncIterable or AsyncFunction",n,i)}if(M(t))return duplexify(t.arrayBuffer());if(d(t))return N(Duplexify,t,{objectMode:!0,writable:!1});if(m(null==t?void 0:t.readable)&&y(null==t?void 0:t.writable))return Duplexify.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable)){let n=null!=t&&t.readable?p(null==t?void 0:t.readable)?null==t?void 0:t.readable:duplexify(t.readable):void 0,i=null!=t&&t.writable?g(null==t?void 0:t.writable)?null==t?void 0:t.writable:duplexify(t.writable):void 0;return _duplexify({readable:n,writable:i})}let i=null==t?void 0:t.then;if("function"==typeof i){let n;return x(i,t,t=>{null!=t&&n.push(t),n.push(null)},t=>{A(n,t)}),n=new Duplexify({objectMode:!0,writable:!1,read(){}})}throw new v(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},8610:function(t,n,i){"use strict";let o;let s=i(4155),{AbortError:a,codes:l}=i(4381),{ERR_INVALID_ARG_TYPE:d,ERR_STREAM_PREMATURE_CLOSE:c}=l,{kEmptyObject:p,once:g}=i(6087),{validateAbortSignal:b,validateFunction:m,validateObject:y,validateBoolean:w}=i(6547),{Promise:_,PromisePrototypeThen:v,SymbolDispose:S}=i(9061),{isClosed:A,isReadable:P,isReadableNodeStream:T,isReadableStream:R,isReadableFinished:O,isReadableErrored:N,isWritable:B,isWritableNodeStream:M,isWritableStream:I,isWritableFinished:x,isWritableErrored:k,isNodeStream:C,willEmitClose:L,kIsClosedPromise:j}=i(5874),nop=()=>{};function eos(t,n,l){var w,_;if(2==arguments.length?(l=n,n=p):null==n?n=p:y(n,"options"),m(l,"callback"),b(n.signal,"options.signal"),l=g(l),R(t)||I(t))return function(t,n,l){let d=!1,c=nop;if(n.signal){if(c=()=>{d=!0,l.call(t,new a(void 0,{cause:n.signal.reason}))},n.signal.aborted)s.nextTick(c);else{o=o||i(6087).addAbortListener;let s=o(n.signal,c),a=l;l=g((...n)=>{s[S](),a.apply(t,n)})}}let resolverFn=(...n)=>{d||s.nextTick(()=>l.apply(t,n))};return v(t[j].promise,resolverFn,resolverFn),nop}(t,n,l);if(!C(t))throw new d("stream",["ReadableStream","WritableStream","Stream"],t);let F=null!==(w=n.readable)&&void 0!==w?w:T(t),D=null!==(_=n.writable)&&void 0!==_?_:M(t),W=t._writableState,U=t._readableState,onlegacyfinish=()=>{t.writable||onfinish()},q=L(t)&&T(t)===F&&M(t)===D,H=x(t,!1),onfinish=()=>{H=!0,t.destroyed&&(q=!1),q&&(!t.readable||F)||F&&!$||l.call(t)},$=O(t,!1),onend=()=>{$=!0,t.destroyed&&(q=!1),q&&(!t.writable||D)||D&&!H||l.call(t)},onerror=n=>{l.call(t,n)},z=A(t),onclose=()=>{z=!0;let n=k(t)||N(t);return n&&"boolean"!=typeof n?l.call(t,n):F&&!$&&T(t,!0)&&!O(t,!1)||D&&!H&&!x(t,!1)?l.call(t,new c):void l.call(t)},onclosed=()=>{z=!0;let n=k(t)||N(t);if(n&&"boolean"!=typeof n)return l.call(t,n);l.call(t)},onrequest=()=>{t.req.on("finish",onfinish)};t.setHeader&&"function"==typeof t.abort?(t.on("complete",onfinish),q||t.on("abort",onclose),t.req?onrequest():t.on("request",onrequest)):D&&!W&&(t.on("end",onlegacyfinish),t.on("close",onlegacyfinish)),q||"boolean"!=typeof t.aborted||t.on("aborted",onclose),t.on("end",onend),t.on("finish",onfinish),!1!==n.error&&t.on("error",onerror),t.on("close",onclose),z?s.nextTick(onclose):null!=W&&W.errorEmitted||null!=U&&U.errorEmitted?q||s.nextTick(onclosed):!F&&(!q||P(t))&&(H||!1===B(t))?s.nextTick(onclosed):!D&&(!q||B(t))&&($||!1===P(t))?s.nextTick(onclosed):U&&t.req&&t.aborted&&s.nextTick(onclosed);let cleanup=()=>{l=nop,t.removeListener("aborted",onclose),t.removeListener("complete",onfinish),t.removeListener("abort",onclose),t.removeListener("request",onrequest),t.req&&t.req.removeListener("finish",onfinish),t.removeListener("end",onlegacyfinish),t.removeListener("close",onlegacyfinish),t.removeListener("finish",onfinish),t.removeListener("end",onend),t.removeListener("error",onerror),t.removeListener("close",onclose)};if(n.signal&&!z){let abort=()=>{let i=l;cleanup(),i.call(t,new a(void 0,{cause:n.signal.reason}))};if(n.signal.aborted)s.nextTick(abort);else{o=o||i(6087).addAbortListener;let s=o(n.signal,abort),a=l;l=g((...n)=>{s[S](),a.apply(t,n)})}}return cleanup}t.exports=eos,t.exports.finished=function(t,n){var i;let o=!1;return null===n&&(n=p),null!==(i=n)&&void 0!==i&&i.cleanup&&(w(n.cleanup,"cleanup"),o=n.cleanup),new _((i,s)=>{let a=eos(t,n,t=>{o&&a(),t?s(t):i()})})}},6307:function(t,n,i){"use strict";let o=i(4155),{PromisePrototypeThen:s,SymbolAsyncIterator:a,SymbolIterator:l}=i(9061),{Buffer:d}=i(8764),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:p}=i(4381).codes;t.exports=function(t,n,i){let g,b;if("string"==typeof n||n instanceof d)return new t({objectMode:!0,...i,read(){this.push(n),this.push(null)}});if(n&&n[a])b=!0,g=n[a]();else if(n&&n[l])b=!1,g=n[l]();else throw new c("iterable",["Iterable"],n);let m=new t({objectMode:!0,highWaterMark:1,...i}),y=!1;async function close(t){let n=null!=t,i="function"==typeof g.throw;if(n&&i){let{value:n,done:i}=await g.throw(t);if(await n,i)return}if("function"==typeof g.return){let{value:t}=await g.return();await t}}async function next(){for(;;){try{let{value:t,done:n}=b?await g.next():g.next();if(n)m.push(null);else{let n=t&&"function"==typeof t.then?await t:t;if(null===n)throw y=!1,new p;if(m.push(n))continue;y=!1}}catch(t){m.destroy(t)}break}}return m._read=function(){y||(y=!0,next())},m._destroy=function(t,n){s(close(t),()=>o.nextTick(n,t),i=>o.nextTick(n,i||t))},m}},4870:function(t,n,i){"use strict";let{ArrayIsArray:o,ObjectSetPrototypeOf:s}=i(9061),{EventEmitter:a}=i(7187);function Stream(t){a.call(this,t)}function prependListener(t,n,i){if("function"==typeof t.prependListener)return t.prependListener(n,i);t._events&&t._events[n]?o(t._events[n])?t._events[n].unshift(i):t._events[n]=[i,t._events[n]]:t.on(n,i)}s(Stream.prototype,a.prototype),s(Stream,a),Stream.prototype.pipe=function(t,n){let i=this;function ondata(n){t.writable&&!1===t.write(n)&&i.pause&&i.pause()}function ondrain(){i.readable&&i.resume&&i.resume()}i.on("data",ondata),t.on("drain",ondrain),t._isStdio||n&&!1===n.end||(i.on("end",onend),i.on("close",onclose));let o=!1;function onend(){o||(o=!0,t.end())}function onclose(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function onerror(t){cleanup(),0===a.listenerCount(this,"error")&&this.emit("error",t)}function cleanup(){i.removeListener("data",ondata),t.removeListener("drain",ondrain),i.removeListener("end",onend),i.removeListener("close",onclose),i.removeListener("error",onerror),t.removeListener("error",onerror),i.removeListener("end",cleanup),i.removeListener("close",cleanup),t.removeListener("close",cleanup)}return prependListener(i,"error",onerror),prependListener(t,"error",onerror),i.on("end",cleanup),i.on("close",cleanup),t.on("close",cleanup),t.emit("pipe",i),t},t.exports={Stream,prependListener}},4382:function(t,n,i){"use strict";let o=globalThis.AbortController||i(8599).AbortController,{codes:{ERR_INVALID_ARG_VALUE:s,ERR_INVALID_ARG_TYPE:a,ERR_MISSING_ARGS:l,ERR_OUT_OF_RANGE:d},AbortError:c}=i(4381),{validateAbortSignal:p,validateInteger:g,validateObject:b}=i(6547),m=i(9061).Symbol("kWeak"),y=i(9061).Symbol("kResistStopPropagation"),{finished:w}=i(8610),_=i(299),{addAbortSignalNoValidate:v}=i(196),{isWritable:S,isNodeStream:A}=i(5874),{deprecate:P}=i(6087),{ArrayPrototypePush:T,Boolean:R,MathFloor:O,Number:N,NumberIsNaN:B,Promise:M,PromiseReject:I,PromiseResolve:x,PromisePrototypeThen:k,Symbol:C}=i(9061),L=C("kEmpty"),j=C("kEof");function map(t,n){if("function"!=typeof t)throw new a("fn",["Function","AsyncFunction"],t);null!=n&&b(n,"options"),(null==n?void 0:n.signal)!=null&&p(n.signal,"options.signal");let o=1;(null==n?void 0:n.concurrency)!=null&&(o=O(n.concurrency));let s=o-1;return(null==n?void 0:n.highWaterMark)!=null&&(s=O(n.highWaterMark)),g(o,"options.concurrency",1),g(s,"options.highWaterMark",0),s+=o,(async function*(){let a,l;let d=i(6087).AbortSignalAny([null==n?void 0:n.signal].filter(R)),p=this,g=[],b={signal:d},m=!1,y=0;function onCatch(){m=!0,afterItemProcessed()}function afterItemProcessed(){y-=1,maybeResume()}function maybeResume(){l&&!m&&y<o&&g.length<s&&(l(),l=null)}(async function(){try{for await(let n of p){if(m)return;if(d.aborted)throw new c;try{if((n=t(n,b))===L)continue;n=x(n)}catch(t){n=I(t)}y+=1,k(n,afterItemProcessed,onCatch),g.push(n),a&&(a(),a=null),!m&&(g.length>=s||y>=o)&&await new M(t=>{l=t})}g.push(j)}catch(n){let t=I(n);k(t,afterItemProcessed,onCatch),g.push(t)}finally{m=!0,a&&(a(),a=null)}})();try{for(;;){for(;g.length>0;){let t=await g[0];if(t===j)return;if(d.aborted)throw new c;t!==L&&(yield t),g.shift(),maybeResume()}await new M(t=>{a=t})}}finally{m=!0,l&&(l(),l=null)}}).call(this)}async function some(t,n){for await(let i of filter.call(this,t,n))return!0;return!1}async function every(t,n){if("function"!=typeof t)throw new a("fn",["Function","AsyncFunction"],t);return!await some.call(this,async(...n)=>!await t(...n),n)}async function find(t,n){for await(let i of filter.call(this,t,n))return i}async function forEach(t,n){if("function"!=typeof t)throw new a("fn",["Function","AsyncFunction"],t);async function forEachFn(n,i){return await t(n,i),L}for await(let t of map.call(this,forEachFn,n));}function filter(t,n){if("function"!=typeof t)throw new a("fn",["Function","AsyncFunction"],t);async function filterFn(n,i){return await t(n,i)?n:L}return map.call(this,filterFn,n)}let ReduceAwareErrMissingArgs=class ReduceAwareErrMissingArgs extends l{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function reduce(t,n,i){var s,l;if("function"!=typeof t)throw new a("reducer",["Function","AsyncFunction"],t);null!=i&&b(i,"options"),(null==i?void 0:i.signal)!=null&&p(i.signal,"options.signal");let d=arguments.length>1;if(null!=i&&null!==(s=i.signal)&&void 0!==s&&s.aborted){let t=new c(void 0,{cause:i.signal.reason});throw this.once("error",()=>{}),await w(this.destroy(t)),t}let g=new o,_=g.signal;null!=i&&i.signal&&i.signal.addEventListener("abort",()=>g.abort(),{once:!0,[m]:this,[y]:!0});let v=!1;try{for await(let o of this){if(v=!0,null!=i&&null!==(l=i.signal)&&void 0!==l&&l.aborted)throw new c;d?n=await t(n,o,{signal:_}):(n=o,d=!0)}if(!v&&!d)throw new ReduceAwareErrMissingArgs}finally{g.abort()}return n}async function toArray(t){null!=t&&b(t,"options"),(null==t?void 0:t.signal)!=null&&p(t.signal,"options.signal");let n=[];for await(let o of this){var i;if(null!=t&&null!==(i=t.signal)&&void 0!==i&&i.aborted)throw new c(void 0,{cause:t.signal.reason});T(n,o)}return n}function toIntegerOrInfinity(t){if(B(t=N(t)))return 0;if(t<0)throw new d("number",">= 0",t);return t}t.exports.streamReturningOperators={asIndexedPairs:P(function(t){return null!=t&&b(t,"options"),(null==t?void 0:t.signal)!=null&&p(t.signal,"options.signal"),(async function*(){let n=0;for await(let o of this){var i;if(null!=t&&null!==(i=t.signal)&&void 0!==i&&i.aborted)throw new c({cause:t.signal.reason});yield[n++,o]}}).call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(t,n){return null!=n&&b(n,"options"),(null==n?void 0:n.signal)!=null&&p(n.signal,"options.signal"),t=toIntegerOrInfinity(t),(async function*(){var i,o;if(null!=n&&null!==(i=n.signal)&&void 0!==i&&i.aborted)throw new c;for await(let i of this){if(null!=n&&null!==(o=n.signal)&&void 0!==o&&o.aborted)throw new c;t--<=0&&(yield i)}}).call(this)},filter,flatMap:function(t,n){let i=map.call(this,t,n);return(async function*(){for await(let t of i)yield*t}).call(this)},map,take:function(t,n){return null!=n&&b(n,"options"),(null==n?void 0:n.signal)!=null&&p(n.signal,"options.signal"),t=toIntegerOrInfinity(t),(async function*(){var i,o;if(null!=n&&null!==(i=n.signal)&&void 0!==i&&i.aborted)throw new c;for await(let i of this){if(null!=n&&null!==(o=n.signal)&&void 0!==o&&o.aborted)throw new c;if(t-- >0&&(yield i),t<=0)return}}).call(this)},compose:function(t,n){if(null!=n&&b(n,"options"),(null==n?void 0:n.signal)!=null&&p(n.signal,"options.signal"),A(t)&&!S(t))throw new s("stream",t,"must be writable");let i=_(this,t);return null!=n&&n.signal&&v(n.signal,i),i}},t.exports.promiseReturningOperators={every,forEach,reduce,toArray,some,find}},917:function(t,n,i){"use strict";let{ObjectSetPrototypeOf:o}=i(9061);t.exports=PassThrough;let s=i(1161);function PassThrough(t){if(!(this instanceof PassThrough))return new PassThrough(t);s.call(this,t)}o(PassThrough.prototype,s.prototype),o(PassThrough,s),PassThrough.prototype._transform=function(t,n,i){i(null,t)}},9946:function(t,n,i){let o,s,a;"use strict";let l=i(4155),{ArrayIsArray:d,Promise:c,SymbolAsyncIterator:p,SymbolDispose:g}=i(9061),b=i(8610),{once:m}=i(6087),y=i(1195),w=i(8672),{aggregateTwoErrors:_,codes:{ERR_INVALID_ARG_TYPE:v,ERR_INVALID_RETURN_VALUE:S,ERR_MISSING_ARGS:A,ERR_STREAM_DESTROYED:P,ERR_STREAM_PREMATURE_CLOSE:T},AbortError:R}=i(4381),{validateFunction:O,validateAbortSignal:N}=i(6547),{isIterable:B,isReadable:M,isReadableNodeStream:I,isNodeStream:x,isTransformStream:k,isWebStream:C,isReadableStream:L,isReadableFinished:j}=i(5874),F=globalThis.AbortController||i(8599).AbortController;function destroyer(t,n,i){let o=!1;t.on("close",()=>{o=!0});let s=b(t,{readable:n,writable:i},t=>{o=!t});return{destroy:n=>{o||(o=!0,y.destroyer(t,n||new P("pipe")))},cleanup:s}}function makeAsyncIterable(t){if(B(t))return t;if(I(t))return fromReadable(t);throw new v("val",["Readable","Iterable","AsyncIterable"],t)}async function*fromReadable(t){s||(s=i(911)),yield*s.prototype[p].call(t)}async function pumpToNode(t,n,i,{end:o}){let s;let a=null,resume=t=>{if(t&&(s=t),a){let t=a;a=null,t()}},wait=()=>new c((t,n)=>{s?n(s):a=()=>{s?n(s):t()}});n.on("drain",resume);let l=b(n,{readable:!1},resume);try{for await(let i of(n.writableNeedDrain&&await wait(),t))n.write(i)||await wait();o&&(n.end(),await wait()),i()}catch(t){i(s!==t?_(s,t):t)}finally{l(),n.off("drain",resume)}}async function pumpToWeb(t,n,i,{end:o}){k(n)&&(n=n.writable);let s=n.getWriter();try{for await(let n of t)await s.ready,s.write(n).catch(()=>{});await s.ready,o&&await s.close(),i()}catch(t){try{await s.abort(t),i(t)}catch(t){i(t)}}}function pipelineImpl(t,n,s){let c,p,m,y;if(1===t.length&&d(t[0])&&(t=t[0]),t.length<2)throw new A("streams");let _=new F,P=_.signal,O=null==s?void 0:s.signal,D=[];function abort(){finishImpl(new R)}N(O,"options.signal"),a=a||i(6087).addAbortListener,O&&(c=a(O,abort));let W=[],U=0;function finish(t){finishImpl(t,0==--U)}function finishImpl(t,i){var o;if(t&&(!p||"ERR_STREAM_PREMATURE_CLOSE"===p.code)&&(p=t),p||i){for(;W.length;)W.shift()(p);null===(o=c)||void 0===o||o[g](),_.abort(),i&&(p||D.forEach(t=>t()),l.nextTick(n,p,m))}}for(let n=0;n<t.length;n++){let a=t[n],d=n<t.length-1,c=n>0,p=d||(null==s?void 0:s.end)!==!1,g=n===t.length-1;if(x(a)){if(p){let{destroy:t,cleanup:n}=destroyer(a,d,c);W.push(t),M(a)&&g&&D.push(n)}function onError(t){t&&"AbortError"!==t.name&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code&&finish(t)}a.on("error",onError),M(a)&&g&&D.push(()=>{a.removeListener("error",onError)})}if(0===n){if("function"==typeof a){if(!B(y=a({signal:P})))throw new S("Iterable, AsyncIterable or Stream","source",y)}else y=B(a)||I(a)||k(a)?a:w.from(a)}else if("function"==typeof a){var q,H;if(y=a(y=k(y)?makeAsyncIterable(null===(q=y)||void 0===q?void 0:q.readable):makeAsyncIterable(y),{signal:P}),d){if(!B(y,!0))throw new S("AsyncIterable",`transform[${n-1}]`,y)}else{o||(o=i(917));let t=new o({objectMode:!0}),n=null===(H=y)||void 0===H?void 0:H.then;if("function"==typeof n)U++,n.call(y,n=>{m=n,null!=n&&t.write(n),p&&t.end(),l.nextTick(finish)},n=>{t.destroy(n),l.nextTick(finish,n)});else if(B(y,!0))U++,pumpToNode(y,t,finish,{end:p});else if(L(y)||k(y)){let n=y.readable||y;U++,pumpToNode(n,t,finish,{end:p})}else throw new S("AsyncIterable or Promise","destination",y);y=t;let{destroy:s,cleanup:a}=destroyer(y,!1,!0);W.push(s),g&&D.push(a)}}else if(x(a)){if(I(y)){U+=2;let t=function(t,n,i,{end:o}){let s=!1;if(n.on("close",()=>{s||i(new T)}),t.pipe(n,{end:!1}),o){function endFn(){s=!0,n.end()}j(t)?l.nextTick(endFn):t.once("end",endFn)}else i();return b(t,{readable:!0,writable:!1},n=>{let o=t._readableState;n&&"ERR_STREAM_PREMATURE_CLOSE"===n.code&&o&&o.ended&&!o.errored&&!o.errorEmitted?t.once("end",i).once("error",i):i(n)}),b(n,{readable:!1,writable:!0},i)}(y,a,finish,{end:p});M(a)&&g&&D.push(t)}else if(k(y)||L(y)){let t=y.readable||y;U++,pumpToNode(t,a,finish,{end:p})}else if(B(y))U++,pumpToNode(y,a,finish,{end:p});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=a}else if(C(a)){if(I(y))U++,pumpToWeb(makeAsyncIterable(y),a,finish,{end:p});else if(L(y)||B(y))U++,pumpToWeb(y,a,finish,{end:p});else if(k(y))U++,pumpToWeb(y.readable,a,finish,{end:p});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=a}else y=w.from(a)}return(null!=P&&P.aborted||null!=O&&O.aborted)&&l.nextTick(abort),y}t.exports={pipelineImpl,pipeline:function(...t){return pipelineImpl(t,m((O(t[t.length-1],"streams[stream.length - 1]"),t.pop())))}}},911:function(t,n,i){"use strict";let o;let s=i(4155),{ArrayPrototypeIndexOf:a,NumberIsInteger:l,NumberIsNaN:d,NumberParseInt:c,ObjectDefineProperties:p,ObjectKeys:g,ObjectSetPrototypeOf:b,Promise:m,SafeSet:y,SymbolAsyncDispose:w,SymbolAsyncIterator:_,Symbol:v}=i(9061);t.exports=Readable,Readable.ReadableState=ReadableState;let{EventEmitter:S}=i(7187),{Stream:A,prependListener:P}=i(4870),{Buffer:T}=i(8764),{addAbortSignal:R}=i(196),O=i(8610),N=i(6087).debuglog("stream",t=>{N=t}),B=i(7327),M=i(1195),{getHighWaterMark:I,getDefaultHighWaterMark:x}=i(2457),{aggregateTwoErrors:k,codes:{ERR_INVALID_ARG_TYPE:C,ERR_METHOD_NOT_IMPLEMENTED:L,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:F,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:D},AbortError:W}=i(4381),{validateObject:U}=i(6547),q=v("kPaused"),{StringDecoder:H}=i(2553),$=i(6307);b(Readable.prototype,A.prototype),b(Readable,A);let nop=()=>{},{errorOrDestroy:z}=M;function makeBitMapDescriptor(t){return{enumerable:!1,get(){return(this.state&t)!=0},set(n){n?this.state|=t:this.state&=~t}}}function ReadableState(t,n,o){"boolean"!=typeof o&&(o=n instanceof i(8672)),this.state=6192,t&&t.objectMode&&(this.state|=1),o&&t&&t.readableObjectMode&&(this.state|=1),this.highWaterMark=t?I(this,t,"readableHighWaterMark",o):x(!1),this.buffer=new B,this.length=0,this.pipes=[],this.flowing=null,this[q]=null,t&&!1===t.emitClose&&(this.state&=-2049),t&&!1===t.autoDestroy&&(this.state&=-4097),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new H(t.encoding),this.encoding=t.encoding)}function Readable(t){if(!(this instanceof Readable))return new Readable(t);let n=this instanceof i(8672);this._readableState=new ReadableState(t,this,n),t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&!n&&R(t.signal,this)),A.call(this,t),M.construct(this,()=>{this._readableState.needReadable&&maybeReadMore(this,this._readableState)})}function readableAddChunk(t,n,i,o){let s;N("readableAddChunk",n);let a=t._readableState;if((1&a.state)==0&&("string"==typeof n?(i=i||a.defaultEncoding,a.encoding!==i&&(o&&a.encoding?n=T.from(n,i).toString(a.encoding):(n=T.from(n,i),i=""))):n instanceof T?i="":A._isUint8Array(n)?(n=A._uint8ArrayToBuffer(n),i=""):null!=n&&(s=new C("chunk",["string","Buffer","Uint8Array"],n))),s)z(t,s);else if(null===n)a.state&=-9,function(t,n){if(N("onEofChunk"),!n.ended){if(n.decoder){let t=n.decoder.end();t&&t.length&&(n.buffer.push(t),n.length+=n.objectMode?1:t.length)}n.ended=!0,n.sync?emitReadable(t):(n.needReadable=!1,n.emittedReadable=!0,emitReadable_(t))}}(t,a);else if((1&a.state)!=0||n&&n.length>0){if(o){if((4&a.state)!=0)z(t,new D);else{if(a.destroyed||a.errored)return!1;addChunk(t,a,n,!0)}}else if(a.ended)z(t,new F);else{if(a.destroyed||a.errored)return!1;a.state&=-9,a.decoder&&!i?(n=a.decoder.write(n),a.objectMode||0!==n.length?addChunk(t,a,n,!1):maybeReadMore(t,a)):addChunk(t,a,n,!1)}}else o||(a.state&=-9,maybeReadMore(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function addChunk(t,n,i,o){n.flowing&&0===n.length&&!n.sync&&t.listenerCount("data")>0?((65536&n.state)!=0?n.awaitDrainWriters.clear():n.awaitDrainWriters=null,n.dataEmitted=!0,t.emit("data",i)):(n.length+=n.objectMode?1:i.length,o?n.buffer.unshift(i):n.buffer.push(i),(64&n.state)!=0&&emitReadable(t)),maybeReadMore(t,n)}function howMuchToRead(t,n){return t<=0||0===n.length&&n.ended?0:(1&n.state)!=0?1:d(t)?n.flowing&&n.length?n.buffer.first().length:n.length:t<=n.length?t:n.ended?n.length:0}function emitReadable(t){let n=t._readableState;N("emitReadable",n.needReadable,n.emittedReadable),n.needReadable=!1,n.emittedReadable||(N("emitReadable",n.flowing),n.emittedReadable=!0,s.nextTick(emitReadable_,t))}function emitReadable_(t){let n=t._readableState;N("emitReadable_",n.destroyed,n.length,n.ended),!n.destroyed&&!n.errored&&(n.length||n.ended)&&(t.emit("readable"),n.emittedReadable=!1),n.needReadable=!n.flowing&&!n.ended&&n.length<=n.highWaterMark,flow(t)}function maybeReadMore(t,n){!n.readingMore&&n.constructed&&(n.readingMore=!0,s.nextTick(maybeReadMore_,t,n))}function maybeReadMore_(t,n){for(;!n.reading&&!n.ended&&(n.length<n.highWaterMark||n.flowing&&0===n.length);){let i=n.length;if(N("maybeReadMore read 0"),t.read(0),i===n.length)break}n.readingMore=!1}function updateReadableListening(t){let n=t._readableState;n.readableListening=t.listenerCount("readable")>0,n.resumeScheduled&&!1===n[q]?n.flowing=!0:t.listenerCount("data")>0?t.resume():n.readableListening||(n.flowing=null)}function nReadingNextTick(t){N("readable nexttick read 0"),t.read(0)}function resume_(t,n){N("resume",n.reading),n.reading||t.read(0),n.resumeScheduled=!1,t.emit("resume"),flow(t),n.flowing&&!n.reading&&t.read(0)}function flow(t){let n=t._readableState;for(N("flow",n.flowing);n.flowing&&null!==t.read(););}function streamToAsyncIterator(t,n){"function"!=typeof t.read&&(t=Readable.wrap(t,{objectMode:!0}));let i=createAsyncIterator(t,n);return i.stream=t,i}async function*createAsyncIterator(t,n){let i,o=nop;function next(n){this===t?(o(),o=nop):o=n}t.on("readable",next);let s=O(t,{writable:!1},t=>{i=t?k(i,t):null,o(),o=nop});try{for(;;){let n=t.destroyed?null:t.read();if(null!==n)yield n;else if(i)throw i;else{if(null===i)return;await new m(next)}}}catch(t){throw i=k(i,t)}finally{(i||(null==n?void 0:n.destroyOnReturn)!==!1)&&(void 0===i||t._readableState.autoDestroy)?M.destroyer(t,null):(t.off("readable",next),s())}}function fromList(t,n){let i;return 0===n.length?null:(n.objectMode?i=n.buffer.shift():!t||t>=n.length?(i=n.decoder?n.buffer.join(""):1===n.buffer.length?n.buffer.first():n.buffer.concat(n.length),n.buffer.clear()):i=n.buffer.consume(t,n.decoder),i)}function endReadable(t){let n=t._readableState;N("endReadable",n.endEmitted),n.endEmitted||(n.ended=!0,s.nextTick(endReadableNT,n,t))}function endReadableNT(t,n){if(N("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&0===t.length){if(t.endEmitted=!0,n.emit("end"),n.writable&&!1===n.allowHalfOpen)s.nextTick(endWritableNT,n);else if(t.autoDestroy){let t=n._writableState,i=!t||t.autoDestroy&&(t.finished||!1===t.writable);i&&n.destroy()}}}function endWritableNT(t){let n=t.writable&&!t.writableEnded&&!t.destroyed;n&&t.end()}function lazyWebStreams(){return void 0===o&&(o={}),o}p(ReadableState.prototype,{objectMode:makeBitMapDescriptor(1),ended:makeBitMapDescriptor(2),endEmitted:makeBitMapDescriptor(4),reading:makeBitMapDescriptor(8),constructed:makeBitMapDescriptor(16),sync:makeBitMapDescriptor(32),needReadable:makeBitMapDescriptor(64),emittedReadable:makeBitMapDescriptor(128),readableListening:makeBitMapDescriptor(256),resumeScheduled:makeBitMapDescriptor(512),errorEmitted:makeBitMapDescriptor(1024),emitClose:makeBitMapDescriptor(2048),autoDestroy:makeBitMapDescriptor(4096),destroyed:makeBitMapDescriptor(8192),closed:makeBitMapDescriptor(16384),closeEmitted:makeBitMapDescriptor(32768),multiAwaitDrain:makeBitMapDescriptor(65536),readingMore:makeBitMapDescriptor(131072),dataEmitted:makeBitMapDescriptor(262144)}),Readable.prototype.destroy=M.destroy,Readable.prototype._undestroy=M.undestroy,Readable.prototype._destroy=function(t,n){n(t)},Readable.prototype[S.captureRejectionSymbol]=function(t){this.destroy(t)},Readable.prototype[w]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new W,this.destroy(t)),new m((n,i)=>O(this,o=>o&&o!==t?i(o):n(null)))},Readable.prototype.push=function(t,n){return readableAddChunk(this,t,n,!1)},Readable.prototype.unshift=function(t,n){return readableAddChunk(this,t,n,!0)},Readable.prototype.isPaused=function(){let t=this._readableState;return!0===t[q]||!1===t.flowing},Readable.prototype.setEncoding=function(t){let n=new H(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;let i=this._readableState.buffer,o="";for(let t of i)o+=n.write(t);return i.clear(),""!==o&&i.push(o),this._readableState.length=o.length,this},Readable.prototype.read=function(t){let n;N("read",t),void 0===t?t=NaN:l(t)||(t=c(t,10));let i=this._readableState,o=t;if(t>i.highWaterMark&&(i.highWaterMark=function(t){if(t>1073741824)throw new j("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,++t}(t)),0!==t&&(i.state&=-129),0===t&&i.needReadable&&((0!==i.highWaterMark?i.length>=i.highWaterMark:i.length>0)||i.ended))return N("read: emitReadable",i.length,i.ended),0===i.length&&i.ended?endReadable(this):emitReadable(this),null;if(0===(t=howMuchToRead(t,i))&&i.ended)return 0===i.length&&endReadable(this),null;let s=(64&i.state)!=0;if(N("need readable",s),(0===i.length||i.length-t<i.highWaterMark)&&N("length less than watermark",s=!0),i.ended||i.reading||i.destroyed||i.errored||!i.constructed)N("reading, ended or constructing",s=!1);else if(s){N("do read"),i.state|=40,0===i.length&&(i.state|=64);try{this._read(i.highWaterMark)}catch(t){z(this,t)}i.state&=-33,i.reading||(t=howMuchToRead(o,i))}return null===(n=t>0?fromList(t,i):null)?(i.needReadable=i.length<=i.highWaterMark,t=0):(i.length-=t,i.multiAwaitDrain?i.awaitDrainWriters.clear():i.awaitDrainWriters=null),0===i.length&&(i.ended||(i.needReadable=!0),o!==t&&i.ended&&endReadable(this)),null===n||i.errorEmitted||i.closeEmitted||(i.dataEmitted=!0,this.emit("data",n)),n},Readable.prototype._read=function(t){throw new L("_read()")},Readable.prototype.pipe=function(t,n){let i;let o=this,a=this._readableState;1!==a.pipes.length||a.multiAwaitDrain||(a.multiAwaitDrain=!0,a.awaitDrainWriters=new y(a.awaitDrainWriters?[a.awaitDrainWriters]:[])),a.pipes.push(t),N("pipe count=%d opts=%j",a.pipes.length,n);let l=(!n||!1!==n.end)&&t!==s.stdout&&t!==s.stderr,d=l?onend:unpipe;function onend(){N("onend"),t.end()}a.endEmitted?s.nextTick(d):o.once("end",d),t.on("unpipe",function onunpipe(n,s){N("onunpipe"),n===o&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,N("cleanup"),t.removeListener("close",onclose),t.removeListener("finish",onfinish),i&&t.removeListener("drain",i),t.removeListener("error",onerror),t.removeListener("unpipe",onunpipe),o.removeListener("end",onend),o.removeListener("end",unpipe),o.removeListener("data",ondata),c=!0,i&&a.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&i())});let c=!1;function pause(){c||(1===a.pipes.length&&a.pipes[0]===t?(N("false write response, pause",0),a.awaitDrainWriters=t,a.multiAwaitDrain=!1):a.pipes.length>1&&a.pipes.includes(t)&&(N("false write response, pause",a.awaitDrainWriters.size),a.awaitDrainWriters.add(t)),o.pause()),i||(i=function(){let n=o._readableState;n.awaitDrainWriters===t?(N("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(N("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),(!n.awaitDrainWriters||0===n.awaitDrainWriters.size)&&o.listenerCount("data")&&o.resume()},t.on("drain",i))}function ondata(n){N("ondata");let i=t.write(n);N("dest.write",i),!1===i&&pause()}function onerror(n){if(N("onerror",n),unpipe(),t.removeListener("error",onerror),0===t.listenerCount("error")){let i=t._writableState||t._readableState;i&&!i.errorEmitted?z(t,n):t.emit("error",n)}}function onclose(){t.removeListener("finish",onfinish),unpipe()}function onfinish(){N("onfinish"),t.removeListener("close",onclose),unpipe()}function unpipe(){N("unpipe"),o.unpipe(t)}return o.on("data",ondata),P(t,"error",onerror),t.once("close",onclose),t.once("finish",onfinish),t.emit("pipe",o),!0===t.writableNeedDrain?pause():a.flowing||(N("pipe resume"),o.resume()),t},Readable.prototype.unpipe=function(t){let n=this._readableState;if(0===n.pipes.length)return this;if(!t){let t=n.pipes;n.pipes=[],this.pause();for(let n=0;n<t.length;n++)t[n].emit("unpipe",this,{hasUnpiped:!1});return this}let i=a(n.pipes,t);return -1===i||(n.pipes.splice(i,1),0===n.pipes.length&&this.pause(),t.emit("unpipe",this,{hasUnpiped:!1})),this},Readable.prototype.on=function(t,n){let i=A.prototype.on.call(this,t,n),o=this._readableState;return"data"===t?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"!==t||o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,N("on readable",o.length,o.reading),o.length?emitReadable(this):o.reading||s.nextTick(nReadingNextTick,this)),i},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(t,n){let i=A.prototype.removeListener.call(this,t,n);return"readable"===t&&s.nextTick(updateReadableListening,this),i},Readable.prototype.off=Readable.prototype.removeListener,Readable.prototype.removeAllListeners=function(t){let n=A.prototype.removeAllListeners.apply(this,arguments);return("readable"===t||void 0===t)&&s.nextTick(updateReadableListening,this),n},Readable.prototype.resume=function(){let t=this._readableState;return t.flowing||(N("resume"),t.flowing=!t.readableListening,t.resumeScheduled||(t.resumeScheduled=!0,s.nextTick(resume_,this,t))),t[q]=!1,this},Readable.prototype.pause=function(){return N("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(N("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[q]=!0,this},Readable.prototype.wrap=function(t){let n=!1;t.on("data",i=>{!this.push(i)&&t.pause&&(n=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",t=>{z(this,t)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{n&&t.resume&&(n=!1,t.resume())};let i=g(t);for(let n=1;n<i.length;n++){let o=i[n];void 0===this[o]&&"function"==typeof t[o]&&(this[o]=t[o].bind(t))}return this},Readable.prototype[_]=function(){return streamToAsyncIterator(this)},Readable.prototype.iterator=function(t){return void 0!==t&&U(t,"options"),streamToAsyncIterator(this,t)},p(Readable.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&!1!==t.readable&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._readableState.readable&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),p(ReadableState.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[q]},set(t){this[q]=!!t}}}),Readable._fromList=fromList,Readable.from=function(t,n){return $(Readable,t,n)},Readable.fromWeb=function(t,n){return lazyWebStreams().newStreamReadableFromReadableStream(t,n)},Readable.toWeb=function(t,n){return lazyWebStreams().newReadableStreamFromStreamReadable(t,n)},Readable.wrap=function(t,n){var i,o;return new Readable({objectMode:null===(i=null!==(o=t.readableObjectMode)&&void 0!==o?o:t.objectMode)||void 0===i||i,...n,destroy(n,i){M.destroyer(t,n),i(n)}}).wrap(t)}},2457:function(t,n,i){"use strict";let{MathFloor:o,NumberIsInteger:s}=i(9061),{validateInteger:a}=i(6547),{ERR_INVALID_ARG_VALUE:l}=i(4381).codes,d=16384,c=16;function getDefaultHighWaterMark(t){return t?c:d}t.exports={getHighWaterMark:function(t,n,i,a){let d=null!=n.highWaterMark?n.highWaterMark:a?n[i]:null;if(null!=d){if(!s(d)||d<0){let t=a?`options.${i}`:"options.highWaterMark";throw new l(t,d)}return o(d)}return getDefaultHighWaterMark(t.objectMode)},getDefaultHighWaterMark,setDefaultHighWaterMark:function(t,n){a(n,"value",0),t?c=n:d=n}}},1161:function(t,n,i){"use strict";let{ObjectSetPrototypeOf:o,Symbol:s}=i(9061);t.exports=Transform;let{ERR_METHOD_NOT_IMPLEMENTED:a}=i(4381).codes,l=i(8672),{getHighWaterMark:d}=i(2457);o(Transform.prototype,l.prototype),o(Transform,l);let c=s("kCallback");function Transform(t){if(!(this instanceof Transform))return new Transform(t);let n=t?d(this,t,"readableHighWaterMark",!0):null;0===n&&(t={...t,highWaterMark:null,readableHighWaterMark:n,writableHighWaterMark:t.writableHighWaterMark||0}),l.call(this,t),this._readableState.sync=!1,this[c]=null,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",prefinish)}function final(t){"function"!=typeof this._flush||this.destroyed?(this.push(null),t&&t()):this._flush((n,i)=>{if(n){t?t(n):this.destroy(n);return}null!=i&&this.push(i),this.push(null),t&&t()})}function prefinish(){this._final!==final&&final.call(this)}Transform.prototype._final=final,Transform.prototype._transform=function(t,n,i){throw new a("_transform()")},Transform.prototype._write=function(t,n,i){let o=this._readableState,s=this._writableState,a=o.length;this._transform(t,n,(t,n)=>{if(t){i(t);return}null!=n&&this.push(n),s.ended||a===o.length||o.length<o.highWaterMark?i():this[c]=i})},Transform.prototype._read=function(){if(this[c]){let t=this[c];this[c]=null,t()}}},5874:function(t,n,i){"use strict";let{SymbolAsyncIterator:o,SymbolIterator:s,SymbolFor:a}=i(9061),l=a("nodejs.stream.destroyed"),d=a("nodejs.stream.errored"),c=a("nodejs.stream.readable"),p=a("nodejs.stream.writable"),g=a("nodejs.stream.disturbed"),b=a("nodejs.webstream.isClosedPromise"),m=a("nodejs.webstream.controllerErrorFunction");function isReadableNodeStream(t,n=!1){var i;return!!(t&&"function"==typeof t.pipe&&"function"==typeof t.on&&(!n||"function"==typeof t.pause&&"function"==typeof t.resume)&&(!t._writableState||(null===(i=t._readableState)||void 0===i?void 0:i.readable)!==!1)&&(!t._writableState||t._readableState))}function isWritableNodeStream(t){var n;return!!(t&&"function"==typeof t.write&&"function"==typeof t.on&&(!t._readableState||(null===(n=t._writableState)||void 0===n?void 0:n.writable)!==!1))}function isNodeStream(t){return t&&(t._readableState||t._writableState||"function"==typeof t.write&&"function"==typeof t.on||"function"==typeof t.pipe&&"function"==typeof t.on)}function isReadableStream(t){return!!(t&&!isNodeStream(t)&&"function"==typeof t.pipeThrough&&"function"==typeof t.getReader&&"function"==typeof t.cancel)}function isWritableStream(t){return!!(t&&!isNodeStream(t)&&"function"==typeof t.getWriter&&"function"==typeof t.abort)}function isTransformStream(t){return!!(t&&!isNodeStream(t)&&"object"==typeof t.readable&&"object"==typeof t.writable)}function isDestroyed(t){if(!isNodeStream(t))return null;let n=t._writableState,i=t._readableState,o=n||i;return!!(t.destroyed||t[l]||null!=o&&o.destroyed)}function isWritableEnded(t){if(!isWritableNodeStream(t))return null;if(!0===t.writableEnded)return!0;let n=t._writableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.ended)?null:n.ended)}function isReadableFinished(t,n){if(!isReadableNodeStream(t))return null;let i=t._readableState;return(null==i||!i.errored)&&("boolean"!=typeof(null==i?void 0:i.endEmitted)?null:!!(i.endEmitted||!1===n&&!0===i.ended&&0===i.length))}function isReadable(t){return t&&null!=t[c]?t[c]:"boolean"!=typeof(null==t?void 0:t.readable)?null:!isDestroyed(t)&&isReadableNodeStream(t)&&t.readable&&!isReadableFinished(t)}function isWritable(t){return t&&null!=t[p]?t[p]:"boolean"!=typeof(null==t?void 0:t.writable)?null:!isDestroyed(t)&&isWritableNodeStream(t)&&t.writable&&!isWritableEnded(t)}function isOutgoingMessage(t){return"boolean"==typeof t._closed&&"boolean"==typeof t._defaultKeepAlive&&"boolean"==typeof t._removedConnection&&"boolean"==typeof t._removedContLen}function isServerResponse(t){return"boolean"==typeof t._sent100&&isOutgoingMessage(t)}t.exports={isDestroyed,kIsDestroyed:l,isDisturbed:function(t){var n;return!!(t&&(null!==(n=t[g])&&void 0!==n?n:t.readableDidRead||t.readableAborted))},kIsDisturbed:g,isErrored:function(t){var n,i,o,s,a,l,c,p,g,b;return!!(t&&(null!==(n=null!==(i=null!==(o=null!==(s=null!==(a=null!==(l=t[d])&&void 0!==l?l:t.readableErrored)&&void 0!==a?a:t.writableErrored)&&void 0!==s?s:null===(c=t._readableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==o?o:null===(p=t._writableState)||void 0===p?void 0:p.errorEmitted)&&void 0!==i?i:null===(g=t._readableState)||void 0===g?void 0:g.errored)&&void 0!==n?n:null===(b=t._writableState)||void 0===b?void 0:b.errored))},kIsErrored:d,isReadable,kIsReadable:c,kIsClosedPromise:b,kControllerErrorFunction:m,kIsWritable:p,isClosed:function(t){if(!isNodeStream(t))return null;if("boolean"==typeof t.closed)return t.closed;let n=t._writableState,i=t._readableState;return"boolean"==typeof(null==n?void 0:n.closed)||"boolean"==typeof(null==i?void 0:i.closed)?(null==n?void 0:n.closed)||(null==i?void 0:i.closed):"boolean"==typeof t._closed&&isOutgoingMessage(t)?t._closed:null},isDuplexNodeStream:function(t){return!!(t&&"function"==typeof t.pipe&&t._readableState&&"function"==typeof t.on&&"function"==typeof t.write)},isFinished:function(t,n){return isNodeStream(t)?!!isDestroyed(t)||!((null==n?void 0:n.readable)!==!1&&isReadable(t)||(null==n?void 0:n.writable)!==!1&&isWritable(t)):null},isIterable:function(t,n){return null!=t&&(!0===n?"function"==typeof t[o]:!1===n?"function"==typeof t[s]:"function"==typeof t[o]||"function"==typeof t[s])},isReadableNodeStream,isReadableStream,isReadableEnded:function(t){if(!isReadableNodeStream(t))return null;if(!0===t.readableEnded)return!0;let n=t._readableState;return!!n&&!n.errored&&("boolean"!=typeof(null==n?void 0:n.ended)?null:n.ended)},isReadableFinished,isReadableErrored:function(t){var n,i;return isNodeStream(t)?t.readableErrored?t.readableErrored:null!==(n=null===(i=t._readableState)||void 0===i?void 0:i.errored)&&void 0!==n?n:null:null},isNodeStream,isWebStream:function(t){return isReadableStream(t)||isWritableStream(t)||isTransformStream(t)},isWritable,isWritableNodeStream,isWritableStream,isWritableEnded,isWritableFinished:function(t,n){if(!isWritableNodeStream(t))return null;if(!0===t.writableFinished)return!0;let i=t._writableState;return(null==i||!i.errored)&&("boolean"!=typeof(null==i?void 0:i.finished)?null:!!(i.finished||!1===n&&!0===i.ended&&0===i.length))},isWritableErrored:function(t){var n,i;return isNodeStream(t)?t.writableErrored?t.writableErrored:null!==(n=null===(i=t._writableState)||void 0===i?void 0:i.errored)&&void 0!==n?n:null:null},isServerRequest:function(t){var n;return"boolean"==typeof t._consuming&&"boolean"==typeof t._dumped&&(null===(n=t.req)||void 0===n?void 0:n.upgradeOrConnect)===void 0},isServerResponse,willEmitClose:function(t){if(!isNodeStream(t))return null;let n=t._writableState,i=t._readableState,o=n||i;return!o&&isServerResponse(t)||!!(o&&o.autoDestroy&&o.emitClose&&!1===o.closed)},isTransformStream}},6304:function(t,n,i){"use strict";let o;let s=i(4155),{ArrayPrototypeSlice:a,Error:l,FunctionPrototypeSymbolHasInstance:d,ObjectDefineProperty:c,ObjectDefineProperties:p,ObjectSetPrototypeOf:g,StringPrototypeToLowerCase:b,Symbol:m,SymbolHasInstance:y}=i(9061);t.exports=Writable,Writable.WritableState=WritableState;let{EventEmitter:w}=i(7187),_=i(4870).Stream,{Buffer:v}=i(8764),S=i(1195),{addAbortSignal:A}=i(196),{getHighWaterMark:P,getDefaultHighWaterMark:T}=i(2457),{ERR_INVALID_ARG_TYPE:R,ERR_METHOD_NOT_IMPLEMENTED:O,ERR_MULTIPLE_CALLBACK:N,ERR_STREAM_CANNOT_PIPE:B,ERR_STREAM_DESTROYED:M,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:x,ERR_STREAM_WRITE_AFTER_END:k,ERR_UNKNOWN_ENCODING:C}=i(4381).codes,{errorOrDestroy:L}=S;function nop(){}g(Writable.prototype,_.prototype),g(Writable,_);let j=m("kOnFinished");function WritableState(t,n,o){"boolean"!=typeof o&&(o=n instanceof i(8672)),this.objectMode=!!(t&&t.objectMode),o&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?P(this,t,"writableHighWaterMark",o):T(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let s=!!(t&&!1===t.decodeStrings);this.decodeStrings=!s,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=onwrite.bind(void 0,n),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,resetBuffer(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||!1!==t.emitClose,this.autoDestroy=!t||!1!==t.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[j]=[]}function resetBuffer(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}function Writable(t){let n=this instanceof i(8672);if(!n&&!d(Writable,this))return new Writable(t);this._writableState=new WritableState(t,this,n),t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&A(t.signal,this)),_.call(this,t),S.construct(this,()=>{let t=this._writableState;t.writing||clearBuffer(this,t),finishMaybe(this,t)})}function _write(t,n,i,o){let a;let l=t._writableState;if("function"==typeof i)o=i,i=l.defaultEncoding;else{if(i){if("buffer"!==i&&!v.isEncoding(i))throw new C(i)}else i=l.defaultEncoding;"function"!=typeof o&&(o=nop)}if(null===n)throw new x;if(!l.objectMode){if("string"==typeof n)!1!==l.decodeStrings&&(n=v.from(n,i),i="buffer");else if(n instanceof v)i="buffer";else if(_._isUint8Array(n))n=_._uint8ArrayToBuffer(n),i="buffer";else throw new R("chunk",["string","Buffer","Uint8Array"],n)}return(l.ending?a=new k:l.destroyed&&(a=new M("write")),a)?(s.nextTick(o,a),L(t,a,!0),a):(l.pendingcb++,function(t,n,i,o,s){let a=n.objectMode?1:i.length;n.length+=a;let l=n.length<n.highWaterMark;return l||(n.needDrain=!0),n.writing||n.corked||n.errored||!n.constructed?(n.buffered.push({chunk:i,encoding:o,callback:s}),n.allBuffers&&"buffer"!==o&&(n.allBuffers=!1),n.allNoop&&s!==nop&&(n.allNoop=!1)):(n.writelen=a,n.writecb=s,n.writing=!0,n.sync=!0,t._write(i,o,n.onwrite),n.sync=!1),l&&!n.errored&&!n.destroyed}(t,l,n,i,o))}function doWrite(t,n,i,o,s,a,l){n.writelen=o,n.writecb=l,n.writing=!0,n.sync=!0,n.destroyed?n.onwrite(new M("write")):i?t._writev(s,n.onwrite):t._write(s,a,n.onwrite),n.sync=!1}function onwriteError(t,n,i,o){--n.pendingcb,o(i),errorBuffer(n),L(t,i)}function onwrite(t,n){let i=t._writableState,o=i.sync,a=i.writecb;if("function"!=typeof a){L(t,new N);return}i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0,n?(n.stack,i.errored||(i.errored=n),t._readableState&&!t._readableState.errored&&(t._readableState.errored=n),o?s.nextTick(onwriteError,t,i,n,a):onwriteError(t,i,n,a)):(i.buffered.length>i.bufferedIndex&&clearBuffer(t,i),o?null!==i.afterWriteTickInfo&&i.afterWriteTickInfo.cb===a?i.afterWriteTickInfo.count++:(i.afterWriteTickInfo={count:1,cb:a,stream:t,state:i},s.nextTick(afterWriteTick,i.afterWriteTickInfo)):afterWrite(t,i,1,a))}function afterWriteTick({stream:t,state:n,count:i,cb:o}){return n.afterWriteTickInfo=null,afterWrite(t,n,i,o)}function afterWrite(t,n,i,o){let s=!n.ending&&!t.destroyed&&0===n.length&&n.needDrain;for(s&&(n.needDrain=!1,t.emit("drain"));i-- >0;)n.pendingcb--,o();n.destroyed&&errorBuffer(n),finishMaybe(t,n)}function errorBuffer(t){var n,i;if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){let{chunk:o,callback:s}=t.buffered[i],a=t.objectMode?1:o.length;t.length-=a,s(null!==(n=t.errored)&&void 0!==n?n:new M("write"))}let o=t[j].splice(0);for(let n=0;n<o.length;n++)o[n](null!==(i=t.errored)&&void 0!==i?i:new M("end"));resetBuffer(t)}function clearBuffer(t,n){if(n.corked||n.bufferProcessing||n.destroyed||!n.constructed)return;let{buffered:i,bufferedIndex:o,objectMode:s}=n,l=i.length-o;if(!l)return;let d=o;if(n.bufferProcessing=!0,l>1&&t._writev){n.pendingcb-=l-1;let o=n.allNoop?nop:t=>{for(let n=d;n<i.length;++n)i[n].callback(t)},s=n.allNoop&&0===d?i:a(i,d);s.allBuffers=n.allBuffers,doWrite(t,n,!0,n.length,s,"",o),resetBuffer(n)}else{do{let{chunk:o,encoding:a,callback:l}=i[d];i[d++]=null;let c=s?1:o.length;doWrite(t,n,!1,c,o,a,l)}while(d<i.length&&!n.writing);d===i.length?resetBuffer(n):d>256?(i.splice(0,d),n.bufferedIndex=0):n.bufferedIndex=d}n.bufferProcessing=!1}function needFinish(t){return t.ending&&!t.destroyed&&t.constructed&&0===t.length&&!t.errored&&0===t.buffered.length&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function finishMaybe(t,n,i){needFinish(n)&&(n.prefinished||n.finalCalled||("function"!=typeof t._final||n.destroyed?(n.prefinished=!0,t.emit("prefinish")):(n.finalCalled=!0,function(t,n){let i=!1;function onFinish(o){if(i){L(t,null!=o?o:N());return}if(i=!0,n.pendingcb--,o){let i=n[j].splice(0);for(let t=0;t<i.length;t++)i[t](o);L(t,o,n.sync)}else needFinish(n)&&(n.prefinished=!0,t.emit("prefinish"),n.pendingcb++,s.nextTick(finish,t,n))}n.sync=!0,n.pendingcb++;try{t._final(onFinish)}catch(t){onFinish(t)}n.sync=!1}(t,n))),0===n.pendingcb&&(i?(n.pendingcb++,s.nextTick((t,n)=>{needFinish(n)?finish(t,n):n.pendingcb--},t,n)):needFinish(n)&&(n.pendingcb++,finish(t,n))))}function finish(t,n){n.pendingcb--,n.finished=!0;let i=n[j].splice(0);for(let t=0;t<i.length;t++)i[t]();if(t.emit("finish"),n.autoDestroy){let n=t._readableState,i=!n||n.autoDestroy&&(n.endEmitted||!1===n.readable);i&&t.destroy()}}WritableState.prototype.getBuffer=function(){return a(this.buffered,this.bufferedIndex)},c(WritableState.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),c(Writable,y,{__proto__:null,value:function(t){return!!d(this,t)||this===Writable&&t&&t._writableState instanceof WritableState}}),Writable.prototype.pipe=function(){L(this,new B)},Writable.prototype.write=function(t,n,i){return!0===_write(this,t,n,i)},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||clearBuffer(this,t))},Writable.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=b(t)),!v.isEncoding(t))throw new C(t);return this._writableState.defaultEncoding=t,this},Writable.prototype._write=function(t,n,i){if(this._writev)this._writev([{chunk:t,encoding:n}],i);else throw new O("_write()")},Writable.prototype._writev=null,Writable.prototype.end=function(t,n,i){let o;let a=this._writableState;if("function"==typeof t?(i=t,t=null,n=null):"function"==typeof n&&(i=n,n=null),null!=t){let i=_write(this,t,n);i instanceof l&&(o=i)}return a.corked&&(a.corked=1,this.uncork()),o||(a.errored||a.ending?a.finished?o=new I("end"):a.destroyed&&(o=new M("end")):(a.ending=!0,finishMaybe(this,a,!0),a.ended=!0)),"function"==typeof i&&(o||a.finished?s.nextTick(i,o):a[j].push(i)),this},p(Writable.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&!1!==t.writable&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return!!t&&!t.destroyed&&!t.ending&&t.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._writableState.writable&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});let F=S.destroy;function lazyWebStreams(){return void 0===o&&(o={}),o}Writable.prototype.destroy=function(t,n){let i=this._writableState;return!i.destroyed&&(i.bufferedIndex<i.buffered.length||i[j].length)&&s.nextTick(errorBuffer,i),F.call(this,t,n),this},Writable.prototype._undestroy=S.undestroy,Writable.prototype._destroy=function(t,n){n(t)},Writable.prototype[w.captureRejectionSymbol]=function(t){this.destroy(t)},Writable.fromWeb=function(t,n){return lazyWebStreams().newStreamWritableFromWritableStream(t,n)},Writable.toWeb=function(t){return lazyWebStreams().newWritableStreamFromStreamWritable(t)}},6547:function(t,n,i){"use strict";let{ArrayIsArray:o,ArrayPrototypeIncludes:s,ArrayPrototypeJoin:a,ArrayPrototypeMap:l,NumberIsInteger:d,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:p,NumberMIN_SAFE_INTEGER:g,NumberParseInt:b,ObjectPrototypeHasOwnProperty:m,RegExpPrototypeExec:y,String:w,StringPrototypeToUpperCase:_,StringPrototypeTrim:v}=i(9061),{hideStackFrames:S,codes:{ERR_SOCKET_BAD_PORT:A,ERR_INVALID_ARG_TYPE:P,ERR_INVALID_ARG_VALUE:T,ERR_OUT_OF_RANGE:R,ERR_UNKNOWN_SIGNAL:O}}=i(4381),{normalizeEncoding:N}=i(6087),{isAsyncFunction:B,isArrayBufferView:M}=i(6087).types,I={},x=/^[0-7]+$/,k=S((t,n,i=g,o=p)=>{if("number"!=typeof t)throw new P(n,"number",t);if(!d(t))throw new R(n,"an integer",t);if(t<i||t>o)throw new R(n,`>= ${i} && <= ${o}`,t)}),C=S((t,n,i=-2147483648,o=2147483647)=>{if("number"!=typeof t)throw new P(n,"number",t);if(!d(t))throw new R(n,"an integer",t);if(t<i||t>o)throw new R(n,`>= ${i} && <= ${o}`,t)}),L=S((t,n,i=!1)=>{if("number"!=typeof t)throw new P(n,"number",t);if(!d(t))throw new R(n,"an integer",t);let o=i?1:0;if(t<o||t>4294967295)throw new R(n,`>= ${o} && <= 4294967295`,t)});function validateString(t,n){if("string"!=typeof t)throw new P(n,"string",t)}let j=S((t,n,i)=>{if(!s(i,t)){let o=a(l(i,t=>"string"==typeof t?`'${t}'`:w(t)),", ");throw new T(n,t,"must be one of: "+o)}});function validateBoolean(t,n){if("boolean"!=typeof t)throw new P(n,"boolean",t)}function getOwnPropertyValueOrDefault(t,n,i){return null!=t&&m(t,n)?t[n]:i}let F=S((t,n,i=null)=>{let s=getOwnPropertyValueOrDefault(i,"allowArray",!1),a=getOwnPropertyValueOrDefault(i,"allowFunction",!1),l=getOwnPropertyValueOrDefault(i,"nullable",!1);if(!l&&null===t||!s&&o(t)||"object"!=typeof t&&(!a||"function"!=typeof t))throw new P(n,"Object",t)}),D=S((t,n)=>{if(null!=t&&"object"!=typeof t&&"function"!=typeof t)throw new P(n,"a dictionary",t)}),W=S((t,n,i=0)=>{if(!o(t))throw new P(n,"Array",t);if(t.length<i){let o=`must be longer than ${i}`;throw new T(n,t,o)}}),U=S((t,n="buffer")=>{if(!M(t))throw new P(n,["Buffer","TypedArray","DataView"],t)}),q=S((t,n)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new P(n,"AbortSignal",t)}),H=S((t,n)=>{if("function"!=typeof t)throw new P(n,"Function",t)}),$=S((t,n)=>{if("function"!=typeof t||B(t))throw new P(n,"Function",t)}),z=S((t,n)=>{if(void 0!==t)throw new P(n,"undefined",t)}),V=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function validateLinkHeaderFormat(t,n){if(void 0===t||!y(V,t))throw new T(n,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:function(t){return t===(0|t)},isUint32:function(t){return t===t>>>0},parseFileMode:function(t,n,i){if(void 0===t&&(t=i),"string"==typeof t){if(null===y(x,t))throw new T(n,t,"must be a 32-bit unsigned integer or an octal string");t=b(t,8)}return L(t,n),t},validateArray:W,validateStringArray:function(t,n){W(t,n);for(let i=0;i<t.length;i++)validateString(t[i],`${n}[${i}]`)},validateBooleanArray:function(t,n){W(t,n);for(let i=0;i<t.length;i++)validateBoolean(t[i],`${n}[${i}]`)},validateAbortSignalArray:function(t,n){W(t,n);for(let i=0;i<t.length;i++){let o=t[i],s=`${n}[${i}]`;if(null==o)throw new P(s,"AbortSignal",o);q(o,s)}},validateBoolean,validateBuffer:U,validateDictionary:D,validateEncoding:function(t,n){let i=N(n),o=t.length;if("hex"===i&&o%2!=0)throw new T("encoding",n,`is invalid for data of length ${o}`)},validateFunction:H,validateInt32:C,validateInteger:k,validateNumber:function(t,n,i,o){if("number"!=typeof t)throw new P(n,"number",t);if(null!=i&&t<i||null!=o&&t>o||(null!=i||null!=o)&&c(t))throw new R(n,`${null!=i?`>= ${i}`:""}${null!=i&&null!=o?" && ":""}${null!=o?`<= ${o}`:""}`,t)},validateObject:F,validateOneOf:j,validatePlainFunction:$,validatePort:function(t,n="Port",i=!0){if("number"!=typeof t&&"string"!=typeof t||"string"==typeof t&&0===v(t).length||+t!=+t>>>0||t>65535||0===t&&!i)throw new A(n,t,i);return 0|t},validateSignalName:function(t,n="signal"){if(validateString(t,n),void 0===I[t]){if(void 0!==I[_(t)])throw new O(t+" (signals must use all capital letters)");throw new O(t)}},validateString,validateUint32:L,validateUndefined:z,validateUnion:function(t,n,i){if(!s(i,t))throw new P(n,`('${a(i,"|")}')`,t)},validateAbortSignal:q,validateLinkHeaderValue:function(t){if("string"==typeof t)return validateLinkHeaderFormat(t,"hints"),t;if(o(t)){let n=t.length,i="";if(0===n)return i;for(let o=0;o<n;o++){let s=t[o];validateLinkHeaderFormat(s,"hints"),i+=s,o!==n-1&&(i+=", ")}return i}throw new T("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},9827:function(t,n,i){"use strict";let o=i(5099),s=i(7854),a=o.Readable.destroy;t.exports=o.Readable,t.exports._uint8ArrayToBuffer=o._uint8ArrayToBuffer,t.exports._isUint8Array=o._isUint8Array,t.exports.isDisturbed=o.isDisturbed,t.exports.isErrored=o.isErrored,t.exports.isReadable=o.isReadable,t.exports.Readable=o.Readable,t.exports.Writable=o.Writable,t.exports.Duplex=o.Duplex,t.exports.Transform=o.Transform,t.exports.PassThrough=o.PassThrough,t.exports.addAbortSignal=o.addAbortSignal,t.exports.finished=o.finished,t.exports.destroy=o.destroy,t.exports.destroy=a,t.exports.pipeline=o.pipeline,t.exports.compose=o.compose,Object.defineProperty(o,"promises",{configurable:!0,enumerable:!0,get:()=>s}),t.exports.Stream=o.Stream,t.exports.default=t.exports},4381:function(t,n,i){"use strict";let{format:o,inspect:s}=i(9082),{AggregateError:a}=i(9061),l=globalThis.AggregateError||a,d=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],p=/^([A-Z][a-z0-9]*)+$/,g={};function assert(t,n){if(!t)throw new g.ERR_INTERNAL_ASSERTION(n)}function addNumericalSeparator(t){let n="",i=t.length,o="-"===t[0]?1:0;for(;i>=o+4;i-=3)n=`_${t.slice(i-3,i)}${n}`;return`${t.slice(0,i)}${n}`}function E(t,n,i){i||(i=Error);let NodeError=class NodeError extends i{constructor(...i){super(function(t,n,i){if("function"==typeof n)return assert(n.length<=i.length,`Code: ${t}; The provided arguments length (${i.length}) does not match the required ones (${n.length}).`),n(...i);let s=(n.match(/%[dfijoOs]/g)||[]).length;return(assert(s===i.length,`Code: ${t}; The provided arguments length (${i.length}) does not match the required ones (${s}).`),0===i.length)?n:o(n,...i)}(t,n,i))}toString(){return`${this.name} [${t}]: ${this.message}`}};Object.defineProperties(NodeError.prototype,{name:{value:i.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),NodeError.prototype.code=t,NodeError.prototype[d]=!0,g[t]=NodeError}function hideStackFrames(t){let n="__node_internal_"+t.name;return Object.defineProperty(t,"name",{value:n}),t}E("ERR_ASSERTION","%s",Error),E("ERR_INVALID_ARG_TYPE",(t,n,i)=>{assert("string"==typeof t,"'name' must be a string"),Array.isArray(n)||(n=[n]);let o="The ";t.endsWith(" argument")?o+=`${t} `:o+=`"${t}" ${t.includes(".")?"property":"argument"} `,o+="must be ";let a=[],l=[],d=[];for(let t of n)assert("string"==typeof t,"All expected entries have to be of type string"),c.includes(t)?a.push(t.toLowerCase()):p.test(t)?l.push(t):(assert("object"!==t,'The value "object" should be written as "Object"'),d.push(t));if(l.length>0){let t=a.indexOf("object");-1!==t&&(a.splice(a,t,1),l.push("Object"))}if(a.length>0){switch(a.length){case 1:o+=`of type ${a[0]}`;break;case 2:o+=`one of type ${a[0]} or ${a[1]}`;break;default:{let t=a.pop();o+=`one of type ${a.join(", ")}, or ${t}`}}(l.length>0||d.length>0)&&(o+=" or ")}if(l.length>0){switch(l.length){case 1:o+=`an instance of ${l[0]}`;break;case 2:o+=`an instance of ${l[0]} or ${l[1]}`;break;default:{let t=l.pop();o+=`an instance of ${l.join(", ")}, or ${t}`}}d.length>0&&(o+=" or ")}switch(d.length){case 0:break;case 1:d[0].toLowerCase()!==d[0]&&(o+="an "),o+=`${d[0]}`;break;case 2:o+=`one of ${d[0]} or ${d[1]}`;break;default:{let t=d.pop();o+=`one of ${d.join(", ")}, or ${t}`}}if(null==i)o+=`. Received ${i}`;else if("function"==typeof i&&i.name)o+=`. Received function ${i.name}`;else if("object"==typeof i){var g;if(null!==(g=i.constructor)&&void 0!==g&&g.name)o+=`. Received an instance of ${i.constructor.name}`;else{let t=s(i,{depth:-1});o+=`. Received ${t}`}}else{let t=s(i,{colors:!1});t.length>25&&(t=`${t.slice(0,25)}...`),o+=`. Received type ${typeof i} (${t})`}return o},TypeError),E("ERR_INVALID_ARG_VALUE",(t,n,i="is invalid")=>{let o=s(n);o.length>128&&(o=o.slice(0,128)+"...");let a=t.includes(".")?"property":"argument";return`The ${a} '${t}' ${i}. Received ${o}`},TypeError),E("ERR_INVALID_RETURN_VALUE",(t,n,i)=>{var o;let s=null!=i&&null!==(o=i.constructor)&&void 0!==o&&o.name?`instance of ${i.constructor.name}`:`type ${typeof i}`;return`Expected ${t} to be returned from the "${n}" function but got ${s}.`},TypeError),E("ERR_MISSING_ARGS",(...t)=>{let n;assert(t.length>0,"At least one arg needs to be specified");let i=t.length;switch(t=(Array.isArray(t)?t:[t]).map(t=>`"${t}"`).join(" or "),i){case 1:n+=`The ${t[0]} argument`;break;case 2:n+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let i=t.pop();n+=`The ${t.join(", ")}, and ${i} arguments`}}return`${n} must be specified`},TypeError),E("ERR_OUT_OF_RANGE",(t,n,i)=>{let o;if(assert(n,'Missing "range" argument'),Number.isInteger(i)&&Math.abs(i)>4294967296)o=addNumericalSeparator(String(i));else if("bigint"==typeof i){o=String(i);let t=BigInt(2)**BigInt(32);(i>t||i<-t)&&(o=addNumericalSeparator(o)),o+="n"}else o=s(i);return`The value of "${t}" is out of range. It must be ${n}. Received ${o}`},RangeError),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),E("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),E("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),E("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),E("ERR_STREAM_WRITE_AFTER_END","write after end",Error),E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:class extends Error{constructor(t="The operation was aborted",n){if(void 0!==n&&"object"!=typeof n)throw new g.ERR_INVALID_ARG_TYPE("options","Object",n);super(t,n),this.code="ABORT_ERR",this.name="AbortError"}},aggregateTwoErrors:hideStackFrames(function(t,n){if(t&&n&&t!==n){if(Array.isArray(n.errors))return n.errors.push(t),n;let i=new l([n,t],n.message);return i.code=n.code,i}return t||n}),hideStackFrames,codes:g}},9061:function(t){"use strict";t.exports={AggregateError:class extends Error{constructor(t){if(!Array.isArray(t))throw TypeError(`Expected input to be an Array, got ${typeof t}`);let n="";for(let i=0;i<t.length;i++)n+=`    ${t[i].stack}
`;super(n),this.name="AggregateError",this.errors=t}},ArrayIsArray:t=>Array.isArray(t),ArrayPrototypeIncludes:(t,n)=>t.includes(n),ArrayPrototypeIndexOf:(t,n)=>t.indexOf(n),ArrayPrototypeJoin:(t,n)=>t.join(n),ArrayPrototypeMap:(t,n)=>t.map(n),ArrayPrototypePop:(t,n)=>t.pop(n),ArrayPrototypePush:(t,n)=>t.push(n),ArrayPrototypeSlice:(t,n,i)=>t.slice(n,i),Error,FunctionPrototypeCall:(t,n,...i)=>t.call(n,...i),FunctionPrototypeSymbolHasInstance:(t,n)=>Function.prototype[Symbol.hasInstance].call(t,n),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(t,n)=>Object.defineProperties(t,n),ObjectDefineProperty:(t,n,i)=>Object.defineProperty(t,n,i),ObjectGetOwnPropertyDescriptor:(t,n)=>Object.getOwnPropertyDescriptor(t,n),ObjectKeys:t=>Object.keys(t),ObjectSetPrototypeOf:(t,n)=>Object.setPrototypeOf(t,n),Promise,PromisePrototypeCatch:(t,n)=>t.catch(n),PromisePrototypeThen:(t,n,i)=>t.then(n,i),PromiseReject:t=>Promise.reject(t),PromiseResolve:t=>Promise.resolve(t),ReflectApply:Reflect.apply,RegExpPrototypeTest:(t,n)=>t.test(n),SafeSet:Set,String,StringPrototypeSlice:(t,n,i)=>t.slice(n,i),StringPrototypeToLowerCase:t=>t.toLowerCase(),StringPrototypeToUpperCase:t=>t.toUpperCase(),StringPrototypeTrim:t=>t.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(t,n,i)=>t.set(n,i),Boolean,Uint8Array}},6087:function(t,n,i){"use strict";let o=i(8764),{format:s,inspect:a}=i(9082),{codes:{ERR_INVALID_ARG_TYPE:l}}=i(4381),{kResistStopPropagation:d,AggregateError:c,SymbolDispose:p}=i(9061),g=globalThis.AbortSignal||i(8599).AbortSignal,b=globalThis.AbortController||i(8599).AbortController,m=Object.getPrototypeOf(async function(){}).constructor,y=globalThis.Blob||o.Blob,validateAbortSignal=(t,n)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new l(n,"AbortSignal",t)},validateFunction=(t,n)=>{if("function"!=typeof t)throw new l(n,"Function",t)};t.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(t){let n=!1;return function(...i){n||(n=!0,t.apply(this,i))}},createDeferredPromise:function(){let t,n;let i=new Promise((i,o)=>{t=i,n=o});return{promise:i,resolve:t,reject:n}},promisify:t=>new Promise((n,i)=>{t((t,...o)=>t?i(t):n(...o))}),debuglog:()=>function(){},format:s,inspect:a,types:{isAsyncFunction:t=>t instanceof m,isArrayBufferView:t=>ArrayBuffer.isView(t)},isBlob:void 0!==y?function(t){return t instanceof y}:function(t){return!1},deprecate:(t,n)=>t,addAbortListener:i(7187).addAbortListener||function(t,n){let i;if(void 0===t)throw new l("signal","AbortSignal",t);return validateAbortSignal(t,"signal"),validateFunction(n,"listener"),t.aborted?queueMicrotask(()=>n()):(t.addEventListener("abort",n,{__proto__:null,once:!0,[d]:!0}),i=()=>{t.removeEventListener("abort",n)}),{__proto__:null,[p](){var t;null===(t=i)||void 0===t||t()}}},AbortSignalAny:g.any||function(t){if(1===t.length)return t[0];let n=new b,abort=()=>n.abort();return t.forEach(t=>{validateAbortSignal(t,"signals"),t.addEventListener("abort",abort,{once:!0})}),n.signal.addEventListener("abort",()=>{t.forEach(t=>t.removeEventListener("abort",abort))},{once:!0}),n.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},9082:function(t){"use strict";t.exports={format:(t,...n)=>t.replace(/%([sdifj])/g,function(...[t,i]){let o=n.shift();if("f"===i)return o.toFixed(6);if("j"===i)return JSON.stringify(o);if("s"!==i||"object"!=typeof o)return o.toString();{let t=o.constructor!==Object?o.constructor.name:"";return`${t} {}`.trim()}}),inspect(t){switch(typeof t){case"string":if(t.includes("'")){if(!t.includes('"'))return`"${t}"`;if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}return`'${t}'`;case"number":if(isNaN(t))return"NaN";if(Object.is(t,-0))return String(t);return t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}},5099:function(t,n,i){"use strict";let{Buffer:o}=i(8764),{ObjectDefineProperty:s,ObjectKeys:a,ReflectApply:l}=i(9061),{promisify:{custom:d}}=i(6087),{streamReturningOperators:c,promiseReturningOperators:p}=i(4382),{codes:{ERR_ILLEGAL_CONSTRUCTOR:g}}=i(4381),b=i(299),{setDefaultHighWaterMark:m,getDefaultHighWaterMark:y}=i(2457),{pipeline:w}=i(9946),{destroyer:_}=i(1195),v=i(8610),S=i(7854),A=i(5874),P=t.exports=i(4870).Stream;for(let t of(P.isDestroyed=A.isDestroyed,P.isDisturbed=A.isDisturbed,P.isErrored=A.isErrored,P.isReadable=A.isReadable,P.isWritable=A.isWritable,P.Readable=i(911),a(c))){let n=c[t];function fn(...t){if(new.target)throw g();return P.Readable.from(l(n,this,t))}s(fn,"name",{__proto__:null,value:n.name}),s(fn,"length",{__proto__:null,value:n.length}),s(P.Readable.prototype,t,{__proto__:null,value:fn,enumerable:!1,configurable:!0,writable:!0})}for(let t of a(p)){let n=p[t];function fn(...t){if(new.target)throw g();return l(n,this,t)}s(fn,"name",{__proto__:null,value:n.name}),s(fn,"length",{__proto__:null,value:n.length}),s(P.Readable.prototype,t,{__proto__:null,value:fn,enumerable:!1,configurable:!0,writable:!0})}P.Writable=i(6304),P.Duplex=i(8672),P.Transform=i(1161),P.PassThrough=i(917),P.pipeline=w;let{addAbortSignal:T}=i(196);P.addAbortSignal=T,P.finished=v,P.destroy=_,P.compose=b,P.setDefaultHighWaterMark=m,P.getDefaultHighWaterMark=y,s(P,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>S}),s(w,d,{__proto__:null,enumerable:!0,get:()=>S.pipeline}),s(v,d,{__proto__:null,enumerable:!0,get:()=>S.finished}),P.Stream=P,P._isUint8Array=function(t){return t instanceof Uint8Array},P._uint8ArrayToBuffer=function(t){return o.from(t.buffer,t.byteOffset,t.byteLength)}},7854:function(t,n,i){"use strict";let{ArrayPrototypePop:o,Promise:s}=i(9061),{isIterable:a,isNodeStream:l,isWebStream:d}=i(5874),{pipelineImpl:c}=i(9946),{finished:p}=i(8610);i(5099),t.exports={finished:p,pipeline:function(...t){return new s((n,i)=>{let s,p;let g=t[t.length-1];if(g&&"object"==typeof g&&!l(g)&&!a(g)&&!d(g)){let n=o(t);s=n.signal,p=n.end}c(t,(t,o)=>{t?i(t):n(o)},{signal:s,end:p})})}}},2553:function(t,n,i){"use strict";var o=i(9509).Buffer,s=o.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function StringDecoder(t){var n;switch(this.encoding=function(t){var n=function(t){var n;if(!t)return"utf8";for(;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(n)return;t=(""+t).toLowerCase(),n=!0}}(t);if("string"!=typeof n&&(o.isEncoding===s||!s(t)))throw Error("Unknown encoding: "+t);return n||t}(t),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,n=4;break;case"utf8":this.fillLast=utf8FillLast,n=4;break;case"base64":this.text=base64Text,this.end=base64End,n=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(n)}function utf8CheckByte(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function utf8FillLast(t){var n=this.lastTotal-this.lastNeed,i=function(t,n,i){if((192&n[0])!=128)return t.lastNeed=0,"";if(t.lastNeed>1&&n.length>1){if((192&n[1])!=128)return t.lastNeed=1,"";if(t.lastNeed>2&&n.length>2&&(192&n[2])!=128)return t.lastNeed=2,""}}(this,t,0);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,n,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(t.copy(this.lastChar,n,0,t.length),this.lastNeed-=t.length)}function utf16Text(t,n){if((t.length-n)%2==0){var i=t.toString("utf16le",n);if(i){var o=i.charCodeAt(i.length-1);if(o>=55296&&o<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",n,t.length-1)}function utf16End(t){var n=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return n+this.lastChar.toString("utf16le",0,i)}return n}function base64Text(t,n){var i=(t.length-n)%3;return 0===i?t.toString("base64",n):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",n,t.length-i))}function base64End(t){var n=t&&t.length?this.write(t):"";return this.lastNeed?n+this.lastChar.toString("base64",0,3-this.lastNeed):n}function simpleWrite(t){return t.toString(this.encoding)}function simpleEnd(t){return t&&t.length?this.write(t):""}n.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(t){var n,i;if(0===t.length)return"";if(this.lastNeed){if(void 0===(n=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?n?n+this.text(t,i):this.text(t,i):n||""},StringDecoder.prototype.end=function(t){var n=t&&t.length?this.write(t):"";return this.lastNeed?n+"":n},StringDecoder.prototype.text=function(t,n){var i=function(t,n,i){var o=n.length-1;if(o<i)return 0;var s=utf8CheckByte(n[o]);return s>=0?(s>0&&(t.lastNeed=s-1),s):--o<i||-2===s?0:(s=utf8CheckByte(n[o]))>=0?(s>0&&(t.lastNeed=s-2),s):--o<i||-2===s?0:(s=utf8CheckByte(n[o]))>=0?(s>0&&(2===s?s=0:t.lastNeed=s-3),s):0}(this,t,n);if(!this.lastNeed)return t.toString("utf8",n);this.lastTotal=i;var o=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,o),t.toString("utf8",n,o)},StringDecoder.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},2479:function(t){t.exports=function wrappy(t,n){if(t&&n)return wrappy(t)(n);if("function"!=typeof t)throw TypeError("need wrapper function");return Object.keys(t).forEach(function(n){wrapper[n]=t[n]}),wrapper;function wrapper(){for(var n=Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=t.apply(this,n),s=n[n.length-1];return"function"==typeof o&&o!==s&&Object.keys(s).forEach(function(t){o[t]=s[t]}),o}}}}]);